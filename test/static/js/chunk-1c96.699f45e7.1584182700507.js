(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1c96","chunk-4331"],{"+Khs":function(e,t,o){"use strict";var a=o("Q2AE"),n={inserted:function(e,t,o){var n=t.value,r=a.a.getters&&a.a.getters.roles;if(!n[0])throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var i=n[0];r.some(function(e){return i.includes(e)})||n[1]===a.a.getters.userId||e.parentNode&&e.parentNode.removeChild(e)}},r=function(e){e.directive("permission2",n)};window.Vue&&(window.permission2=n,Vue.use(r)),n.install=r;t.a=n},"+NBQ":function(e,t,o){"use strict";o.r(t);var a=o("P2sY"),n=o.n(a),r=o("gDS+"),i=o.n(r),l=o("AR14"),s=o("nwry"),c=o("moiu"),p=o("NBqH"),d=o("ZySA"),u=o("Mz3J"),m=o("Q4Eu"),h=o("+Khs"),y=o("41Be"),f=o("XR+3"),g=o("m0KX"),v=o("V6Gs"),_=o("nHb1").a,b=(o("kffy"),o("KHd+")),w=Object(b.a)(_,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"edit",attrs:{visible:e.editVisible,editcontrol:e.editcontrol,editdata:e.editdata,"close-on-press-escape":!1,title:e.personalForm.number+e.$t("updates.xg"),width:"1010px",top:"-10px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){e.$emit("update:editcontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("Hmodule.basicinfo")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,rules:e.personalrules,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.title")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.title,callback:function(t){e.$set(e.personalForm,"title",t)},expression:"personalForm.title"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sourceType"),prop:"sourceType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},on:{change:e.chooseSourceType},model:{value:e.personalForm.sourceType,callback:function(t){e.$set(e.personalForm,"sourceType",t)},expression:"personalForm.sourceType"}},[o("el-option",{attrs:{label:e.$t("prompt.xsdd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.xsht"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.ysd"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.xsjh"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.wly"),value:"5"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.eshsd"),value:"6"}})],1)],1)],1),e._v(" "),"6"===e.personalForm.sourceType?o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ershouNumber")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.sourceNumber,callback:function(t){e.$set(e.personalForm,"sourceNumber",t)},expression:"personalForm.sourceNumber"}})],1)],1):e._e(),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.invoiceNumber")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.invoiceNumber,callback:function(t){e.$set(e.personalForm,"invoiceNumber",t)},expression:"personalForm.invoiceNumber"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerType"),prop:"customerType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.clearCustomer},model:{value:e.personalForm.customerType,callback:function(t){e.$set(e.personalForm,"customerType",t)},expression:"personalForm.customerType"}},[o("el-option",{attrs:{label:e.$t("prompt.jxs"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.ls"),value:"2"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerName"),prop:"customerId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.chooseCustomer},model:{value:e.customerId,callback:function(t){e.customerId=t},expression:"customerId"}}),e._v(" "),o("my-customer",{attrs:{customercontrol:e.customercontrol},on:{"update:customercontrol":function(t){e.customercontrol=t},customerdata:e.customerdata}}),e._v(" "),o("my-agent",{attrs:{agentcontrol:e.agentcontrol},on:{"update:agentcontrol":function(t){e.agentcontrol=t},agentdata:e.agentdata}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerPhone"),prop:"phoneNumber"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.phoneNumber,callback:function(t){e.$set(e.personalForm,"phoneNumber",t)},expression:"personalForm.phoneNumber"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerAccount")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.customerAccount,callback:function(t){e.$set(e.personalForm,"customerAccount",t)},expression:"personalForm.customerAccount"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outType"),prop:"outType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.outType,callback:function(t){e.$set(e.personalForm,"outType",t)},expression:"personalForm.outType"}},[o("el-option",{attrs:{label:e.$t("prompt.xsck"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.hhck"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.yjhx"),value:"3"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.salePersonId"),prop:"salePersonId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseStock},model:{value:e.salePersonId,callback:function(t){e.salePersonId=t},expression:"salePersonId"}}),e._v(" "),o("my-emp",{attrs:{control:e.stockControl},on:{"update:control":function(t){e.stockControl=t},stockName:e.stockName}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleType"),prop:"saleType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.switchsaletype},model:{value:e.personalForm.saleType,callback:function(t){e.$set(e.personalForm,"saleType",t)},expression:"personalForm.saleType"}},[o("el-option",{attrs:{label:e.$t("prompt.xj"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.fq"),value:"2"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sendDate"),prop:"sendDate"}},[o("el-date-picker",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{"picker-options":e.pickerOptions1,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.personalForm.sendDate,callback:function(t){e.$set(e.personalForm,"sendDate",t)},expression:"personalForm.sendDate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.closeType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.settleMode,callback:function(t){e.$set(e.personalForm,"settleMode",t)},expression:"personalForm.settleMode"}},e._l(e.colseTypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.invoiceType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.invoiceType,callback:function(t){e.$set(e.personalForm,"invoiceType",t)},expression:"personalForm.invoiceType"}},e._l(e.invoiceTypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.payType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.payMode,callback:function(t){e.$set(e.personalForm,"payMode",t)},expression:"personalForm.payMode"}},e._l(e.payModes,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.transferPersonId")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseDelivery},model:{value:e.transferPersonId,callback:function(t){e.transferPersonId=t},expression:"transferPersonId"}})],1),e._v(" "),o("my-delivery",{attrs:{deliverycontrol:e.deliverycontrol},on:{"update:deliverycontrol":function(t){e.deliverycontrol=t},deliveryName:e.deliveryName}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleRepositoryId"),prop:"saleRepositoryId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseRep},model:{value:e.saleRepositoryId,callback:function(t){e.saleRepositoryId=t},expression:"saleRepositoryId"}}),e._v(" "),o("my-repository",{attrs:{repositorycontrol:e.repositorycontrol},on:{"update:repositorycontrol":function(t){e.repositorycontrol=t},repositoryname:e.repositoryname}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.address")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.address,callback:function(t){e.$set(e.personalForm,"address",t)},expression:"personalForm.address"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outPersonId")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseAccept},model:{value:e.outPersonId,callback:function(t){e.outPersonId=t},expression:"outPersonId"}})],1),e._v(" "),o("my-accept",{attrs:{accetpcontrol:e.accetpcontrol},on:{"update:accetpcontrol":function(t){e.accetpcontrol=t},acceptName:e.acceptName}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outDate"),prop:"outDate"}},[o("el-date-picker",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{"picker-options":e.pickerOptions1,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.personalForm.outDate,callback:function(t){e.$set(e.personalForm,"outDate",t)},expression:"personalForm.outDate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.pointSupport")+"("+(e.point||0)+")",prop:"pointSupport"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:"1"===e.personalForm.customerType},model:{value:e.personalForm.pointSupport,callback:function(t){e.$set(e.personalForm,"pointSupport",t)},expression:"personalForm.pointSupport"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.couponSupportOld")}},[o("el-input-number",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{controls:!1,step:.1,min:0},on:{blur:e.getReceivableMoney},model:{value:e.personalForm.couponSupportOld,callback:function(t){e.$set(e.personalForm,"couponSupportOld",t)},expression:"personalForm.couponSupportOld"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridMoney")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.ridMoney,callback:function(t){e.$set(e.personalForm,"ridMoney",t)},expression:"personalForm.ridMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridBikeMoney")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.ridBikeMoney,callback:function(t){e.$set(e.personalForm,"ridBikeMoney",t)},expression:"personalForm.ridBikeMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.receivableMoney")}},[e._v("\n              "+e._s(e.personalForm.receivableMoney)+"\n            ")])],1),e._v(" "),e._l(e.personalForm2.couponSupports,function(t,a){return o("el-col",{key:a,attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.couponSupport")+(a+1)}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"130px"},on:{blur:e.changeCoupon},model:{value:t.couponSupport,callback:function(o){e.$set(t,"couponSupport",o)},expression:"item.couponSupport"}}),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:a===e.personalForm2.couponSupports.length-1,expression:"index === personalForm2.couponSupports.length -1"}],attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.addDomain}})],1)],1)}),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.isInvoice")}},[o("el-radio-group",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.isInvoice,callback:function(t){e.$set(e.personalForm,"isInvoice",t)},expression:"personalForm.isInvoice"}},[o("el-radio",{staticStyle:{width:"100px"},attrs:{label:1}},[e._v(e._s(e.$t("updates.yes")))]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("updates.no")))])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("otherlanguage.yskdk")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.advanceMoney,callback:function(t){e.$set(e.personalForm,"advanceMoney",t)},expression:"personalForm.advanceMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.isfree")}},[o("span",[e._v(e._s(e._f("isFreeTypeFilter")(e.personalForm.isFree)))])])],1)],2)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("updates.ckdmx")))]),e._v(" "),o("div",{staticClass:"buttons",staticStyle:{"margin-top":"35px","margin-bottom":"10px"}},[o("el-button",{attrs:{disabled:e.Isproduct},on:{click:e.handleAddproduct}},[e._v(e._s(e.$t("Hmodule.tjsp")))]),e._v(" "),o("my-detail",{attrs:{control:e.control,personalform:e.personalForm},on:{"update:control":function(t){e.control=t},product:e.productdetail}}),e._v(" "),o("el-button",{staticStyle:{width:"130px"},attrs:{disabled:e.IsSourceNumber},on:{click:e.handleAddSource}},[e._v(e._s(e.$t("updates.cydzxz")))]),e._v(" "),o("my-order",{attrs:{ordercontrol:e.ordercontrol},on:{"update:ordercontrol":function(t){e.ordercontrol=t},saleOrderDetail:e.saleOrderDetail,saleOrder:e.saleOrder}}),e._v(" "),o("my-presale",{attrs:{presalecontrol:e.presalecontrol},on:{"update:presalecontrol":function(t){e.presalecontrol=t},advanceOrderDetail:e.advanceOrderDetail,advanceData:e.advanceData}}),e._v(" "),o("my-opportunity",{attrs:{opportunitycontrol:e.opportunitycontrol},on:{"update:opportunitycontrol":function(t){e.opportunitycontrol=t},opportunityDetail:e.opportunityDetail,opportunity:e.opportunity}}),e._v(" "),o("my-contract",{attrs:{contractcontrol:e.contractcontrol},on:{"update:contractcontrol":function(t){e.contractcontrol=t},salecontractDetail:e.salecontractDetail,salecontract:e.salecontract}}),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable.removeSelecteds(),e.test()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.list2,"edit-config":{showIcon:!0,showStatus:!0},"edit-rules":e.validRules,"summary-method":e.getSummaries,stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.list2=t},"selection-change":e.handleSelectionChange}},[o("el-editable-column",{attrs:{type:"selection","min-width":"55",align:"center",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.xh"),"min-width":"55",align:"center",type:"index",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center","min-width":"150",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center","min-width":"150",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.hw"),prop:"location",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getLocationData(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("Hmodule.pc"),prop:"batch",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return["不使用"!==t.row.batch?o("el-select",{staticStyle:{width:"100%"},attrs:{value:t.row.batch,placeholder:e.$t("Hmodule.xcpc"),filterable:"",clearable:""},on:{"visible-change":function(o){e.updatebatch2(o,t)}},model:{value:t.row.batch,callback:function(o){e.$set(t.row,"batch",o)},expression:"scope.row.batch"}},e._l(e.batchlist,function(e,t){return o("el-option",{key:t,attrs:{value:e,label:e}})})):o("span",[e._v(e._s(t.row.batch))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"categoryName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jbdw"),prop:"unit",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ggxh"),prop:"typeName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jxf"),prop:"kpiGrade",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{ref:"haspoint",attrs:{label:e.$t("updates.spjf"),prop:"point",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.cksli"),prop:"quantity",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit5(t.row)?o("el-input-number",{attrs:{precision:2,controls:!1,min:1},on:{change:function(o){e.queryStock(t.row)}},model:{value:t.row.quantity,callback:function(o){e.$set(t.row,"quantity",o)},expression:"scope.row.quantity"}}):o("span",[e._v(e._s(t.row.quantity))])]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckj"),prop:"taxprice",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.gettaxprice(t.row)))])]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.sl"),prop:"taxRate",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1},on:{input:function(o){e.gettaxRate(t.row)}},model:{value:t.row.taxRate,callback:function(o){e.$set(t.row,"taxRate",o)},expression:"scope.row.taxRate"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.se"),prop:"taxMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getTaxMoney2(t.row)))])]}}])}),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckje"),prop:"includeTaxCostMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getincludeTaxCostMoney(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.ckl"),prop:"discountRate",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1,disabled:""},on:{change:function(o){e.getdiscountRate(t.row)}},model:{value:t.row.discountRate,callback:function(o){e.$set(t.row,"discountRate",o)},expression:"scope.row.discountRate"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.cke"),prop:"discountMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1},on:{change:function(o){e.getdiscountMoney(t.row,o,t)}},model:{value:t.row.discountMoney,callback:function(o){e.$set(t.row,"discountMoney",o)},expression:"scope.row.discountMoney"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.cjbm"),prop:"carCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit2(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo(t.row)}},model:{value:t.row.carCode,callback:function(o){e.$set(t.row,"carCode",o)},expression:"scope.row.carCode"}}):o("span",[e._v(e._s(t.row.carCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.djbm"),prop:"motorCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit2(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo3(t.row)}},model:{value:t.row.motorCode,callback:function(o){e.$set(t.row,"motorCode",o)},expression:"scope.row.motorCode"}}):o("span",[e._v(e._s(t.row.motorCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.dcbm"),prop:"batteryCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit4(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo2(t.row)}},model:{value:t.row.batteryCode,callback:function(o){e.$set(t.row,"batteryCode",o)},expression:"scope.row.batteryCode"}}):o("span",[e._v(e._s(t.row.batteryCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ydbh"),prop:"sourceNumber",align:"center","min-width":"150px"}})],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("tongyo.zbthd")))]),e._v(" "),o("div",{staticClass:"buttons",staticStyle:{"margin-top":"58px"}},[o("el-button",{staticStyle:{background:"#3696fd","border-color":"#3696fd"},attrs:{type:"success"},on:{click:e.handleAddreturnproduct}},[e._v(e._s(e.$t("Hmodule.tjsp")))]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable3.removeSelecteds()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),o("my-return",{attrs:{control:e.control2},on:{"update:control":function(t){e.control2=t},product:e.productdetail2}}),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable3",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.returnlist,"edit-config":{showIcon:!0,showStatus:!0},stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.returnlist=t}}},[o("el-editable-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"编号",width:"55",align:"center",type:"index"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{type:"default"},label:e.$t("Hmodule.hw"),prop:"locationId",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{staticStyle:{width:"100%"},attrs:{value:t.row.locationId,placeholder:e.$t("Hmodule.xzhw"),filterable:"",clearable:""},on:{"visible-change":function(o){e.updatebatchreturnpro(o,t)}},model:{value:t.row.locationId,callback:function(o){e.$set(t.row,"locationId",o)},expression:"scope.row.locationId"}},e._l(e.locationlist,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.locationCode}})}))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center",width:"200px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"productCategoryName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.gg"),prop:"productTypeName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.dw"),prop:"unit",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",type:"visible"},label:e.$t("updates.rksl"),prop:"quantity",align:"center",width:"150px"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit5(t.row)?o("el-input-number",{attrs:{controls:!1,min:1},on:{change:function(o){e.returnquanty(t.row)}},model:{value:t.row.quantity,callback:function(o){e.$set(t.row,"quantity",o)},expression:"scope.row.quantity"}}):o("span",[e._v(e._s(t.row.quantity))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.bz"),prop:"remarks",align:"center",width:"150px"}})],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.hjxx")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm2",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,rules:e.personalrules,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji1")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji1,callback:function(t){e.heji1=t},expression:"heji1"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji3")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji3,callback:function(t){e.heji3=t},expression:"heji3"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji4")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji4,callback:function(t){e.heji4=t},expression:"heji4"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji9")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji9,callback:function(t){e.heji9=t},expression:"heji9"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji10")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji10,callback:function(t){e.heji10=t},expression:"heji10"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji11")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{blur:e.getReceivableMoney},model:{value:e.personalForm.otherMoney,callback:function(t){e.$set(e.personalForm,"otherMoney",t)},expression:"personalForm.otherMoney"}})],1)],1)],1)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{position:"fixed",width:"1010px","z-index":"100",height:"74px",bottom:"0"},attrs:{shadow:"never"}},[o("div",{staticClass:"buttons",staticStyle:{float:"right","padding-bottom":"10px"}},[o("el-button",{on:{click:function(t){e.handlecancel()}}},[e._v(e._s(e.$t("Hmodule.cancel")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEditok()}}},[e._v(e._s(e.$t("Hmodule.baoc")))])],1)])],1)},[],!1,null,"79ad5b07",null);w.options.__file="MyDialog2.vue";var S=w.exports,I=o("pPCH").a,$=(o("yKEA"),Object(b.a)(I,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"edit",attrs:{visible:e.editVisible,editcontrol:e.editcontrol,editdata:e.editdata,"close-on-press-escape":!1,title:e.personalForm.number+e.$t("updates.xg"),width:"1010px",top:"-10px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){e.$emit("update:editcontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("Hmodule.basicinfo")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,rules:e.personalrules,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.title")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.title,callback:function(t){e.$set(e.personalForm,"title",t)},expression:"personalForm.title"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sourceType"),prop:"sourceType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},on:{change:e.chooseSourceType},model:{value:e.personalForm.sourceType,callback:function(t){e.$set(e.personalForm,"sourceType",t)},expression:"personalForm.sourceType"}},[o("el-option",{attrs:{label:e.$t("prompt.xsdd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.xsht"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.ysd"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.xsjh"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.wly"),value:"5"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.eshsd"),value:"6"}})],1)],1)],1),e._v(" "),"6"===e.personalForm.sourceType?o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ershouNumber")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.sourceNumber,callback:function(t){e.$set(e.personalForm,"sourceNumber",t)},expression:"personalForm.sourceNumber"}})],1)],1):e._e(),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.invoiceNumber")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.invoiceNumber,callback:function(t){e.$set(e.personalForm,"invoiceNumber",t)},expression:"personalForm.invoiceNumber"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerType"),prop:"customerType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.clearCustomer},model:{value:e.personalForm.customerType,callback:function(t){e.$set(e.personalForm,"customerType",t)},expression:"personalForm.customerType"}},[o("el-option",{attrs:{label:e.$t("prompt.jxs"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.ls"),value:"2"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerName"),prop:"customerId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.chooseCustomer},model:{value:e.customerId,callback:function(t){e.customerId=t},expression:"customerId"}}),e._v(" "),o("my-customer",{attrs:{customercontrol:e.customercontrol},on:{"update:customercontrol":function(t){e.customercontrol=t},customerdata:e.customerdata}}),e._v(" "),o("my-agent",{attrs:{agentcontrol:e.agentcontrol},on:{"update:agentcontrol":function(t){e.agentcontrol=t},agentdata:e.agentdata}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerPhone"),prop:"phoneNumber"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.phoneNumber,callback:function(t){e.$set(e.personalForm,"phoneNumber",t)},expression:"personalForm.phoneNumber"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerAccount")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.customerAccount,callback:function(t){e.$set(e.personalForm,"customerAccount",t)},expression:"personalForm.customerAccount"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outType"),prop:"outType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.outType,callback:function(t){e.$set(e.personalForm,"outType",t)},expression:"personalForm.outType"}},[o("el-option",{attrs:{label:e.$t("prompt.xsck"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.hhck"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.yjhx"),value:"3"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.salePersonId"),prop:"salePersonId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseStock},model:{value:e.salePersonId,callback:function(t){e.salePersonId=t},expression:"salePersonId"}}),e._v(" "),o("my-emp",{attrs:{control:e.stockControl},on:{"update:control":function(t){e.stockControl=t},stockName:e.stockName}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleType"),prop:"saleType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.switchsaletype},model:{value:e.personalForm.saleType,callback:function(t){e.$set(e.personalForm,"saleType",t)},expression:"personalForm.saleType"}},[o("el-option",{attrs:{label:e.$t("prompt.xj"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.fq"),value:"2"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sendDate"),prop:"sendDate"}},[o("el-date-picker",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{"picker-options":e.pickerOptions1,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.personalForm.sendDate,callback:function(t){e.$set(e.personalForm,"sendDate",t)},expression:"personalForm.sendDate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.closeType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.settleMode,callback:function(t){e.$set(e.personalForm,"settleMode",t)},expression:"personalForm.settleMode"}},e._l(e.colseTypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.invoiceType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.invoiceType,callback:function(t){e.$set(e.personalForm,"invoiceType",t)},expression:"personalForm.invoiceType"}},e._l(e.invoiceTypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.payType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.payMode,callback:function(t){e.$set(e.personalForm,"payMode",t)},expression:"personalForm.payMode"}},e._l(e.payModes,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.transferPersonId")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseDelivery},model:{value:e.transferPersonId,callback:function(t){e.transferPersonId=t},expression:"transferPersonId"}})],1),e._v(" "),o("my-delivery",{attrs:{deliverycontrol:e.deliverycontrol},on:{"update:deliverycontrol":function(t){e.deliverycontrol=t},deliveryName:e.deliveryName}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleRepositoryId"),prop:"saleRepositoryId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseRep},model:{value:e.saleRepositoryId,callback:function(t){e.saleRepositoryId=t},expression:"saleRepositoryId"}}),e._v(" "),o("my-repository",{attrs:{repositorycontrol:e.repositorycontrol},on:{"update:repositorycontrol":function(t){e.repositorycontrol=t},repositoryname:e.repositoryname}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.address")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.address,callback:function(t){e.$set(e.personalForm,"address",t)},expression:"personalForm.address"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outPersonId")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseAccept},model:{value:e.outPersonId,callback:function(t){e.outPersonId=t},expression:"outPersonId"}})],1),e._v(" "),o("my-accept",{attrs:{accetpcontrol:e.accetpcontrol},on:{"update:accetpcontrol":function(t){e.accetpcontrol=t},acceptName:e.acceptName}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outDate"),prop:"outDate"}},[o("el-date-picker",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{"picker-options":e.pickerOptions1,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.personalForm.outDate,callback:function(t){e.$set(e.personalForm,"outDate",t)},expression:"personalForm.outDate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.pointSupport")+"("+(e.point||0)+")",prop:"pointSupport"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:"1"===e.personalForm.customerType},model:{value:e.personalForm.pointSupport,callback:function(t){e.$set(e.personalForm,"pointSupport",t)},expression:"personalForm.pointSupport"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.couponSupportOld")}},[o("el-input-number",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{controls:!1,step:.1,min:0},on:{blur:e.getReceivableMoney},model:{value:e.personalForm.couponSupportOld,callback:function(t){e.$set(e.personalForm,"couponSupportOld",t)},expression:"personalForm.couponSupportOld"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridMoney")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.ridMoney,callback:function(t){e.$set(e.personalForm,"ridMoney",t)},expression:"personalForm.ridMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridBikeMoney")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.ridBikeMoney,callback:function(t){e.$set(e.personalForm,"ridBikeMoney",t)},expression:"personalForm.ridBikeMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.receivableMoney")}},[e._v("\n              "+e._s(e.personalForm.receivableMoney)+"\n            ")])],1),e._v(" "),e._l(e.personalForm2.couponSupports,function(t,a){return o("el-col",{key:a,attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.couponSupport")+(a+1)}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"130px"},on:{blur:e.changeCoupon},model:{value:t.couponSupport,callback:function(o){e.$set(t,"couponSupport",o)},expression:"item.couponSupport"}}),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:a===e.personalForm2.couponSupports.length-1,expression:"index === personalForm2.couponSupports.length -1"}],attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.addDomain}})],1)],1)}),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.isInvoice")}},[o("el-radio-group",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.isInvoice,callback:function(t){e.$set(e.personalForm,"isInvoice",t)},expression:"personalForm.isInvoice"}},[o("el-radio",{staticStyle:{width:"100px"},attrs:{label:1}},[e._v(e._s(e.$t("updates.yes")))]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("updates.no")))])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("otherlanguage.yskdk")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.advanceMoney,callback:function(t){e.$set(e.personalForm,"advanceMoney",t)},expression:"personalForm.advanceMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.isfree")}},[o("span",[e._v(e._s(e._f("isFreeTypeFilter")(e.personalForm.isFree)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("tongyo.useType")}},[o("span",[e._v(e._s(e._f("useTypeFilter")(e.personalForm.useType)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("tongyo.useMonth")}},[o("span",[e._v(e._s(e.personalForm.useMonth))])])],1)],2)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("updates.ckdmx")))]),e._v(" "),o("div",{staticClass:"buttons",staticStyle:{"margin-top":"35px","margin-bottom":"10px"}},[o("el-button",{attrs:{disabled:e.Isproduct},on:{click:e.handleAddproduct}},[e._v(e._s(e.$t("Hmodule.tjsp")))]),e._v(" "),o("my-detail",{attrs:{control:e.control,personalform:e.personalForm},on:{"update:control":function(t){e.control=t},product:e.productdetail}}),e._v(" "),o("el-button",{staticStyle:{width:"130px"},attrs:{disabled:e.IsSourceNumber},on:{click:e.handleAddSource}},[e._v(e._s(e.$t("updates.cydzxz")))]),e._v(" "),o("my-order",{attrs:{ordercontrol:e.ordercontrol},on:{"update:ordercontrol":function(t){e.ordercontrol=t},saleOrderDetail:e.saleOrderDetail,saleOrder:e.saleOrder}}),e._v(" "),o("my-presale",{attrs:{presalecontrol:e.presalecontrol},on:{"update:presalecontrol":function(t){e.presalecontrol=t},advanceOrderDetail:e.advanceOrderDetail,advanceData:e.advanceData}}),e._v(" "),o("my-opportunity",{attrs:{opportunitycontrol:e.opportunitycontrol},on:{"update:opportunitycontrol":function(t){e.opportunitycontrol=t},opportunityDetail:e.opportunityDetail,opportunity:e.opportunity}}),e._v(" "),o("my-contract",{attrs:{contractcontrol:e.contractcontrol},on:{"update:contractcontrol":function(t){e.contractcontrol=t},salecontractDetail:e.salecontractDetail,salecontract:e.salecontract}}),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable.removeSelecteds(),e.test()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.list2,"edit-config":{showIcon:!0,showStatus:!0},"edit-rules":e.validRules,"summary-method":e.getSummaries,stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.list2=t},"selection-change":e.handleSelectionChange}},[o("el-editable-column",{attrs:{type:"selection","min-width":"55",align:"center",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.xh"),"min-width":"55",align:"center",type:"index",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center","min-width":"150",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center","min-width":"150",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.hw"),prop:"location",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getLocationData(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("Hmodule.pc"),prop:"batch",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return["不使用"!==t.row.batch?o("el-select",{staticStyle:{width:"100%"},attrs:{value:t.row.batch,placeholder:e.$t("Hmodule.xcpc"),filterable:"",clearable:""},on:{"visible-change":function(o){e.updatebatch2(o,t)}},model:{value:t.row.batch,callback:function(o){e.$set(t.row,"batch",o)},expression:"scope.row.batch"}},e._l(e.batchlist,function(e,t){return o("el-option",{key:t,attrs:{value:e,label:e}})})):o("span",[e._v(e._s(t.row.batch))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"categoryName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jbdw"),prop:"unit",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ggxh"),prop:"typeName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jxf"),prop:"kpiGrade",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{ref:"haspoint",attrs:{label:e.$t("updates.spjf"),prop:"point",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.cksli"),prop:"quantity",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit5(t.row)?o("el-input-number",{attrs:{precision:2,controls:!1,min:1},on:{change:function(o){e.queryStock(t.row)}},model:{value:t.row.quantity,callback:function(o){e.$set(t.row,"quantity",o)},expression:"scope.row.quantity"}}):o("span",[e._v(e._s(t.row.quantity))])]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckj"),prop:"taxprice",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.gettaxprice(t.row)))])]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.sl"),prop:"taxRate",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1},on:{input:function(o){e.gettaxRate(t.row)}},model:{value:t.row.taxRate,callback:function(o){e.$set(t.row,"taxRate",o)},expression:"scope.row.taxRate"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.se"),prop:"taxMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getTaxMoney2(t.row)))])]}}])}),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckje"),prop:"includeTaxCostMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getincludeTaxCostMoney(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.ckl"),prop:"discountRate",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1,disabled:""},on:{change:function(o){e.getdiscountRate(t.row)}},model:{value:t.row.discountRate,callback:function(o){e.$set(t.row,"discountRate",o)},expression:"scope.row.discountRate"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.cke"),prop:"discountMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1},on:{change:function(o){e.getdiscountMoney(t.row,o,t)}},model:{value:t.row.discountMoney,callback:function(o){e.$set(t.row,"discountMoney",o)},expression:"scope.row.discountMoney"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.cjbm"),prop:"carCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit2(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo(t.row)}},model:{value:t.row.carCode,callback:function(o){e.$set(t.row,"carCode",o)},expression:"scope.row.carCode"}}):o("span",[e._v(e._s(t.row.carCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.djbm"),prop:"motorCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit2(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo3(t.row)}},model:{value:t.row.motorCode,callback:function(o){e.$set(t.row,"motorCode",o)},expression:"scope.row.motorCode"}}):o("span",[e._v(e._s(t.row.motorCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.dcbm"),prop:"batteryCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit4(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo2(t.row)}},model:{value:t.row.batteryCode,callback:function(o){e.$set(t.row,"batteryCode",o)},expression:"scope.row.batteryCode"}}):o("span",[e._v(e._s(t.row.batteryCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ydbh"),prop:"sourceNumber",align:"center","min-width":"150px"}})],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("tongyo.zbthd")))]),e._v(" "),o("div",{staticClass:"buttons",staticStyle:{"margin-top":"58px"}},[o("el-button",{staticStyle:{background:"#3696fd","border-color":"#3696fd"},attrs:{type:"success"},on:{click:e.handleAddreturnproduct}},[e._v(e._s(e.$t("Hmodule.tjsp")))]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable3.removeSelecteds()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),o("my-return",{attrs:{control:e.control2},on:{"update:control":function(t){e.control2=t},product:e.productdetail2}}),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable3",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.returnlist,"edit-config":{showIcon:!0,showStatus:!0},stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.returnlist=t}}},[o("el-editable-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"编号",width:"55",align:"center",type:"index"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{type:"default"},label:e.$t("Hmodule.hw"),prop:"locationId",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{staticStyle:{width:"100%"},attrs:{value:t.row.locationId,placeholder:e.$t("Hmodule.xzhw"),filterable:"",clearable:""},on:{"visible-change":function(o){e.updatebatchreturnpro(o,t)}},model:{value:t.row.locationId,callback:function(o){e.$set(t.row,"locationId",o)},expression:"scope.row.locationId"}},e._l(e.locationlist,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.locationCode}})}))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center",width:"200px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"productCategoryName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.gg"),prop:"productTypeName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.dw"),prop:"unit",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",type:"visible"},label:e.$t("updates.rksl"),prop:"quantity",align:"center",width:"150px"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit5(t.row)?o("el-input-number",{attrs:{controls:!1,min:1},on:{change:function(o){e.returnquanty(t.row)}},model:{value:t.row.quantity,callback:function(o){e.$set(t.row,"quantity",o)},expression:"scope.row.quantity"}}):o("span",[e._v(e._s(t.row.quantity))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.bz"),prop:"remarks",align:"center",width:"150px"}})],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.hjxx")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm2",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,rules:e.personalrules,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji1")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji1,callback:function(t){e.heji1=t},expression:"heji1"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji3")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji3,callback:function(t){e.heji3=t},expression:"heji3"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji4")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji4,callback:function(t){e.heji4=t},expression:"heji4"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji9")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji9,callback:function(t){e.heji9=t},expression:"heji9"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji10")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji10,callback:function(t){e.heji10=t},expression:"heji10"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji11")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{blur:e.getReceivableMoney},model:{value:e.personalForm.otherMoney,callback:function(t){e.$set(e.personalForm,"otherMoney",t)},expression:"personalForm.otherMoney"}})],1)],1)],1)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{position:"fixed",width:"1010px","z-index":"100",height:"74px",bottom:"0"},attrs:{shadow:"never"}},[o("div",{staticClass:"buttons",staticStyle:{float:"right","padding-bottom":"10px"}},[o("el-button",{on:{click:function(t){e.handlecancel()}}},[e._v(e._s(e.$t("Hmodule.cancel")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEditok()}}},[e._v(e._s(e.$t("Hmodule.baoc")))])],1)])],1)},[],!1,null,"92dc2a64",null));$.options.__file="MyDialog3.vue";var x,C=$.exports,k=o("IuxZ"),M=o("gXWC"),N=o("rnM8"),P=o("9QBK"),F={name:"SaleOutList",directives:{waves:d.a,permission:m.a,permission2:h.a},components:{MyDialog3:C,MyDialog2:S,MyRepository:P.a,MyAccept:N.a,MyDialog:v.a,DetailList:g.a,MyEmp:f.a,MyCustomer:k.a,MyAgent:M.a,Pagination:u.a},filters:{saleTypeFilter:function(e){return{1:x.$t("prompt.xj"),2:x.$t("prompt.fq")}[e]},judgeStatFilter:function(e){return{0:x.$t("updates.wsh"),1:x.$t("updates.shz"),2:x.$t("Hmodule.shtg"),3:x.$t("Hmodule.shbtg"),4:x.$t("collectAndPay.lsbc")}[e]},receiptStatFilter:function(e){return{1:x.$t("updates.zd"),2:x.$t("updates.zx"),3:x.$t("updates.jd")}[e]},stockTypeFilter:function(e){return{1:"采购1"}[e]},sendTypeFilter:function(e){return{1:"已发货",2:"未发货"}[e]}},data:function(){return{batteryreturn:!1,returncontrol:!1,downloadLoading2:!1,saleRepositoryId:"",repositorycontrol:!1,outPersonId:"",accetpcontrol:!1,customerName:"",customercontrol:!1,agentcontrol:!1,typeparms:{pagenum:1,pagesize:99999},types:[],depts:[],reviewParms:{id:"",judgePersonId:"",judgeStat:""},detailvisible:!1,visible2:!1,supplierId:"",empcontrol:!1,stockPersonId:"",stockControl:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds},personalForm:{},editVisible:!1,date:[]}},activated:function(){this.getlist()},mounted:function(){this.getlist()},beforeCreate:function(){x=this},methods:{handlevoucherparms:function(){var e=this;if(0===this.moreaction.length)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxzdj"),offset:100}),!1;if(this.moreaction.length>1)return this.$notify.error({title:"wrong",message:this.$t("prompt.qbyxzdgdj"),offset:100}),!1;if(3!==this.moreaction[0].receiptStat)return this.$notify.error({title:"wrong",message:this.$t("prompt.gdjwjd"),offset:100}),!1;this.downloadLoading2=!0,console.log("this.moreaction",this.moreaction);var t={sourceNumber:this.moreaction[0].number,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds},o=this.moreaction[0].id,a=this;Object(l.q)(t).then(function(t){if(200===t.data.ret){if(0!==t.data.data.content.length)return a.$notify.error({title:"wrong",message:a.$t("tongyo.gdjyscpz"),offset:100}),!1;Object(l.h)(o).then(function(t){200===t.data.ret&&(a.$message({type:"success",message:a.$t("tongyo.xsckscpzcg")}),Object(l.g)(o).then(function(e){200===e.data.ret&&a.$message({type:"success",message:a.$t("tongyo.xscbscpzcg")})}),e.downloadLoading2=!1)}),e.downloadLoading2=!1}e.downloadLoading2=!1})},handleReview3:function(e){var t=this;this.reviewParms={},this.reviewParms.id=e.id,this.$confirm(this.$t("prompt.qfjd"),this.$t("prompt.fjd"),{distinguishCancelAndClose:!0,confirmButtonText:this.$t("prompt.fjd"),type:"warning"}).then(function(){t.reviewParms.receiptStat=2;var e=i()(t.reviewParms);Object(s.e)(e).then(function(e){200===e.data.ret&&(t.$message({type:"success",message:t.$t("prompt.fjdcg")}),t.getlist())})})},isReview3:function(e){if(3===e.receiptStat)return!0},isReview4:function(e){if(2===e.judgeStat&&null===e.confirmPersonId)return!0},handleEdit2:function(e){var t=this;this.reviewParms={},this.reviewParms.id=e.id,this.reviewParms.confirmPersonId=this.$store.getters.userId,this.$confirm(this.$t("prompt.sfqrhwyck"),this.$t("prompt.qd"),{distinguishCancelAndClose:!0,confirmButtonText:this.$t("prompt.qd"),type:"warning"}).then(function(){var e=i()(t.reviewParms);Object(s.e)(e).then(function(e){200===e.data.ret?(t.$message({type:"success",message:t.$t("prompt.qrcg")}),t.getlist()):t.$notify.error({title:"wrong",message:e.data.msg,offset:100})})})},handleReceipt:function(e){console.log(e),this.$store.dispatch("getempcontract",e),this.$router.push("/DeliverGoods/AddDeliverGoods")},checkPermission:y.a,handlechooseRep:function(){this.repositorycontrol=!0},repositoryname:function(e){this.saleRepositoryId=e.repositoryName,this.getemplist.saleRepositoryId=e.id},handlechooseAccept:function(){this.accetpcontrol=!0},acceptName:function(e){this.outPersonId=e.personName,this.getemplist.outPersonId=e.id},selectInit:function(e,t){return 0===e.judgeStat},clearCustomer:function(){this.getemplist.customerId="",this.customerName=""},chooseCustomer:function(){"1"===this.getemplist.customerType?this.agentcontrol=!0:"2"===this.getemplist.customerType&&(this.customercontrol=!0)},customerdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.customerName},agentdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.agentName},updatecountry:function(){this.getlist()},getlist:function(){var e=this;this.listLoading=!0,Object(s.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(c.p)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(p.c)(this.typeparms).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.outPersonId="",this.getemplist.outPersonId=""},restFilter2:function(){this.stockPersonId="",this.getemplist.stockPersonId=""},restFilter4:function(){this.saleRepositoryId="",this.getemplist.saleRepositoryId=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,null!==this.getemplist.customerName&&void 0!==this.getemplist.customerName&&""!==this.getemplist.customerName?this.getemplist.customerType=2:this.getemplist.customerType=null,Object(s.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){this.stockPersonId=e.personName,this.getemplist.stockPersonId=e.id},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierId=e.supplierName,this.getemplist.supplierId=e.id},handleEdit:function(e){console.log(e),1===e.isFree&&null===e.useMonth&&null===e.useType?this.returncontrol=!0:null!==e.useMonth&&void 0!==e.useMonth&&""!==e.useMonth&&null!==e.useType&&void 0!==e.useType&&""!==e.useType?this.batteryreturn=!0:this.editVisible=!0,this.personalForm=n()({},e),this.personalForm.sourceType=String(e.sourceType),null!==e.currency&&(this.personalForm.currency=String(e.currency)),null!==e.customerType&&(this.personalForm.customerType=String(e.customerType)),null!==e.payMode&&(this.personalForm.payMode=e.payMode),null!==e.saleType&&(this.personalForm.saleType=String(e.saleType)),null!==e.payType&&(this.personalForm.payType=String(e.payType)),null!==e.outType&&(this.personalForm.outType=String(e.outType))},refreshlist:function(e){!0===e&&this.getlist()},handleDetail:function(e){console.log(e),this.detailvisible=!0,this.personalForm=n()({},e)},isReview:function(e){if(""!==e.approvalUseVos&&null!==e.approvalUseVos&&void 0!==e.approvalUseVos&&0!==e.approvalUseVos.length){var t=e.approvalUseVos;if(t[t.length-1].stepHandler.indexOf(","+this.$store.getters.userId+",")>-1&&(1===e.judgeStat||0===e.judgeStat))return!0}},handleReview:function(e){var t=this;this.reviewParms={},this.reviewParms.id=e.id,this.reviewParms.judgePersonId=this.$store.getters.userId,this.$confirm(this.$t("prompt.qsh"),this.$t("prompt.sh"),{distinguishCancelAndClose:!0,confirmButtonText:this.$t("prompt.tg"),cancelButtonText:this.$t("prompt.btg"),type:"warning"}).then(function(){t.reviewParms.judgeStat=2;var e=i()(t.reviewParms);Object(s.e)(e).then(function(e){200===e.data.ret&&(t.$message({type:"success",message:t.$t("prompt.shcg")}),t.getlist())})}).catch(function(e){if("cancel"===e){t.reviewParms.judgeStat=3;var o=i()(t.reviewParms);Object(s.e)(o).then(function(e){200===e.data.ret&&(t.$message({type:"success",message:t.$t("prompt.shcg")}),t.getlist())})}})},handleReview4:function(e){var t=this;this.reviewParms={},this.reviewParms.id=e.id,this.reviewParms.judgePersonId=this.$store.getters.userId,this.$confirm(this.$t("prompt.qfsp"),this.$t("prompt.fsp"),{distinguishCancelAndClose:!0,confirmButtonText:this.$t("prompt.fsp"),type:"warning"}).then(function(){t.reviewParms.judgeStat=0;var e=i()(t.reviewParms);Object(s.e)(e).then(function(e){200===e.data.ret&&(!1===e.data.data.result?t.$message({type:"error",message:t.$t("prompt.fspsb")}):t.$message({type:"success",message:t.$t("prompt.fspcg")}),t.getlist())})})},handleSelectionChange:function(e){this.moreaction=e},handleCommand:function(e){var t=this,o=this.moreaction.map(function(e){return e.id}).join();"delete"===e&&this.$confirm(this.$t("prompt.scts"),this.$t("prompt.ts"),{confirmButtonText:this.$t("prompt.qd"),cancelButtonText:this.$t("prompt.qx"),type:"warning"}).then(function(){Object(s.b)(o,t.$store.getters.userId).then(function(e){200===e.data.ret||100===e.data.ret?(t.$notify({title:t.$t("prompt.sccg"),type:"success",offset:100}),t.getlist()):t.$notify.error({title:"wrong",message:"wrong",offset:100})})}).catch(function(){t.$message({type:"info",message:t.$t("prompt.yqxsc")})}),"review"===e&&this.$confirm("此操作将批量审查文件, 是否继续?",this.$t("prompt.ts"),{confirmButtonText:this.$t("prompt.qd"),cancelButtonText:this.$t("prompt.qx"),type:"warning"}).then(function(){console.log("审查")}).catch(function(){t.$message({type:"info",message:"已取消审批"})})},handleDelete:function(e){var t=this;this.$confirm(this.$t("prompt.scts"),this.$t("prompt.ts"),{confirmButtonText:this.$t("prompt.qd"),cancelButtonText:this.$t("prompt.qx"),type:"warning"}).then(function(){Object(s.b)(e.id,t.$store.getters.userId).then(function(e){200===e.data.ret||100===e.data.ret?(t.$notify({title:t.$t("prompt.sccg"),type:"success",offset:100}),t.getlist()):t.$notify.error({title:"wrong",message:"wrong",offset:100})})}).catch(function(){t.$message({type:"info",message:t.$t("prompt.yqxsc")})})},handleAdd:function(){this.$router.push("/SaleOut/AddSaleOut")},handleAdd2:function(){this.$router.push("/SaleOut/AddSaleOut2")},handleExport:function(){var e=this;this.downloadLoading=!0,Promise.all([o.e("chunk-ef4a"),o.e("chunk-069c")]).then(o.bind(null,"S/jZ")).then(function(t){var o=e.formatJson(["id","SaleOutName","SaleOutShortName","typeName","regionName","buyerName","levelName","createName","createTime"],e.list);t.export_json_to_excel({header:["供应商编号","供应商名称","供应商简称","供应商类别","所在区域","采购员","供应商优质级别","建档人","建档日期"],data:o,filename:"经销商资料表"}),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})},handlePrint:function(){console.log(456)},updatedept:function(){this.getlist()},handlechooseDelivery:function(){this.deliverycontrol=!0},deliveryName:function(e){this.deliveryPersonId=e.personName,this.getemplist.deliveryPersonId=e.id}}},O=(o("ScKG"),Object(b.a)(F,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ERP-container"},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("SaleOut.title"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.title,callback:function(t){e.$set(e.getemplist,"title",t)},expression:"getemplist.title"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("updates.ckdbh"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.number,callback:function(t){e.$set(e.getemplist,"number",t)},expression:"getemplist.number"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("SaleOut.outPersonId")},on:{focus:e.handlechooseAccept,clear:e.restFilter},model:{value:e.outPersonId,callback:function(t){e.outPersonId=t},expression:"outPersonId"}}),e._v(" "),o("my-accept",{attrs:{accetpcontrol:e.accetpcontrol},on:{"update:accetpcontrol":function(t){e.accetpcontrol=t},acceptName:e.acceptName}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-input",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("SaleOut.saleRepositoryId"),clearable:""},on:{clear:e.restFilter4,focus:e.handlechooseRep},model:{value:e.saleRepositoryId,callback:function(t){e.saleRepositoryId=t},expression:"saleRepositoryId"}}),e._v(" "),o("my-repository",{attrs:{repositorycontrol:e.repositorycontrol},on:{"update:repositorycontrol":function(t){e.repositorycontrol=t},repositoryname:e.repositoryname}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{value:e.getemplist.receiptStat,placeholder:e.$t("updates.djzt"),clearable:""},model:{value:e.getemplist.receiptStat,callback:function(t){e.$set(e.getemplist,"receiptStat",t)},expression:"getemplist.receiptStat"}},[o("el-option",{attrs:{label:e.$t("updates.zd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.zx"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.jd"),value:"3"}})],1),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{value:e.getemplist.judgeStat,placeholder:e.$t("updates.spzt"),clearable:""},model:{value:e.getemplist.judgeStat,callback:function(t){e.$set(e.getemplist,"judgeStat",t)},expression:"getemplist.judgeStat"}},[o("el-option",{attrs:{label:e.$t("updates.wsh"),value:"0"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shz"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shtg"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shptg"),value:"3"}})],1),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{placeholder:e.$t("updates2.customerName"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.customerName,callback:function(t){e.$set(e.getemplist,"customerName",t)},expression:"getemplist.customerName"}}),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{placeholder:e.$t("updates.cjbm"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.carCode,callback:function(t){e.$set(e.getemplist,"carCode",t)},expression:"getemplist.carCode"}}),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{placeholder:e.$t("updates.djbm"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.motorCode,callback:function(t){e.$set(e.getemplist,"motorCode",t)},expression:"getemplist.motorCode"}}),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{placeholder:e.$t("updates.dcbm"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.batteryCode,callback:function(t){e.$set(e.getemplist,"batteryCode",t)},expression:"getemplist.batteryCode"}}),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px","margin-top":"20px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["266-373-1"],expression:"['266-373-1']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{loading:e.downloadLoading2,icon:"el-icon-tickets"},on:{click:e.handlevoucherparms}},[e._v(e._s(e.$t("otherlanguage.newvoucher")))]),e._v(" "),o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-6"],expression:"['54-55-6']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{loading:e.downloadLoading},on:{click:e.handleExport}},[o("svg-icon",{attrs:{"icon-class":"daochu"}}),e._v(e._s(e.$t("public.export")))],1),e._v(" "),o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-7"],expression:"['54-55-7']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-printer"},on:{click:e.handlePrint}},[e._v(e._s(e.$t("public.print")))]),e._v(" "),o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-1"],expression:"['54-55-1']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))]),e._v(" "),o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-1"],expression:"['54-55-1']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"110px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd2}},[e._v("创建补单")])],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55",fixed:"left",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,fixed:"left",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticClass:"link-type",on:{click:function(o){e.handleDetail(t.row)}}},[e._v(e._s(t.row.number))])]}}])},[o("detail-list",{attrs:{detailcontrol:e.detailvisible,detaildata:e.personalForm},on:{"update:detailcontrol":function(t){e.detailvisible=t},"update:detaildata":function(t){e.personalForm=t}}})],1),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOut.title"),resizable:!1,fixed:"left",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOut.customerName"),resizable:!1,fixed:"left",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOut.outPersonId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.confirmPersonName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOut.saleType"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("saleTypeFilter")(t.row.saleType)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOut.outDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.outDate))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOut.saleRepositoryId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.saleRepositoryName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.judgeStat"),resizable:!1,prop:"judgeStat",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("judgeStatFilter")(t.row.judgeStat)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.receiptStat"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("receiptStatFilter")(t.row.receiptStat)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.actions"),resizable:!1,align:"center","min-width":"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-98"],expression:"['54-55-98']"},{name:"show",rawName:"v-show",value:2===t.row.judgeStat&&null===t.row.confirmPersonId,expression:"scope.row.judgeStat === 2&&scope.row.confirmPersonId === null"}],attrs:{title:"确认",type:"primary",size:"mini",icon:"el-icon-check",circle:""},on:{click:function(o){e.handleEdit2(t.row)}}}),e._v(" "),o("el-button",{directives:[{name:"permission2",rawName:"v-permission2",value:["54-55-3",t.row.createPersonId],expression:"['54-55-3', scope.row.createPersonId]"},{name:"show",rawName:"v-show",value:0===t.row.judgeStat||4===t.row.judgeStat,expression:"scope.row.judgeStat === 0||scope.row.judgeStat === 4"}],attrs:{title:e.$t("updates.xg"),type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(o){e.handleEdit(t.row)}}}),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isReview(t.row),expression:"isReview(scope.row)"}],attrs:{title:e.$t("updates.spi"),type:"warning",size:"mini",icon:"el-icon-view",circle:""},on:{click:function(o){e.handleReview(t.row)}}}),e._v(" "),o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-76"],expression:"['54-55-76']"},{name:"show",rawName:"v-show",value:e.isReview4(t.row),expression:"isReview4(scope.row)"}],attrs:{title:e.$t("updates.fsp"),type:"warning",size:"mini",circle:""},on:{click:function(o){e.handleReview4(t.row)}}},[o("svg-icon",{attrs:{"icon-class":"fanhui"}})],1),e._v(" "),o("el-button",{directives:[{name:"permission2",rawName:"v-permission2",value:["54-55-2",t.row.createPersonId],expression:"['54-55-2', scope.row.createPersonId]"},{name:"show",rawName:"v-show",value:0===t.row.judgeStat||4===t.row.judgeStat,expression:"scope.row.judgeStat === 0||scope.row.judgeStat === 4"}],attrs:{title:e.$t("updates.sc"),size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(o){e.handleDelete(t.row)}}}),e._v(" "),o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-49"],expression:"['54-55-49']"},{name:"waves",rawName:"v-waves"},{name:"show",rawName:"v-show",value:2===t.row.judgeStat&&1===t.row.isDeliver&&"1"===t.row.customerType,expression:"scope.row.judgeStat === 2&&scope.row.isDeliver === 1&&scope.row.customerType ==='1' "}],staticClass:"filter-item",staticStyle:{width:"82px"},attrs:{type:"primary"},on:{click:function(o){e.handleReceipt(t.row)}}},[o("span",{staticStyle:{"margin-left":"-15px"}},[e._v("生成配送单")])]),e._v(" "),o("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["54-55-17"],expression:"['54-55-17']"},{name:"show",rawName:"v-show",value:e.isReview3(t.row),expression:"isReview3(scope.row)"}],attrs:{title:e.$t("updates.fjd"),type:"success",size:"mini",icon:"el-icon-back",circle:""},on:{click:function(o){e.handleReview3(t.row)}}})]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pageNum,limit:e.getemplist.pageSize},on:{"update:page":function(t){e.$set(e.getemplist,"pageNum",t)},"update:limit":function(t){e.$set(e.getemplist,"pageSize",t)},pagination:e.getlist}}),e._v(" "),o("my-dialog",{attrs:{editcontrol:e.editVisible,editdata:e.personalForm},on:{"update:editcontrol":function(t){e.editVisible=t},"update:editdata":function(t){e.personalForm=t},rest:e.refreshlist}}),e._v(" "),o("my-dialog2",{attrs:{editcontrol:e.returncontrol,editdata:e.personalForm},on:{"update:editcontrol":function(t){e.returncontrol=t},"update:editdata":function(t){e.personalForm=t},rest:e.refreshlist}}),e._v(" "),o("my-dialog3",{attrs:{editcontrol:e.batteryreturn,editdata:e.personalForm},on:{"update:editcontrol":function(t){e.batteryreturn=t},"update:editdata":function(t){e.personalForm=t},rest:e.refreshlist}})],1)],1)},[],!1,null,"bee55f5a",null));O.options.__file="SaleOutList.vue";t.default=O.exports},"/GDS":function(e,t,o){},"/PQ/":function(e,t,o){"use strict";o.d(t,"h",function(){return n}),o.d(t,"m",function(){return r}),o.d(t,"p",function(){return i}),o.d(t,"j",function(){return l}),o.d(t,"b",function(){return s}),o.d(t,"i",function(){return c}),o.d(t,"n",function(){return p}),o.d(t,"f",function(){return d}),o.d(t,"l",function(){return u}),o.d(t,"c",function(){return m}),o.d(t,"g",function(){return h}),o.d(t,"k",function(){return y}),o.d(t,"a",function(){return f}),o.d(t,"o",function(){return g}),o.d(t,"e",function(){return v}),o.d(t,"d",function(){return _});var a=o("t3Un");function n(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("productCode",e),""!==t&&null!==t&&void 0!==t&&o.append("quantity",t),Object(a.a)({url:"supplierStock/getStockInfoByProduct",method:"post",data:o})}function r(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("productCode",e),Object(a.a)({url:"supplierStock/supplierDetail",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("supplierDetailJson",e),Object(a.a)({url:"supplierStock/updateSupplierDetail",method:"post",data:t})}function l(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("type",e),t.append("pagenum",1),t.append("pagesize",9999),Object(a.a)({url:"/supplierCategory/searchCategory",method:"post",data:t})}function s(e,t){var o=new URLSearchParams;return""!==e.supplierName&&null!==e.supplierName&&void 0!==e.supplierName&&o.append("supplierName",e.supplierName),""!==e.createId&&null!==e.createId&&void 0!==e.createId&&o.append("createId",e.createId),""!==e.payMode&&null!==e.payMode&&void 0!==e.payMode&&o.append("payMode",e.payMode),""!==e.typeId&&null!==e.typeId&&void 0!==e.typeId&&o.append("typeId",e.typeId),""!==e.deliveryMode&&null!==e.deliveryMode&&void 0!==e.deliveryMode&&o.append("deliveryMode",e.deliveryMode),""!==e.supplierShortName&&null!==e.supplierShortName&&void 0!==e.supplierShortName&&o.append("supplierShortName",e.supplierShortName),""!==e.supplierIntroduction&&null!==e.supplierIntroduction&&void 0!==e.supplierIntroduction&&o.append("supplierIntroduction",e.supplierIntroduction),""!==e.countryId&&null!==e.countryId&&void 0!==e.countryId&&o.append("countryId",e.countryId),""!==e.provinceId&&null!==e.provinceId&&void 0!==e.provinceId&&o.append("provinceId",e.provinceId),""!==e.cityId&&null!==e.cityId&&void 0!==e.cityId&&o.append("cityId",e.cityId),""!==e.detailAddress&&null!==e.detailAddress&&void 0!==e.detailAddress&&o.append("detailAddress",e.detailAddress),""!==e.groupId&&null!==e.groupId&&void 0!==e.groupId&&o.append("groupId",e.groupId),""!==e.zipCode&&null!==e.zipCode&&void 0!==e.zipCode&&o.append("zipCode",e.zipCode),""!==e.contactPersonName&&null!==e.contactPersonName&&void 0!==e.contactPersonName&&o.append("contactPersonName",e.contactPersonName),""!==e.contactPersonPhone&&null!==e.contactPersonPhone&&void 0!==e.contactPersonPhone&&o.append("contactPersonPhone",e.contactPersonPhone),""!==e.regionId&&null!==e.regionId&&void 0!==e.regionId&&o.append("regionId",e.regionId),""!==e.giveId&&null!==e.giveId&&void 0!==e.giveId&&o.append("giveId",e.giveId),""!==e.transportId&&null!==e.transportId&&void 0!==e.transportId&&o.append("transportId",e.transportId),""!==e.levelId&&null!==e.levelId&&void 0!==e.levelId&&o.append("levelId",e.levelId),""!==e.isHot&&null!==e.isHot&&void 0!==e.isHot&&o.append("isHot",e.isHot),""!==e.isEffective&&null!==e.isEffective&&void 0!==e.isEffective&&o.append("isEffective",e.isEffective),""!==e.buyerId&&null!==e.buyerId&&void 0!==e.buyerId&&o.append("buyerId",e.buyerId),""!==e.businessScopeIntroduction&&null!==e.businessScopeIntroduction&&void 0!==e.businessScopeIntroduction&&o.append("businessScopeIntroduction",e.businessScopeIntroduction),""!==e.paymentId&&null!==e.paymentId&&void 0!==e.paymentId&&o.append("paymentId",e.paymentId),""!==e.moneyId&&null!==e.moneyId&&void 0!==e.moneyId&&o.append("moneyId",e.moneyId),""!==e.bankName&&null!==e.bankName&&void 0!==e.bankName&&o.append("bankName",e.bankName),""!==e.accountName&&null!==e.accountName&&void 0!==e.accountName&&o.append("accountName",e.accountName),""!==e.account&&null!==e.account&&void 0!==e.account&&o.append("account",e.account),""!==e.establishDate&&null!==e.establishDate&&void 0!==e.establishDate&&o.append("establishDate",e.establishDate),""!==e.legalPerson&&null!==e.legalPerson&&void 0!==e.legalPerson&&o.append("legalPerson",e.legalPerson),""!==e.taxNumber&&null!==e.taxNumber&&void 0!==e.taxNumber&&o.append("taxNumber",e.taxNumber),""!==e.businessLicense&&null!==e.businessLicense&&void 0!==e.businessLicense&&o.append("businessLicense",e.businessLicense),""!==e.companyTypeId&&null!==e.companyTypeId&&void 0!==e.companyTypeId&&o.append("companyTypeId",e.companyTypeId),""!==e.settleMode&&null!==e.settleMode&&void 0!==e.settleMode&&o.append("settleMode",e.settleMode),o.append("detailJson",t),Object(a.a)({url:"/supplier/create",method:"post",data:o})}function c(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),""!==e.settleMode&&null!==e.settleMode&&void 0!==e.settleMode&&t.append("settleMode",e.settleMode),""!==e.deliveryMode&&null!==e.deliveryMode&&void 0!==e.deliveryMode&&t.append("deliveryMode",e.deliveryMode),""!==e.supplierName&&null!==e.supplierName&&void 0!==e.supplierName&&t.append("supplierName",e.supplierName),""!==e.payMode&&null!==e.payMode&&void 0!==e.payMode&&t.append("payMode",e.payMode),""!==e.productCode&&null!==e.productCode&&void 0!==e.productCode&&t.append("productCode",e.productCode),""!==e.typeId&&null!==e.typeId&&void 0!==e.typeId&&t.append("typeId",e.typeId),""!==e.groupId&&null!==e.groupId&&void 0!==e.groupId&&t.append("groupId",e.groupId),""!==e.regionId&&null!==e.regionId&&void 0!==e.regionId&&t.append("regionId",e.regionId),""!==e.levelId&&null!==e.levelId&&void 0!==e.levelId&&t.append("levelId",e.levelId),""!==e.pagenum&&null!==e.pagenum&&void 0!==e.pagenum&&t.append("pagenum",e.pagenum),""!==e.pagesize&&null!==e.pagesize&&void 0!==e.pagesize&&t.append("pagesize",e.pagesize),""!==e.isRole&&null!==e.isRole&&void 0!==e.isRole&&t.append("isRole",e.isRole),Object(a.a)({url:"/supplier/search",method:"post",data:t})}function p(e,t){var o=new URLSearchParams;return""!==e.supplierName&&null!==e.supplierName&&void 0!==e.supplierName&&o.append("supplierName",e.supplierName),""!==e.deliveryMode&&null!==e.deliveryMode&&void 0!==e.deliveryMode&&o.append("deliveryMode",e.deliveryMode),""!==e.settleMode&&null!==e.settleMode&&void 0!==e.settleMode&&o.append("settleMode",e.settleMode),""!==e.typeId&&null!==e.typeId&&void 0!==e.typeId&&o.append("typeId",e.typeId),""!==e.payMode&&null!==e.payMode&&void 0!==e.payMode&&o.append("payMode",e.payMode),""!==e.supplierShortName&&null!==e.supplierShortName&&void 0!==e.supplierShortName&&o.append("supplierShortName",e.supplierShortName),""!==e.supplierIntroduction&&null!==e.supplierIntroduction&&void 0!==e.supplierIntroduction&&o.append("supplierIntroduction",e.supplierIntroduction),""!==e.countryid&&null!==e.countryid&&void 0!==e.countryid&&o.append("countryId",e.countryid),""!==e.provinceid&&null!==e.provinceid&&void 0!==e.provinceid&&o.append("provinceId",e.provinceid),""!==e.cityid&&null!==e.cityid&&void 0!==e.cityid&&o.append("cityId",e.cityid),""!==e.detailAddress&&null!==e.detailAddress&&void 0!==e.detailAddress&&o.append("detailAddress",e.detailAddress),""!==e.groupId&&null!==e.groupId&&void 0!==e.groupId&&o.append("groupId",e.groupId),""!==e.groupId&&null!==e.groupId&&void 0!==e.groupId&&o.append("groupId",e.groupId),""!==e.zipCode&&null!==e.zipCode&&void 0!==e.zipCode&&o.append("zipCode",e.zipCode),""!==e.contactPersonName&&null!==e.contactPersonName&&void 0!==e.contactPersonName&&o.append("contactPersonName",e.contactPersonName),""!==e.contactPersonPhone&&null!==e.contactPersonPhone&&void 0!==e.contactPersonPhone&&o.append("contactPersonPhone",e.contactPersonPhone),""!==e.regionId&&null!==e.regionId&&void 0!==e.regionId&&o.append("regionId",e.regionId),""!==e.giveId&&null!==e.giveId&&void 0!==e.giveId&&o.append("giveId",e.giveId),""!==e.transportId&&null!==e.transportId&&void 0!==e.transportId&&o.append("transportId",e.transportId),""!==e.levelId&&null!==e.levelId&&void 0!==e.levelId&&o.append("levelId",e.levelId),""!==e.isHot&&null!==e.isHot&&void 0!==e.isHot&&o.append("isHot",e.isHot),""!==e.isEffective&&null!==e.isEffective&&void 0!==e.isEffective&&o.append("isEffective",e.isEffective),""!==e.buyerId&&null!==e.buyerId&&void 0!==e.buyerId&&o.append("buyerId",e.buyerId),""!==e.businessScopeIntroduction&&null!==e.businessScopeIntroduction&&void 0!==e.businessScopeIntroduction&&o.append("businessScopeIntroduction",e.businessScopeIntroduction),""!==e.paymentId&&null!==e.paymentId&&void 0!==e.paymentId&&o.append("paymentId",e.paymentId),""!==e.moneyId&&null!==e.moneyId&&void 0!==e.moneyId&&o.append("moneyId",e.moneyId),""!==e.bankName&&null!==e.bankName&&void 0!==e.bankName&&o.append("bankName",e.bankName),""!==e.accountName&&null!==e.accountName&&void 0!==e.accountName&&o.append("accountName",e.accountName),""!==e.account&&null!==e.account&&void 0!==e.account&&o.append("account",e.account),""!==e.establishDate&&null!==e.establishDate&&void 0!==e.establishDate&&o.append("establishDate",e.establishDate),""!==e.legalPerson&&null!==e.legalPerson&&void 0!==e.legalPerson&&o.append("legalPerson",e.legalPerson),""!==e.taxNumber&&null!==e.taxNumber&&void 0!==e.taxNumber&&o.append("taxNumber",e.taxNumber),""!==e.businessLicense&&null!==e.businessLicense&&void 0!==e.businessLicense&&o.append("businessLicense",e.businessLicense),""!==e.companyTypeId&&null!==e.companyTypeId&&void 0!==e.companyTypeId&&o.append("companyTypeId",e.companyTypeId),""!==e.id&&null!==e.id&&void 0!==e.id&&o.append("id",e.id),""!==t&&null!==t&&void 0!==t&&o.append("detailJson",t),Object(a.a)({url:"/supplier/update",method:"post",data:o})}function d(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/supplier/delete",method:"post",data:o})}function u(){return Object(a.a)({url:"/supplierGroup/search",method:"post"})}function m(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("groupName",e),Object(a.a)({url:"/supplierGroup/create",method:"post",data:t})}function h(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("id",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/supplierGroup/delete",method:"post",data:o})}function y(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&t.append("type",e.type),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/supplierCategory/searchCategory",method:"post",data:t})}function f(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.category&&null!==e.category&&t.append("category",e.category),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&t.append("type",e.type),Object(a.a)({url:"/supplierCategory/addCategory",method:"post",data:t})}function g(e){var t=new URLSearchParams;return""!==e.categoryName&&null!==e.categoryName&&void 0!==e.categoryName&&t.append("categoryname",e.categoryName),""!==e.isEffective&&null!==e.isEffective&&t.append("iseffective",e.isEffective),""!==e.id&&null!==e.id&&t.append("id",e.id),Object(a.a)({url:"/supplierCategory/updateCategory",method:"post",data:t})}function v(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/supplierCategory/delateCategory",method:"post",data:o})}function _(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("Json",e),Object(a.a)({url:"/supplier/createPunishment",method:"post",data:t})}},"/xeG":function(e,t,o){"use strict";var a=o("plw4");o.n(a).a},"00rP":function(e,t,o){"use strict";var a=o("arSb");o.n(a).a},"0mmw":function(e,t,o){"use strict";o.d(t,"a",function(){return n});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e.categoryId&&null!==e.categoryId&&void 0!==e.categoryId&&t.append("categoryId",e.categoryId),""!==e.productCode&&null!==e.productCode&&void 0!==e.productCode&&t.append("productCode",e.productCode),""!==e.productName&&null!==e.productName&&void 0!==e.productName&&t.append("productName",e.productName),""!==e.isPlan&&null!==e.isPlan&&void 0!==e.isPlan&&t.append("isPlan",e.isPlan),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.judgeStat&&null!==e.judgeStat&&void 0!==e.judgeStat&&t.append("judgeStat",e.judgeStat),""!==e.receiptStat&&null!==e.receiptStat&&void 0!==e.receiptStat&&t.append("receiptStat",e.receiptStat),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.isActive&&null!==e.isActive&&void 0!==e.isActive&&t.append("isActive",e.isActive),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/stockrequire/stockrequirelist",method:"post",data:t})}},"0zGY":function(e,t,o){"use strict";o.d(t,"n",function(){return n}),o.d(t,"s",function(){return r}),o.d(t,"f",function(){return i}),o.d(t,"o",function(){return l}),o.d(t,"l",function(){return s}),o.d(t,"j",function(){return c}),o.d(t,"m",function(){return p}),o.d(t,"k",function(){return d}),o.d(t,"i",function(){return u}),o.d(t,"h",function(){return m}),o.d(t,"a",function(){return h}),o.d(t,"v",function(){return y}),o.d(t,"q",function(){return f}),o.d(t,"p",function(){return g}),o.d(t,"c",function(){return v}),o.d(t,"d",function(){return _}),o.d(t,"u",function(){return b}),o.d(t,"g",function(){return w}),o.d(t,"r",function(){return S}),o.d(t,"b",function(){return I}),o.d(t,"t",function(){return $}),o.d(t,"e",function(){return x});var a=o("t3Un");function n(e){return Object(a.a)({url:"/country/getdeptlist",method:"post",params:e})}function r(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("empids",e),""!==t&&null!==t&&o.append("stat",t),Object(a.a)({url:"/employee/startorendemp",method:"post",data:o})}function i(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("empids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/employee/deleteemp",method:"post",data:o})}function l(e){var t=new URLSearchParams;return""!==e&&null!==e&&t.append("id",e),Object(a.a)({url:"/employee/getempinfo",method:"post",data:t})}function s(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),t.append("pageNum",e.pagenum),t.append("pageSize",e.pagesize),Object(a.a)({url:"/employee/getEmpStockInfo",method:"post",data:t})}function c(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),t.append("pageNum",e.pagenum),t.append("pageSize",e.pagesize),Object(a.a)({url:"/employee/getEmpCollect",method:"post",data:t})}function p(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),""!==e.customerName&&null!==e.customerName&&void 0!==e.customerName&&t.append("customerName",e.customerName),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),t.append("pageNum",e.pagenum),t.append("pageSize",e.pagesize),Object(a.a)({url:"/employee/getEmpVisitInfo",method:"post",data:t})}function d(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),Object(a.a)({url:"/employee/getEmpServiceInfo",method:"post",data:t})}function u(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("handlerid",e.id),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/admin/complaint/listcomplaintsemp",method:"post",data:t})}function m(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("empId",e.id),t.append("pageNum",e.pagenum),t.append("pageSize",e.pagesize),Object(a.a)({url:"/SaleReport/empCommission",method:"post",data:t})}function h(e){var t=new URLSearchParams;return""!==e.account&&null!==e.account&&void 0!==e.account&&t.append("account",e.account),Object(a.a)({url:"/employee/validation",method:"post",data:t})}function y(e){var t=new URLSearchParams;return""!==e.chargeRegions&&null!==e.chargeRegions&&void 0!==e.chargeRegions&&t.append("chargeRegions",e.chargeRegions),""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("employeeid",e.id),""!==e.firstName&&null!==e.firstName&&void 0!==e.firstName&&t.append("firstname",e.firstName),""!==e.middleName&&null!==e.middleName&&void 0!==e.middleName&&t.append("middlename",e.middleName),""!==e.lastName&&null!==e.lastName&&void 0!==e.lastName&&t.append("lastname",e.lastName),""!==e.password&&null!==e.password&&void 0!==e.password&&t.append("passwd",e.password),""!==e.email&&null!==e.email&&void 0!==e.email&&t.append("email",e.email),""!==e.phone&&null!==e.phone&&void 0!==e.phone&&t.append("phone",e.phone),""!==e.gender&&null!==e.gender&&void 0!==e.gender&&t.append("gender",e.gender),""!==e.countryId&&null!==e.countryId&&void 0!==e.countryId&&t.append("countryid",e.countryId),""!==e.provinceId&&null!==e.provinceId&&void 0!==e.provinceId&&t.append("provinceid",e.provinceId),""!==e.cityId&&null!==e.cityId&&void 0!==e.cityId&&t.append("cityid",e.cityId),""!==e.address&&null!==e.address&&void 0!==e.address&&t.append("address",e.address),""!==e.birthday&&null!==e.birthday&&void 0!==e.birthday&&t.append("birthday",e.birthday),""!==e.deptId&&null!==e.deptId&&void 0!==e.deptId&&t.append("deptid",e.deptId),""!==e.postId&&null!==e.postId&&void 0!==e.postId&&t.append("postid",e.postId),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryid",e.repositoryId),""!==e.roleId&&null!==e.roleId&&void 0!==e.roleId&&t.append("roleid",e.roleId),""!==e.regionId&&null!==e.regionId&&void 0!==e.regionId&&t.append("regionid",e.regionId),""!==e.certificateType&&null!==e.certificateType&&void 0!==e.certificateType&&t.append("certificatetype",e.certificateType),""!==e.certificateNumber&&null!==e.certificateNumber&&void 0!==e.certificateNumber&&t.append("certificatenumber",e.certificateNumber),Object(a.a)({url:"/employee/updateemp",method:"post",data:t})}function f(e){var t=new URLSearchParams;return t.append("firstname",e.firstname),t.append("middlename",e.middlename),t.append("lastname",e.lastname),t.append("passwd",e.passwd),t.append("email",e.email),t.append("phone",e.phone),t.append("gender",e.gender),t.append("countryid",e.country),t.append("provinceid",e.provinceid),t.append("cityid",e.cityid),t.append("address",e.address),""===e.birthday&&null===e.birthday||t.append("birthday",e.birthday),t.append("account",e.account),t.append("jobnumber",e.jobnumber),t.append("deptid",e.deptid),t.append("roleid",e.roleid),t.append("postid",e.postid),t.append("repositoryid",e.repositoryid),t.append("regionid",e.regionid1),t.append("certificatetype",e.certificatetype),t.append("certificatenumber",e.certificatenumber),""!==e.chargeRegions&&null!==e.chargeRegions&&void 0!==e.chargeRegions&&t.append("chargeRegions",e.chargeRegions),Object(a.a)({url:"/employee/register",method:"post",data:t})}function g(e){var t=new URLSearchParams;return""!==e.roleid&&null!==e.roleid&&void 0!==e.roleid&&t.append("roleid",e.roleid),""!==e.repositoryid&&null!==e.repositoryid&&void 0!==e.repositoryid&&t.append("repositoryid",e.repositoryid),""!==e.regionid&&null!==e.regionid&&void 0!==e.regionid&&t.append("regionid",e.regionid),""!==e.loginRepositoryId&&void 0!==e.loginRepositoryId&&null!==e.loginRepositoryId&&t.append("loginRepositoryId",e.loginRepositoryId),""!==e.regionIds&&void 0!==e.regionIds&&null!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.postid&&null!==e.postid&&void 0!==e.postid&&t.append("postid",e.postid),""!==e.deptid&&null!==e.deptid&&void 0!==e.deptid&&t.append("deptid",e.deptid),""!==e.employeename&&null!==e.employeename&&void 0!==e.employeename&&t.append("employeename",e.employeename),""!==e.stat&&null!==e.stat&&void 0!==e.stat&&t.append("stat",e.stat),""!==e.time&&null!==e.time&&t.append("time",e.time),""!==e.jobnumber&&null!==e.jobnumber&&void 0!==e.jobnumber&&t.append("jobnumber",e.jobnumber),""!==e.phonenumber&&void 0!==e.phonenumber&&null!==e.phonenumber&&t.append("phonenumber",e.phonenumber),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/employee/getemplist",method:"post",data:t})}function v(e){var t=new URLSearchParams;return""!==e.employeeid&&t.append("employeeid",e.employeeid),""!==e.contractname&&t.append("contractname",e.contractname),""!==e.signtime&&null!==e.signtime&&t.append("signtime",e.signtime),""!==e.expiredtime&&null!==e.expiredtime&&t.append("expiredtime",e.expiredtime),""!==e.effectivetime&&null!==e.effectivetime&&t.append("effectivetime",e.effectivetime),""!==e.typeid&&t.append("typeid",e.typeid),""!==e.attribute&&t.append("attribute",e.attribute),""!==e.period&&t.append("period",e.period),""!==e.iscorrection&&t.append("iscorrection",e.iscorrection),""!==e.stat&&t.append("stat",e.stat),""!==e.advanceday&&t.append("advanceday",e.advanceday),""!==e.trialsalary&&t.append("trialsalary",e.trialsalary),""!==e.correctionsalary&&t.append("correctionsalary",e.correctionsalary),""!==e.remindpersonid&&t.append("remindpersonid",e.remindpersonid),Object(a.a)({url:"/contract/addcontract",method:"post",data:t})}function _(e){var t=new URLSearchParams;return""!==e.contractname&&t.append("contractname",e.contractname),""!==e.contractnumber&&t.append("contractnumber",e.contractnumber),""!==e.empnumber&&t.append("empnumber",e.empnumber),""!==e.empname&&t.append("empname",e.empname),""!==e.isEnd&&void 0!==e.isEnd&&null!==e.isEnd&&t.append("isEnd",e.isEnd),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/contract/contractlist",method:"post",data:t})}function b(e){var t=new URLSearchParams;return""!==e.id&&t.append("contractid",e.id),""!==e.contractName&&t.append("contractname",e.contractName),""!==e.signTime&&t.append("signtime",e.signTime),""!==e.expiredTime&&t.append("expiredtime",e.expiredTime),""!==e.effectiveTime&&t.append("effectivetime",e.effectiveTime),""!==e.type&&t.append("typeid",e.type),""!==e.contractAttribute&&t.append("attribute",e.contractAttribute),""!==e.contractAttribute&&t.append("period",e.period),""!==e.isCorrection&&t.append("iscorrection",e.isCorrection),""!==e.stat&&t.append("stat",e.stat),""!==e.advanceDay&&t.append("advanceday",e.advanceDay),""!==e.trialSalary&&t.append("trialsalary",e.trialSalary),""!==e.correctionSalary&&t.append("correctionsalary",e.correctionSalary),""!==e.expiredRemindPersonId&&null!==e.expiredRemindPersonId&&t.append("remindpersonid",e.expiredRemindPersonId),Object(a.a)({url:"/contract/updatecontract",method:"post",data:t})}function w(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("empcontractids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/contract/deleteempcontract",method:"post",data:o})}function S(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&void 0!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/employee/searchEmpCategory",method:"post",data:t})}function I(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.category&&null!==e.category&&t.append("category",e.category),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&t.append("type",e.type),Object(a.a)({url:"/employee/addEmpCategory",method:"post",data:t})}function $(e){var t=new URLSearchParams;return""!==e.categoryName&&null!==e.categoryName&&t.append("categoryname",e.categoryName),""!==e.isEffective&&null!==e.isEffective&&t.append("iseffective",e.isEffective),""!==e.id&&null!==e.id&&t.append("id",e.id),Object(a.a)({url:"/employee/updateEmpCategory",method:"post",data:t})}function x(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("ids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/employee/delateEmpCategory",method:"post",data:o})}},"14Xm":function(e,t,o){e.exports=o("u938")},"1rft":function(e,t,o){},"1sCw":function(e,t,o){},"2H35":function(e,t,o){"use strict";o.d(t,"e",function(){return n}),o.d(t,"b",function(){return r}),o.d(t,"g",function(){return i}),o.d(t,"h",function(){return l}),o.d(t,"j",function(){return s}),o.d(t,"f",function(){return c}),o.d(t,"a",function(){return p}),o.d(t,"k",function(){return d}),o.d(t,"c",function(){return u}),o.d(t,"d",function(){return m}),o.d(t,"i",function(){return h});var a=o("t3Un");function n(){var e=new URLSearchParams;return e.append("pagenum",1),e.append("pagesize",99999),Object(a.a)({url:"/repository/searchRepCategory",method:"post",data:e})}function r(e){var t=new URLSearchParams;return""!==e.categoryId&&null!==e.categoryId&&void 0!==e.categoryId&&t.append("categoryId",e.categoryId),""!==e.repositoryName&&null!==e.repositoryName&&t.append("repositoryName",e.repositoryName),""!==e.address&&null!==e.address&&t.append("address",e.address),""!==e.longitude&&null!==e.longitude&&t.append("longitude",e.longitude),""!==e.latitude&&null!==e.latitude&&t.append("latitude",e.latitude),""!==e.managerPeopleId&&null!==e.managerPeopleId&&t.append("managerPeopleId",e.managerPeopleId),""!==e.createTime&&null!==e.createTime&&t.append("createTime",e.createTime),""!==e.stat&&null!==e.stat&&t.append("stat",e.stat),""!==e.description&&null!==e.description&&t.append("description",e.description),""!==e.regionId&&null!==e.regionId&&t.append("regionId",e.regionId),""!==e.type&&null!==e.type&&t.append("type",e.type),""!==e.regionManagerId&&null!==e.regionManagerId&&t.append("regionManagerId",e.regionManagerId),""!==e.attributes&&null!==e.attributes&&t.append("attributes",e.attributes),""!==e.countryId&&null!==e.countryId&&t.append("countryId",e.countryId),Object(a.a)({url:"/repository/create",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),""!==e.repositoryName&&null!==e.repositoryName&&void 0!==e.repositoryName&&t.append("repositoryName",e.repositoryName),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.loginRepositoryId&&void 0!==e.loginRepositoryId&&null!==e.loginRepositoryId&&t.append("loginRepositoryId",e.loginRepositoryId),""!==e.regionIds&&void 0!==e.regionIds&&null!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.regionId&&null!==e.regionId&&void 0!==e.regionId&&t.append("regionId",e.regionId),""!==e.countyrId&&null!==e.countyrId&&void 0!==e.countyrId&&t.append("countyrId",e.countyrId),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),t.append("iseffective",1),Object(a.a)({url:"/repository/searchRepository",method:"post",data:t})}function l(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),""!==e.repositoryName&&null!==e.repositoryName&&void 0!==e.repositoryName&&t.append("repositoryName",e.repositoryName),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.loginRepositoryId&&void 0!==e.loginRepositoryId&&null!==e.loginRepositoryId&&t.append("loginRepositoryId",e.loginRepositoryId),""!==e.regionIds&&void 0!==e.regionIds&&null!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.regionId&&null!==e.regionId&&void 0!==e.regionId&&t.append("regionId",e.regionId),""!==e.countyrId&&null!==e.countyrId&&void 0!==e.countyrId&&t.append("countyrId",e.countyrId),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/repository/searchRepository",method:"post",data:t})}function s(e){var t=new URLSearchParams;return""!==e.categoryId&&null!==e.categoryId&&void 0!==e.categoryId&&t.append("categoryId",e.categoryId),""!==e.repositoryName&&null!==e.repositoryName&&void 0!==e.repositoryName&&t.append("repositoryName",e.repositoryName),""!==e.address&&null!==e.address&&void 0!==e.address&&t.append("address",e.address),""!==e.longitude&&null!==e.longitude&&void 0!==e.longitude&&t.append("longitude",e.longitude),""!==e.latitude&&null!==e.latitude&&void 0!==e.latitude&&t.append("latitude",e.latitude),""!==e.createTime&&null!==e.createTime&&void 0!==e.createTime&&t.append("createTime",e.createTime),""!==e.managerPeopleId&&null!==e.managerPeopleId&&void 0!==e.managerPeopleId&&t.append("managerPeopleId",e.managerPeopleId),""!==e.stat&&null!==e.stat&&void 0!==e.stat&&t.append("stat",e.stat),""!==e.description&&null!==e.description&&void 0!==e.description&&t.append("description",e.description),""!==e.regionId&&null!==e.regionId&&void 0!==e.regionId&&t.append("regionId",e.regionId),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.regionManagerId&&null!==e.regionManagerId&&void 0!==e.regionManagerId&&t.append("regionManagerId",e.regionManagerId),""!==e.attributes&&null!==e.attributes&&void 0!==e.attributes&&t.append("attributes",e.attributes),""!==e.countryId&&null!==e.countryId&&void 0!==e.countryId&&t.append("countryId",e.countryId),""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/repository/update",method:"post",data:t})}function c(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&t.append("type",e.type),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/repository/searchRepCategory",method:"post",data:t})}function p(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.category&&null!==e.category&&t.append("category",e.category),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.parentId&&null!==e.parentId&&t.append("parentId",e.parentId),""!==e.type&&null!==e.type&&t.append("type",e.type),Object(a.a)({url:"/repository/addRepCategory",method:"post",data:t})}function d(e){var t=new URLSearchParams;return""!==e.parentId&&null!==e.parentId&&t.append("parentId",e.parentId),""!==e.categoryName&&null!==e.categoryName&&void 0!==e.categoryName&&t.append("categoryname",e.categoryName),""!==e.isEffective&&null!==e.isEffective&&t.append("iseffective",e.isEffective),""!==e.id&&null!==e.id&&t.append("id",e.id),Object(a.a)({url:"/repository/updateRepCategory",method:"post",data:t})}function u(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/repository/delateRepCategory",method:"post",data:o})}function m(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/repository/deleteRepository",method:"post",data:o})}function h(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("modelids",e),""!==t&&null!==t&&o.append("iseffective",t),Object(a.a)({url:"/repository/startorend",method:"post",data:o})}},"2kA1":function(e,t,o){"use strict";var a=o("H1pu");o.n(a).a},"2maP":function(e,t,o){},"2uZv":function(e,t,o){"use strict";var a=o("z3EA");o.n(a).a},"2zg2":function(e,t,o){"use strict";var a=o("VG0r"),n=o("ZySA"),r=o("Mz3J"),i=o("yo+U"),l=o("fNFo"),s={directives:{waves:n.a},components:{MyTree:l.a,MySupplier:i.a,Pagination:r.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.control,visible2:!1,choosedata:"",list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10}}},watch:{control:function(){this.productVisible=this.control,console.log(this.control),this.getlist()}},created:function(){this.getlist()},beforeCreate:function(){this},methods:{getlist:function(){var e=this;this.listLoading=!0,Object(a.t)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(a.v)(2).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(a.t)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierid=e.supplierName,this.getemplist.supplierid=e.id},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryid=e.categoryName,this.getemplist.categoryid=e.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleCurrentChange:function(e){this.choosedata=e},handleAddTo:function(){this.productVisible=!1,this.$emit("productdata",this.choosedata)}}},c=(o("iDk6"),o("KHd+")),p=Object(c.a)(s,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.productVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzsp"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.productVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.code"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.code,callback:function(t){e.$set(e.getemplist,"code",t)},expression:"getemplist.code"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productname,callback:function(t){e.$set(e.getemplist,"productname",t)},expression:"getemplist.productname"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.supplierid"),clearable:""},on:{focus:e.handlechoose,clear:e.restFilter2},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.supplierid,callback:function(t){e.supplierid=t},expression:"supplierid"}}),e._v(" "),o("my-supplier",{attrs:{control:e.empcontrol},on:{"update:control":function(t){e.empcontrol=t},supplierName:e.supplierName}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.wpfl"),clearable:""},model:{value:e.getemplist.categoryid,callback:function(t){e.$set(e.getemplist,"categoryid",t)},expression:"getemplist.categoryid"}},[o("el-option",{attrs:{label:e.$t("otherlanguage.zc"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.pj"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.jgj"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.xhp"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.dc"),value:"5"}})],1),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzggxh"),clearable:""},model:{value:e.getemplist.typeid,callback:function(t){e.$set(e.getemplist,"typeid",t)},expression:"getemplist.typeid"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzsxj"),clearable:""},model:{value:e.getemplist.isactive,callback:function(t){e.$set(e.getemplist,"isactive",t)},expression:"getemplist.isactive"}},[o("el-option",{attrs:{label:e.$t("Hmodule.s1"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("Hmodule.x2"),value:"2"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.category))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.kpiGrade))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.point))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.purchaseprice"),resizable:!1,prop:"purchasePrice",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.purchasePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:e.handleAddTo}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"746985b6",null);p.options.__file="MyDetail.vue";t.a=p.exports},"3umC":function(e,t,o){},"40pI":function(e,t,o){"use strict";var a=o("1rft");o.n(a).a},"41Be":function(e,t,o){"use strict";o.d(t,"a",function(){return n});var a=o("Q2AE");function n(e){if(e&&e instanceof Array&&e.length>0){var t=e;return!!(a.a.getters&&a.a.getters.roles).some(function(e){return t.includes(e)})}return console.error("need roles!"),!1}},"5Iji":function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"b",function(){return l}),o.d(t,"e",function(){return s});var a=o("t3Un");function n(e,t,o,n){var r=new URLSearchParams;return r.append("Json",e),r.append("detailJson",t),""!==o.repositoryId&&null!==o.repositoryId&&void 0!==o.repositoryId&&r.append("repositoryId",o.repositoryId),""!==o.regionId&&null!==o.regionId&&void 0!==o.regionId&&r.append("regionId",o.regionId),""!==n&&null!==n&&void 0!==n&&r.append("picids",n),Object(a.a)({url:"/saleContract/create",method:"post",data:r})}function r(e){var t=new URLSearchParams;return""!==e.title&&null!==e.title&&void 0!==e.title&&t.append("title",e.title),""!==e.number&&null!==e.number&&void 0!==e.number&&t.append("number",e.number),""!==e.isActive&&null!==e.isActive&&void 0!==e.isActive&&t.append("isActive",e.isActive),""!==e.customerType&&null!==e.customerType&&void 0!==e.customerType&&t.append("customerType",e.customerType),""!==e.customerName&&null!==e.customerName&&void 0!==e.customerName&&t.append("customerName",e.customerName),""!==e.saleType&&null!==e.saleType&&void 0!==e.saleType&&t.append("saleType",e.saleType),""!==e.judgeStat&&null!==e.judgeStat&&void 0!==e.judgeStat&&t.append("judgeStat",e.judgeStat),""!==e.receiptStat&&null!==e.receiptStat&&void 0!==e.receiptStat&&t.append("receiptStat",e.receiptStat),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/saleContract/search",method:"post",data:t})}function i(e,t,o){var n=new URLSearchParams;return n.append("Json",e),n.append("detailJson",t),""!==o&&null!==o&&void 0!==o&&n.append("picids",o),Object(a.a)({url:"/saleContract/update",method:"post",data:n})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/saleContract/delete",method:"post",data:o})}function s(e){var t=new URLSearchParams;return t.append("Json",e),Object(a.a)({url:"/saleContract/update",method:"post",data:t})}},"5PlW":function(e,t,o){"use strict";var a=o("m1cH"),n=o.n(a),r=o("VG0r"),i=o("ZySA"),l=o("Mz3J"),s=o("yo+U"),c=o("fNFo"),p={directives:{waves:i.a},components:{MyTree:c.a,MySupplier:s.a,Pagination:l.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{select_orderId:[],select_order_number:[],supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.control,visible2:!1,moreaction:[],list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10}}},watch:{control:function(){this.productVisible=this.control,this.getlist()},list:function(){console.log("this.select_orderId",this.select_orderId)}},created:function(){this.getlist()},beforeCreate:function(){this},methods:{getRowKeys:function(e){return e.code},getlist:function(){var e=this;this.listLoading=!0,Object(r.t)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(r.v)(2).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(r.t)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleSelectionChange:function(e){var t=this;this.moreaction=e,this.select_order_number=this.moreaction.length,this.select_orderId=[],e&&e.forEach(function(e){e&&t.select_orderId.push(e.code)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierid=e.supplierName,this.getemplist.supplierid=e.id},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryid=e.categoryName,this.getemplist.categoryid=e.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleAddTo:function(){this.productVisible=!1,console.log("this.select_orderId",this.select_orderId),console.log("this.$refs.multipleTable.selection",this.$refs.multipleTable.selection),console.log(this.moreaction);var e=this.moreaction.map(function(e){return{productCode:e.code,productName:e.productName,locationId:"",color:e.color,type:e.typeId,category:e.categoryId,categoryName:e.category,unit:e.stockMeasu,productType:e.productType,typeIdname:e.productType,quantity:1}});console.log(e);var t=this.checklistprop,o=e,a=[];for(var r in o)for(var i in t)t[i].productCode===o[r].productCode&&a.push(t[i]);var l=o.filter(function(e){return!a.some(function(t){return t.productCode===e.productCode})});console.log(l),console.log(a),console.log(this.$refs.multipleTable.selection);var s=[].concat(a,n()(l));console.log("productDetail2",s),this.$emit("product",s)}}},d=(o("aYoj"),o("KHd+")),u=Object(d.a)(p,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.productVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzsp"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.productVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.code"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.code,callback:function(t){e.$set(e.getemplist,"code",t)},expression:"getemplist.code"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productname,callback:function(t){e.$set(e.getemplist,"productname",t)},expression:"getemplist.productname"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.supplierid"),clearable:""},on:{focus:e.handlechoose,clear:e.restFilter2},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.supplierid,callback:function(t){e.supplierid=t},expression:"supplierid"}}),e._v(" "),o("my-supplier",{attrs:{control:e.empcontrol},on:{"update:control":function(t){e.empcontrol=t},supplierName:e.supplierName}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.wpfl"),clearable:""},model:{value:e.getemplist.categoryid,callback:function(t){e.$set(e.getemplist,"categoryid",t)},expression:"getemplist.categoryid"}},[o("el-option",{attrs:{label:e.$t("otherlanguage.zc"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.pj"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.jgj"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.xhp"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.dc"),value:"5"}})],1),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzggxh"),clearable:""},model:{value:e.getemplist.typeid,callback:function(t){e.$set(e.getemplist,"typeid",t)},expression:"getemplist.typeid"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzsxj"),clearable:""},model:{value:e.getemplist.isactive,callback:function(t){e.$set(e.getemplist,"isactive",t)},expression:"getemplist.isactive"}},[o("el-option",{attrs:{label:e.$t("Hmodule.s1"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("Hmodule.x2"),value:"2"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",fixed:"left",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.category))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.kpiGrade))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.point))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.purchaseprice"),resizable:!1,prop:"purchasePrice",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.purchasePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:e.handleAddTo}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"0040db95",null);u.options.__file="MyReturn.vue";t.a=u.exports},"6Dyo":function(e,t,o){"use strict";var a=o("6HaC"),n=o("0zGY"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{deliverycontrol:{type:Boolean,default:!1}},data:function(){return{select_orderId:[],select_order_number:[],getRowKeys:function(e){return e.id},jobCat:{type:2,pagenum:1,pagesize:9999},jobs:[],choosedata:"",managerPeople:"",regionManagerId:"",currentRow:null,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},depts:[],props2:{value:"id",label:"regionName",children:"regionListVos"},regions2:[],getemplistregions:[],repositories:[],employeeVisible:this.deliverycontrol,regionManagerVisible:!1}},watch:{deliverycontrol:function(){this.employeeVisible=this.deliverycontrol,this.gitemplist()}},beforeCreate:function(){this},methods:{gitemplist:function(){var e=this;this.listLoading=!0,console.log(this.getemplist),Object(n.p)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.n)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions2=e.tranKTree(t.data.data.content))}),Object(n.r)(this.jobCat).then(function(t){200===t.data.ret?e.jobs=t.data.data.content.list:console.log("职位列表出错")})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleFilter:function(){var e=this;this.getemplist.regionid=this.getemplistregions[this.getemplistregions.length-1],Object(n.p)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleAdd:function(){this.employeeVisible=!1,this.$router.push("/EmployeeInformation/NewEmployeeInformation")},handlechange4:function(e){var t=this;console.log(e);var o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret?(console.log(e),t.repositories=e.data.data.content.list):t.$message.error("出错了")})},restemplist:function(){this.getemplist={repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},this.getemplistregions=[]},handleSelectionChange:function(e){var t=this;this.moreaction=e,this.select_order_number=this.moreaction.length,this.select_orderId=[],e&&e.forEach(function(e){e&&t.select_orderId.push(e.id)})},handleConfirm:function(){console.log("this.moreaction",this.moreaction);var e=this.moreaction.map(function(e){return{id:e.id,personName:e.personName}});this.employeeVisible=!1,this.$emit("deliveryName",e)}}},s=(o("mHcl"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,deliverycontrol:e.deliverycontrol,"close-on-press-escape":!1,title:e.$t("Hmodule.xzyg"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:deliverycontrol",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.employeename"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.employeename,callback:function(t){e.$set(e.getemplist,"employeename",t)},expression:"getemplist.employeename"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.jobnumber2"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.jobnumber,callback:function(t){e.$set(e.getemplist,"jobnumber",t)},expression:"getemplist.jobnumber"}}),e._v(" "),o("el-date-picker",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.xzrq"),type:"date","value-format":"yyyy-MM-dd"},model:{value:e.getemplist.time,callback:function(t){e.$set(e.getemplist,"time",t)},expression:"getemplist.time"}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"}},[o("el-cascader",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{options:e.regions2,props:e.props2,"show-all-levels":!1,placeholder:e.$t("Hmodule.xzqy"),"change-on-select":"",filterable:"",clearable:""},on:{change:e.handlechange4},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.xzmd"),clearable:"",filterable:""},model:{value:e.getemplist.repositoryid,callback:function(t){e.$set(e.getemplist,"repositoryid",t)},expression:"getemplist.repositoryid"}},e._l(e.repositories,function(e,t){return o("el-option",{key:t,attrs:{label:e.repositoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"left","margin-top":"10px","margin-left":"20px"},attrs:{value:e.getemplist.postid,placeholder:e.$t("NewEmployeeInformation.postid2"),clearable:""},model:{value:e.getemplist.postid,callback:function(t){e.$set(e.getemplist,"postid",t)},expression:"getemplist.postid"}},e._l(e.jobs,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"right","margin-top":"10px","margin-right":"20px"},attrs:{placeholder:e.$t("NewEmployeeInformation.deptid2"),clearable:""},model:{value:e.getemplist.deptid,callback:function(t){e.$set(e.getemplist,"deptid",t)},expression:"getemplist.deptid"}},e._l(e.depts,function(e,t){return o("el-option",{key:t,attrs:{label:e.deptName,value:e.id}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",fixed:"left",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.id"),resizable:!1,property:"id",align:"center",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.jobNumber"),resizable:!1,property:"jobNumber",align:"center",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.account"),resizable:!1,property:"account",width:"150",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.name"),resizable:!1,align:"center",width:"109"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.firstName)+" "+e._s(t.row.middleName)+" "+e._s(t.row.lastName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.gender"),resizable:!1,prop:"gender",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("genderFilter")(t.row.gender)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.deptName"),resizable:!1,prop:"deptName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.deptName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.regionName"),resizable:!1,prop:"regionName",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.repositoryName"),resizable:!1,prop:"repositoryName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.repositoryName))])]}}])})],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-top":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))]),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.gitemplist}})],1)},[],!1,null,"2339915e",null);c.options.__file="MyDelivery2.vue";t.a=c.exports},"6HaC":function(e,t,o){"use strict";o.d(t,"Q",function(){return n}),o.d(t,"r",function(){return r}),o.d(t,"k",function(){return i}),o.d(t,"j",function(){return l}),o.d(t,"i",function(){return s}),o.d(t,"t",function(){return c}),o.d(t,"v",function(){return p}),o.d(t,"E",function(){return d}),o.d(t,"F",function(){return u}),o.d(t,"A",function(){return m}),o.d(t,"M",function(){return h}),o.d(t,"J",function(){return y}),o.d(t,"K",function(){return f}),o.d(t,"y",function(){return g}),o.d(t,"u",function(){return v}),o.d(t,"b",function(){return _}),o.d(t,"p",function(){return b}),o.d(t,"q",function(){return w}),o.d(t,"w",function(){return S}),o.d(t,"x",function(){return I}),o.d(t,"B",function(){return $}),o.d(t,"C",function(){return x}),o.d(t,"L",function(){return C}),o.d(t,"O",function(){return k}),o.d(t,"G",function(){return M}),o.d(t,"H",function(){return N}),o.d(t,"s",function(){return P}),o.d(t,"D",function(){return F}),o.d(t,"I",function(){return O}),o.d(t,"N",function(){return E}),o.d(t,"P",function(){return T}),o.d(t,"o",function(){return R}),o.d(t,"l",function(){return j}),o.d(t,"a",function(){return D}),o.d(t,"n",function(){return L}),o.d(t,"z",function(){return z}),o.d(t,"c",function(){return A}),o.d(t,"h",function(){return U}),o.d(t,"f",function(){return q}),o.d(t,"g",function(){return B}),o.d(t,"e",function(){return K}),o.d(t,"d",function(){return W}),o.d(t,"m",function(){return V});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e.carCode&&null!==e.carCode&&void 0!==e.carCode&&t.append("carCode",e.carCode),""!==e.batteryCode&&null!==e.batteryCode&&void 0!==e.batteryCode&&t.append("batteryCode",e.batteryCode),""!==e.motorCode&&null!==e.motorCode&&void 0!==e.motorCode&&t.append("motorCode",e.motorCode),""!==e.snCode&&null!==e.snCode&&void 0!==e.snCode&&t.append("snCode",e.snCode),Object(a.a)({url:"/vehicleTrack/vehicleInfo",method:"post",params:t})}function r(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("currencyId",e),Object(a.a)({url:"/zcc/getRate",method:"post",params:t})}function i(e){var t=new URLSearchParams;return""!==e.searchRepositoryId&&null!==e.searchRepositoryId&&void 0!==e.searchRepositoryId&&t.append("searchRepositoryId",e.searchRepositoryId),""!==e.productCode&&null!==e.productCode&&void 0!==e.productCode&&t.append("productCode",e.productCode),""!==e.productName&&null!==e.productName&&void 0!==e.productName&&t.append("productName",e.productName),""!==e.date&&null!==e.date&&void 0!==e.date&&t.append("date",e.date),""!==e.pageNum&&null!==e.pageNum&&void 0!==e.pageNum&&t.append("pageNum",e.pageNum),""!==e.pageSize&&null!==e.pageSize&&void 0!==e.pageSize&&t.append("pageSize",e.pageSize),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),Object(a.a)({url:"/endmonth/endMonthCount",method:"post",params:t})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("searchRepositoryId",e),""!==t&&null!==t&&void 0!==t&&o.append("code",t),Object(a.a)({url:"/allinventory/countlist3",method:"post",params:o})}function s(e,t,o){var n=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&n.append("repositoryId",e),""!==t&&null!==t&&void 0!==t&&n.append("regionIds",t),""!==o&&null!==o&&void 0!==o&&n.append("code",o),Object(a.a)({url:"/allinventory/countlist",method:"post",params:n})}function c(){return Object(a.a)({url:"/materialslist/getBomNumber",method:"post"})}function p(e){return Object(a.a)({url:"/country/getcountrylist",method:"post",params:e})}function d(e){return Object(a.a)({url:"/region/detaillist",method:"post",params:e})}function u(e){return Object(a.a)({url:"/region/detaillist",method:"post",params:e})}function m(e){var t=new URLSearchParams;return""!==e.region&&null!==e.region&&void 0!==e.region&&t.append("parentid",e.region),Object(a.a)({url:"/region/listbyparentid",method:"post",data:t})}function h(e){var t=new URLSearchParams;return""!==e.regionid&&null!==e.regionid&&void 0!==e.regionid&&t.append("regionid",e.regionid),Object(a.a)({url:"/region/list",method:"post",data:t})}function y(e,t,o){var n=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&n.append("regionId",e),""!==t&&null!==t&&void 0!==t&&n.append("loginRepositoryId",t),""!==o&&null!==o&&void 0!==o&&n.append("regionIds",o),n.append("iseffective",1),n.append("pagenum",1),n.append("pagesize",99999),Object(a.a)({url:"/repository/searchRepository",method:"post",data:n})}function f(e,t,o){var n=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&n.append("regionId",e),""!==t&&null!==t&&void 0!==t&&n.append("loginRepositoryId",t),""!==o&&null!==o&&void 0!==o&&n.append("regionIds",o),n.append("iseffective",1),n.append("pagenum",1),n.append("pagesize",99999),Object(a.a)({url:"/repository/searchRepository",method:"post",data:n})}function g(e){var t=new URLSearchParams;return t.append("countryid",e),Object(a.a)({url:"/country/getprovincelist",method:"post",data:t})}function v(e){var t=new URLSearchParams;return t.append("provinceid",e),Object(a.a)({url:"/country/getcitylist",method:"post",data:t})}function _(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("repositoryId",e),""!==t&&null!==t&&void 0!==t&&o.append("productCode",t),Object(a.a)({url:"/location/batchlist",method:"post",data:o})}function b(e,t,o,n){var r=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&r.append("repositoryId",e),""!==t&&null!==t&&void 0!==t&&r.append("locationId",t),""!==o&&null!==o&&void 0!==o&&r.append("productCode",o),""!==n&&null!==n&&void 0!==n&&r.append("batch",n),Object(a.a)({url:"/location/getQuantity",method:"post",data:r})}function w(e,t,o,n){var r=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&r.append("repositoryId",e),""!==t&&null!==t&&void 0!==t&&r.append("locationId",t),""!==o&&null!==o&&void 0!==o&&r.append("productCode",o),""!==n&&null!==n&&void 0!==n&&r.append("batch",n),Object(a.a)({url:"/location/getQuantity2",method:"post",data:r})}function S(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("repositoryId",e),""!==t&&null!==t&&void 0!==t&&""!==t.productCode&&null!==t.productCode&&void 0!==t.productCode&&o.append("productCode",t.productCode),o.append("isEffective",1),Object(a.a)({url:"/location/getlocation",method:"post",data:o})}function I(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("repositoryId",e),""!==t.toolsCode&&null!==t.toolsCode&&void 0!==t.toolsCode&&o.append("productCode",t.toolsCode),o.append("isEffective",1),Object(a.a)({url:"/location/getlocation",method:"post",data:o})}function $(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("searchRepositoryId",e),""!==t&&null!==t&&void 0!==t&&o.append("locationCode",t),o.append("isEffective",1),o.append("pageNum",1),o.append("pageSize",99999),Object(a.a)({url:"/location/locationlist",method:"post",data:o})}function x(){var e=new URLSearchParams;return e.append("pageNum",1),e.append("pageSize",9999),Object(a.a)({url:"/materialslist/materialslist",method:"post",data:e})}function C(){var e=new URLSearchParams;return e.append("stat",1),e.append("pageNum",1),e.append("pageSize",9999),Object(a.a)({url:"/processFile/search",method:"post",data:e})}function k(e){var t=new URLSearchParams;return t.append("deptId",e),t.append("stat",1),t.append("pageNum",1),t.append("pageSize",99999),Object(a.a)({url:"/workCenter/search",method:"post",data:t})}function M(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("sourceNumber",e),Object(a.a)({url:"/requireplan/requireplanlist",method:"post",data:t})}function N(e,t){var o=new URLSearchParams;return o.append("zcc",e),o.append("regionId",t),Object(a.a)({url:"/zcc/saveRegion",method:"post",data:o})}function P(e){var t=new URLSearchParams;return t.append("regionId",e),Object(a.a)({url:"/zcc/getRegion",method:"post",data:t})}function F(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("code",e),t.append("pagenum",1),t.append("pagesize",99999),Object(a.a)({url:"/product/productlist",method:"post",data:t})}function O(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("categoryname",e),t.append("pagenum",1),t.append("pagesize",9999),Object(a.a)({url:"/measurement/search",method:"post",data:t})}function E(e){var t=new URLSearchParams;return t.append("supplierName",e),t.append("pagenum",1),t.append("pagesize",99999),Object(a.a)({url:"/supplier/search",method:"post",data:t})}function T(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("supplierId",e),t.append("pageNum",1),t.append("pageSize",9999),Object(a.a)({url:"/payment/shouldPayList",method:"post",data:t})}function R(){return Object(a.a)({url:"/zcc/getId",method:"post"})}function j(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("customerPhone",e),Object(a.a)({url:"/installmentapply/existList",method:"post",data:t})}function D(e){var t=new URLSearchParams;return""!==e.collectId&&null!==e.collectId&&void 0!==e.collectId&&t.append("collectId",e.collectId),""!==e.sourceNumber&&null!==e.sourceNumber&&void 0!==e.sourceNumber&&t.append("sourceNumber",e.sourceNumber),""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("agentId",e.id),t.append("repositoryId",0),t.append("pageNum",1),t.append("pageSize",9999),Object(a.a)({url:"/agentCollect/agentCollectList",method:"post",data:t})}function L(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("detailId",e),Object(a.a)({url:"/role/getDetailById",method:"post",data:t})}function z(e){var t=new URLSearchParams;return""!==e.loginRepositoryId&&null!==e.loginRepositoryId&&void 0!==e.loginRepositoryId&&t.append("repositoryid",e.loginRepositoryId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionid",e.regionIds),Object(a.a)({url:"/region/getregionlistbyreid",method:"post",data:t})}function A(e){var t=new URLSearchParams;return t.append("applyNumber",e),Object(a.a)({url:"/receiptStat/checkReceiptApply",method:"post",data:t})}function U(e){var t=new URLSearchParams;return t.append("planNumber",e),Object(a.a)({url:"/receiptStat/checkReceiptPlan",method:"post",data:t})}function q(e){var t=new URLSearchParams;return t.append("orderNumber",e),Object(a.a)({url:"/receiptStat/checkReceiptOrder",method:"post",data:t})}function B(e){var t=new URLSearchParams;return t.append("orderNumber",e),Object(a.a)({url:"/saleReceiptStat/checkReceiptOrder",method:"post",data:t})}function K(e){var t=new URLSearchParams;return t.append("opportunityNumber",e),Object(a.a)({url:"/saleReceiptStat/checkReceiptOpportunity",method:"post",data:t})}function W(e){var t=new URLSearchParams;return t.append("applyNumber",e),Object(a.a)({url:"/installmentReceiptStat/checkReceiptApply",method:"post",data:t})}function V(e){var t=new URLSearchParams;return""!==e.productCode&&null!==e.productCode&&void 0!==e.productCode&&t.append("productCode",e.productCode),""!==e.batch&&null!==e.batch&&void 0!==e.batch&&t.append("batch",e.batch),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.locationId&&null!==e.locationId&&void 0!==e.locationId&&t.append("locationId",e.locationId),Object(a.a)({url:"/allinventory/getAllBatch",method:"post",data:t})}},"8PD8":function(e,t,o){},"9QBK":function(e,t,o){"use strict";var a=o("6HaC"),n=o("2H35"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{iseffectiveFilter:function(e){return{1:"启用",2:"停用"}[e]},genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{repositorycontrol:{type:Boolean,default:!1}},data:function(){return{repositoryVisible:this.repositorycontrol,choosedata:"",types:[],nations:[],downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{repositoryName:"",type:"",iseffective:"",regionId:"",countyrId:"",id:"",stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,pagenum:1,pagesize:10},depts:[],props:{value:"id",label:"regionName",children:"regionListVos"},regions:[],getemplistregions:[],getemplistregions0:[]}},watch:{repositorycontrol:function(){this.repositoryVisible=this.repositorycontrol,this.getlist()}},beforeCreate:function(){this},methods:{getlist:function(){var e=this;Object(a.v)().then(function(t){200===t.data.ret&&(e.nations=t.data.data.content)}),this.listLoading=!0,Object(n.g)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.e)().then(function(t){200===t.data.ret&&(console.log(t),e.types=t.data.data.content.list)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions=e.tranKTree(t.data.data.content))})},handleFilter:function(){var e=this;this.getemplist.pagenum=1,this.getemplist.regionId=this.getemplistregions[this.getemplistregions.length-1],console.log(this.getemplist),Object(n.g)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount,e.repositoryVisible=!0)})},handleAdd:function(){this.$router.push("/Repository/NewRepository"),this.repositoryVisible=!1},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleConfirm:function(){this.$emit("repositoryname",this.choosedata),this.repositoryVisible=!1},handleCurrentChange:function(e){this.choosedata=e}}},s=(o("H5WF"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.repositoryVisible,repositorycontrol:e.repositorycontrol,"close-on-press-escape":!1,top:"10px",title:"选择仓库","append-to-body":""},on:{"update:visible":function(t){e.repositoryVisible=t},close:function(t){e.$emit("update:repositorycontrol",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Repository.id"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.id,callback:function(t){e.$set(e.getemplist,"id",t)},expression:"getemplist.id"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Repository.repositoryname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.repositoryName,callback:function(t){e.$set(e.getemplist,"repositoryName",t)},expression:"getemplist.repositoryName"}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{value:e.getemplist.type,placeholder:e.$t("Repository.type2"),clearable:""},model:{value:e.getemplist.type,callback:function(t){e.$set(e.getemplist,"type",t)},expression:"getemplist.type"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{value:e.getemplist.iseffective,placeholder:e.$t("Repository.iseffective"),clearable:""},model:{value:e.getemplist.iseffective,callback:function(t){e.$set(e.getemplist,"iseffective",t)},expression:"getemplist.iseffective"}},[o("el-option",{attrs:{label:e.$t("updates.qy"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.ty"),value:"2"}})],1),e._v(" "),o("el-cascader",{staticClass:"filter-item",attrs:{options:e.regions,props:e.props,"show-all-levels":!1,placeholder:e.$t("Hmodule.xzqy"),"change-on-select":"",filterable:"",clearable:""},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择国家",clearable:""},model:{value:e.getemplist.countyrId,callback:function(t){e.$set(e.getemplist,"countyrId",t)},expression:"getemplist.countyrId"}},e._l(e.nations,function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("Repository.id"),resizable:!1,prop:"id",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Repository.repositoryname"),resizable:!1,prop:"repositoryName",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.repositoryName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Repository.type2"),resizable:!1,prop:"categoryName",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.categoryName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Repository.iseffective"),resizable:!1,prop:"stat",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("iseffectiveFilter")(t.row.stat)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Repository.managerPeople"),resizable:!1,align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.managerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Repository.regionId"),resizable:!1,prop:"regionName",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])})],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-top":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))]),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}})],1)},[],!1,null,"3b91a662",null);c.options.__file="MyRepository.vue";t.a=c.exports},"9zct":function(e,t,o){},AR14:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"e",function(){return r}),o.d(t,"b",function(){return i}),o.d(t,"c",function(){return l}),o.d(t,"f",function(){return s}),o.d(t,"g",function(){return c}),o.d(t,"h",function(){return p}),o.d(t,"k",function(){return d}),o.d(t,"d",function(){return u}),o.d(t,"l",function(){return m}),o.d(t,"i",function(){return h}),o.d(t,"q",function(){return y}),o.d(t,"p",function(){return f}),o.d(t,"j",function(){return g}),o.d(t,"n",function(){return v}),o.d(t,"m",function(){return _}),o.d(t,"o",function(){return b});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("advanceId",e),Object(a.a)({url:"/voucher/addAdvanceVoucher",method:"post",data:t})}function r(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("recoverId",e),Object(a.a)({url:"/voucher/addRecoverVoucher",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("changeId",e),Object(a.a)({url:"/voucher/addChangeCountVoucher",method:"post",data:t})}function l(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("exchangeId",e),Object(a.a)({url:"/voucher/addExchangeVoucher",method:"post",data:t})}function s(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("returnId",e),Object(a.a)({url:"/voucher/addReturnVoucher",method:"post",data:t})}function c(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("outId",e),Object(a.a)({url:"/voucher/addSaleCostVoucher",method:"post",data:t})}function p(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("outId",e),Object(a.a)({url:"/voucher/addSaleVoucher",method:"post",data:t})}function d(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("date",e),Object(a.a)({url:"/voucher/endProfit",method:"post",data:t})}function u(e){var t=new URLSearchParams;return Object(a.a)({url:"/voucher/addProduceVoucher",method:"post",data:t})}function m(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("subjectCode",e),Object(a.a)({url:"/subject/getSubjectDetail",method:"post",data:t})}function h(e,t,o){var n=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&n.append("voucherJson",e),""!==t&&null!==t&&void 0!==t&&n.append("voucherDetailJson",t),""!==o.repositoryId&&null!==o.repositoryId&&void 0!==o.repositoryId&&n.append("repositoryId",o.repositoryId),""!==o.regionId&&null!==o.regionId&&void 0!==o.regionId&&n.append("regionId",o.regionId),Object(a.a)({url:"/voucher/addvoucher",method:"post",data:n})}function y(e){var t=new URLSearchParams;return""!==e.sourceNumber&&null!==e.sourceNumber&&void 0!==e.sourceNumber&&t.append("sourceNumber",e.sourceNumber),""!==e.voucherId&&null!==e.voucherId&&void 0!==e.voucherId&&t.append("voucherId",e.voucherId),""!==e.voucherNo&&null!==e.voucherNo&&void 0!==e.voucherNo&&t.append("voucherNo",e.voucherNo),""!==e.voucherStat&&null!==e.voucherStat&&void 0!==e.voucherStat&&t.append("voucherStat",e.voucherStat),""!==e.receiptdate&&null!==e.receiptdate&&void 0!==e.receiptdate&&t.append("receiptdate",e.receiptdate),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),Object(a.a)({url:"/voucher/voucherlist",method:"post",data:t})}function f(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("voucherJson",e),""!==t&&null!==t&&void 0!==t&&o.append("voucherDetailJson",t),Object(a.a)({url:"/voucher/updatevoucher",method:"post",data:o})}function g(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("voucherIds",e),Object(a.a)({url:"/voucher/deletevoucher",method:"post",data:o})}function v(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("id",e),Object(a.a)({url:"/repository/searchRepository",method:"post",data:t})}function _(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("regionid",e),Object(a.a)({url:"/region/list",method:"post",data:t})}function b(e){var t=new URLSearchParams;return""!==e.receiptdate&&null!==e.receiptdate&&void 0!==e.receiptdate&&t.append("receiptdate",e.receiptdate),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),Object(a.a)({url:"/balance/subjectBalanceList",method:"post",data:t})}},BJvg:function(e,t,o){"use strict";o.d(t,"k",function(){return n}),o.d(t,"f",function(){return r}),o.d(t,"g",function(){return i}),o.d(t,"e",function(){return l}),o.d(t,"a",function(){return s}),o.d(t,"m",function(){return c}),o.d(t,"j",function(){return p}),o.d(t,"c",function(){return d}),o.d(t,"d",function(){return u}),o.d(t,"o",function(){return m}),o.d(t,"i",function(){return h}),o.d(t,"l",function(){return y}),o.d(t,"b",function(){return f}),o.d(t,"n",function(){return g}),o.d(t,"h",function(){return v});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e&&null!==e&&t.append("type",e),t.append("pagenum",1),t.append("pagesize",9999),Object(a.a)({url:"/customer/searchCusCategory",method:"post",data:t})}function r(e){var t=new URLSearchParams;return""!==e.customername&&null!==e.customername&&void 0!==e.customername&&t.append("customername",e.customername),""!==e.level&&null!==e.level&&void 0!==e.level&&t.append("level",e.level),""!==e.createtime&&null!==e.createtime&&void 0!==e.createtime&&t.append("createtime",e.createtime),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.repositoryid&&null!==e.repositoryid&&void 0!==e.repositoryid&&t.append("repositoryid",e.repositoryid),""!==e.source&&null!==e.source&&void 0!==e.source&&t.append("source",e.source),""!==e.customerphone&&null!==e.customerphone&&void 0!==e.customerphone&&t.append("customerphone",e.customerphone),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/customer/customerlist",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("customerId",e),Object(a.a)({url:"/customer/customerInfo",method:"post",data:t})}function l(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("customerId",e),Object(a.a)({url:"/customer/customerDetail",method:"post",data:t})}function s(e){var t=new URLSearchParams;return""!==e.firstname&&null!==e.firstname&&void 0!==e.firstname&&t.append("firstname",e.firstname),""!==e.middlename&&null!==e.middlename&&void 0!==e.middlename&&t.append("middlename",e.middlename),""!==e.lastname&&null!==e.lastname&&void 0!==e.lastname&&t.append("lastname",e.lastname),""!==e.email&&null!==e.email&&void 0!==e.email&&t.append("email",e.email),""!==e.phone&&null!==e.phone&&void 0!==e.phone&&t.append("phone",e.phone),""!==e.phone2&&null!==e.phone2&&void 0!==e.phone2&&t.append("phone2",e.phone2),""!==e.phone3&&null!==e.phone3&&void 0!==e.phone3&&t.append("phone3",e.phone3),""!==e.gender&&null!==e.gender&&void 0!==e.gender&&t.append("gender",e.gender),""!==e.countryid&&null!==e.countryid&&void 0!==e.countryid&&t.append("countryid",e.countryid),""!==e.provinceid&&null!==e.provinceid&&void 0!==e.provinceid&&t.append("provinceid",e.provinceid),""!==e.cityid&&null!==e.cityid&&void 0!==e.cityid&&t.append("cityid",e.cityid),""!==e.level&&null!==e.level&&void 0!==e.level&&t.append("level",e.level),""!==e.address&&null!==e.address&&void 0!==e.address&&t.append("address",e.address),""!==e.repositoryid&&null!==e.repositoryid&&void 0!==e.repositoryid&&t.append("repositoryid",e.repositoryid),""!==e.birthday&&null!==e.birthday&&void 0!==e.birthday&&t.append("birthday",e.birthday),""!==e.source&&null!==e.source&&void 0!==e.source&&t.append("source",e.source),""!==e.newold&&null!==e.newold&&void 0!==e.newold&&t.append("newold",e.newold),""!==e.customertype&&null!==e.customertype&&void 0!==e.customertype&&t.append("customertype",e.customertype),""!==e.landline&&null!==e.landline&&void 0!==e.landline&&t.append("landline",e.landline),Object(a.a)({url:"/customer/addCustomer",method:"post",data:t})}function c(e){var t=new URLSearchParams;return""!==e.landline&&null!==e.landline&&void 0!==e.landline&&t.append("landline",e.landline),""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("customerid",e.id),""!==e.firstName&&null!==e.firstName&&void 0!==e.firstName&&t.append("firstname",e.firstName),""!==e.middleName&&null!==e.middleName&&void 0!==e.middleName&&t.append("middlename",e.middleName),""!==e.lastName&&null!==e.lastName&&void 0!==e.lastName&&t.append("lastname",e.lastName),""!==e.phone&&null!==e.phone&&void 0!==e.phone&&t.append("phone",e.phone),""!==e.phone2&&null!==e.phone2&&void 0!==e.phone2&&t.append("phone2",e.phone2),""!==e.phone3&&null!==e.phone3&&void 0!==e.phone3&&t.append("phone3",e.phone3),""!==e.gender&&null!==e.gender&&void 0!==e.gender&&t.append("gender",e.gender),""!==e.countryId&&null!==e.countryId&&void 0!==e.countryId&&t.append("countryid",e.countryId),""!==e.provinceId&&null!==e.provinceId&&void 0!==e.provinceId&&t.append("provinceid",e.provinceId),""!==e.cityId&&null!==e.cityId&&void 0!==e.cityId&&t.append("cityid",e.cityId),""!==e.level&&null!==e.level&&void 0!==e.level&&t.append("level",e.level),""!==e.address&&null!==e.address&&void 0!==e.address&&t.append("address",e.address),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryid",e.repositoryId),""!==e.birthday&&null!==e.birthday&&void 0!==e.birthday&&t.append("birthday",e.birthday),""!==e.source&&null!==e.source&&void 0!==e.source&&t.append("source",e.source),""!==e.newOrOld&&null!==e.newOrOld&&void 0!==e.newOrOld&&t.append("newold",e.newOrOld),""!==e.customerType&&null!==e.customerType&&void 0!==e.customerType&&t.append("customertype",e.customerType),Object(a.a)({url:"/customer/updateCustomer",method:"post",data:t})}function p(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("customerids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/customer/deletecustomer",method:"post",data:o})}function d(e){var t=new URLSearchParams;return""!==e.agentname&&null!==e.agentname&&void 0!==e.agentname&&t.append("agentname",e.agentname),""!==e.phone&&null!==e.phone&&void 0!==e.phone&&t.append("phone",e.phone),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.pinyin&&null!==e.pinyin&&void 0!==e.pinyin&&t.append("pinyin",e.pinyin),""!==e.level&&null!==e.level&&void 0!==e.level&&t.append("level",e.level),""!==e.source&&null!==e.source&&void 0!==e.source&&t.append("source",e.source),""!==e.discount&&null!==e.discount&&void 0!==e.discount&&t.append("discount",e.discount),""!==e.countryid&&null!==e.countryid&&void 0!==e.countryid&&t.append("countryid",e.countryid),""!==e.provinceid&&null!==e.provinceid&&void 0!==e.provinceid&&t.append("provinceid",e.provinceid),""!==e.cityid&&null!==e.cityid&&void 0!==e.cityid&&t.append("cityid",e.cityid),""!==e.introduce&&null!==e.introduce&&void 0!==e.introduce&&t.append("introduce",e.introduce),""!==e.address&&null!==e.address&&void 0!==e.address&&t.append("address",e.address),""!==e.contactname&&null!==e.contactname&&void 0!==e.contactname&&t.append("contactname",e.contactname),""!==e.traderid&&null!==e.traderid&&void 0!==e.traderid&&t.append("traderid",e.traderid),""!==e.transmode&&null!==e.transmode&&void 0!==e.transmode&&t.append("transmode",e.transmode),""!==e.deliverymode&&null!==e.deliverymode&&void 0!==e.deliverymode&&t.append("deliverymode",e.deliverymode),""!==e.createid&&null!==e.createid&&void 0!==e.createid&&t.append("createid",e.createid),""!==e.newold&&null!==e.newold&&void 0!==e.newold&&t.append("newold",e.newold),""!==e.accountsDays&&null!==e.accountsDays&&void 0!==e.accountsDays&&t.append("accountsdays",e.accountsDays),""!==e.settleMode&&null!==e.settleMode&&void 0!==e.settleMode&&t.append("settlemode",e.settleMode),""!==e.payMode&&null!==e.payMode&&void 0!==e.payMode&&t.append("paymode",e.payMode),""!==e.currency&&null!==e.currency&&void 0!==e.currency&&t.append("currency",e.currency),""!==e.invoiceType&&null!==e.invoiceType&&void 0!==e.invoiceType&&t.append("invoicetype",e.invoiceType),""!==e.openingbank&&null!==e.openingbank&&void 0!==e.openingbank&&t.append("openingbank",e.openingbank),""!==e.accountname&&null!==e.accountname&&void 0!==e.accountname&&t.append("accountname",e.accountname),""!==e.account&&null!==e.account&&void 0!==e.account&&t.append("account",e.account),""!==e.establishmenttime&&null!==e.establishmenttime&&void 0!==e.establishmenttime&&t.append("establishmenttime",e.establishmenttime),""!==e.totalnumber&&null!==e.totalnumber&&void 0!==e.totalnumber&&t.append("totalnumber",e.totalnumber),""!==e.corporaterepresentative&&null!==e.corporaterepresentative&&void 0!==e.corporaterepresentative&&t.append("corporaterepresentative",e.corporaterepresentative),""!==e.businesslicense&&null!==e.businesslicense&&void 0!==e.businesslicense&&t.append("businesslicense",e.businesslicense),Object(a.a)({url:"/agent/addagent",method:"post",data:t})}function u(e){var t=new URLSearchParams;return""!==e.agentname&&null!==e.agentname&&void 0!==e.agentname&&t.append("agentname",e.agentname),""!==e.level&&null!==e.level&&void 0!==e.level&&t.append("level",e.level),""!==e.createtime&&null!==e.createtime&&void 0!==e.createtime&&t.append("createtime",e.createtime),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.phone&&null!==e.phone&&void 0!==e.phone&&t.append("phone",e.phone),""!==e.source&&null!==e.source&&void 0!==e.source&&t.append("source",e.source),""!==e.pinyin&&null!==e.pinyin&&void 0!==e.pinyin&&t.append("pinyin",e.pinyin),""!==e.contactname&&null!==e.contactname&&void 0!==e.contactname&&t.append("contactname",e.contactname),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/agent/agentlist",method:"post",data:t})}function m(e){var t=new URLSearchParams;return""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("agentid",e.id),""!==e.agentName&&null!==e.agentName&&void 0!==e.agentName&&t.append("agentname",e.agentName),""!==e.phone&&null!==e.phone&&void 0!==e.phone&&t.append("phone",e.phone),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.pinyin&&null!==e.pinyin&&void 0!==e.pinyin&&t.append("pinyin",e.pinyin),""!==e.level&&null!==e.level&&void 0!==e.level&&t.append("level",e.level),""!==e.source&&null!==e.source&&void 0!==e.source&&t.append("source",e.source),""!==e.discount&&null!==e.discount&&void 0!==e.discount&&t.append("discount",e.discount),""!==e.countryId&&null!==e.countryId&&void 0!==e.countryId&&t.append("countryid",e.countryId),""!==e.provinceId&&null!==e.provinceId&&void 0!==e.provinceId&&t.append("provinceid",e.provinceId),""!==e.cityId&&null!==e.cityId&&void 0!==e.cityId&&t.append("cityid",e.cityId),""!==e.introduce&&null!==e.introduce&&void 0!==e.introduce&&t.append("introduce",e.introduce),""!==e.address&&null!==e.address&&void 0!==e.address&&t.append("address",e.address),""!==e.contactName&&null!==e.contactName&&void 0!==e.contactName&&t.append("contactname",e.contactName),""!==e.traderid&&null!==e.traderid&&void 0!==e.traderid&&t.append("traderid",e.traderid),""!==e.transMode&&null!==e.transMode&&void 0!==e.transMode&&t.append("transmode",e.transMode),""!==e.deliveryMode&&null!==e.deliveryMode&&void 0!==e.deliveryMode&&t.append("deliverymode",e.deliveryMode),""!==e.deliveryMode&&null!==e.deliveryMode&&void 0!==e.deliveryMode&&t.append("deliverymode",e.deliveryMode),""!==e.accountsDays&&null!==e.accountsDays&&void 0!==e.accountsDays&&t.append("accountsdays",e.accountsDays),""!==e.settleMode&&null!==e.settleMode&&void 0!==e.settleMode&&t.append("settlemode",e.settleMode),""!==e.payMode&&null!==e.payMode&&void 0!==e.payMode&&t.append("paymode",e.payMode),""!==e.currency&&null!==e.currency&&void 0!==e.currency&&t.append("currency",e.currency),""!==e.invoiceType&&null!==e.invoiceType&&void 0!==e.invoiceType&&t.append("invoicetype",e.invoiceType),""!==e.openingBank&&null!==e.openingBank&&void 0!==e.openingBank&&t.append("openingbank",e.openingBank),""!==e.accountName&&null!==e.accountName&&void 0!==e.accountName&&t.append("accountname",e.accountName),""!==e.account&&null!==e.account&&void 0!==e.account&&t.append("account",e.account),""!==e.establishmenttime&&null!==e.establishmenttime&&void 0!==e.establishmenttime&&t.append("establishmenttime",e.establishmenttime),""!==e.totalNumber&&null!==e.totalNumber&&void 0!==e.totalNumber&&t.append("totalnumber",e.totalNumber),""!==e.corporaterepresentative&&null!==e.corporaterepresentative&&void 0!==e.corporaterepresentative&&t.append("corporaterepresentative",e.corporaterepresentative),""!==e.businessLicense&&null!==e.businessLicense&&void 0!==e.businessLicense&&t.append("businesslicense",e.businessLicense),Object(a.a)({url:"/agent/updateagent",method:"post",data:t})}function h(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("ids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/agent/deleteagent",method:"post",data:o})}function y(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&t.append("type",e.type),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/customer/searchCusCategory",method:"post",data:t})}function f(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),t.append("category",void 0),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&t.append("type",e.type),Object(a.a)({url:"/customer/addCusCategory",method:"post",data:t})}function g(e){var t=new URLSearchParams;return""!==e.categoryName&&null!==e.categoryName&&void 0!==e.categoryName&&t.append("categoryname",e.categoryName),""!==e.isEffective&&null!==e.isEffective&&t.append("iseffective",e.isEffective),""!==e.id&&null!==e.id&&t.append("id",e.id),Object(a.a)({url:"/customer/updateCusCategory",method:"post",data:t})}function v(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("ids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/customer/delateCusCategory",method:"post",data:o})}},C8Bo:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"d",function(){return r}),o.d(t,"c",function(){return i}),o.d(t,"e",function(){return l}),o.d(t,"b",function(){return s});var a=o("t3Un");function n(e,t){var o=new URLSearchParams;return o.append("packageMainJson",e),o.append("packageSubJson",t),Object(a.a)({url:"/package/addPackage",method:"post",data:o})}function r(e){var t=new URLSearchParams;return""!==e.productName&&null!==e.productName&&void 0!==e.productName&&t.append("productName",e.productName),""!==e.productCode&&null!==e.productCode&&void 0!==e.productCode&&t.append("productCode",e.productCode),""!==e.typeId&&null!==e.typeId&&void 0!==e.typeId&&t.append("typeId",e.typeId),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/package/packageList",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e.productCode&&null!==e.productCode&&void 0!==e.productCode&&t.append("productCode",e.productCode),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),Object(a.a)({url:"/package/getPackage",method:"post",data:t})}function l(e,t){var o=new URLSearchParams;return o.append("packageMainJson",e),o.append("packageSubJson",t),Object(a.a)({url:"/package/updatePackage",method:"post",data:o})}function s(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("mainIds",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/package/deletePackage",method:"post",data:o})}},C9RJ:function(e,t,o){},CKpx:function(e,t,o){"use strict";var a=o("3umC");o.n(a).a},CXWi:function(e,t,o){"use strict";o.d(t,"e",function(){return n}),o.d(t,"d",function(){return r}),o.d(t,"b",function(){return i}),o.d(t,"a",function(){return l}),o.d(t,"f",function(){return s}),o.d(t,"g",function(){return c}),o.d(t,"c",function(){return p}),o.d(t,"h",function(){return d});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("detailJson",e),Object(a.a)({url:"/coupon/returnMoney",method:"post",data:t})}function r(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("detailJson",e),Object(a.a)({url:"/coupon/provide",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("Json",e),Object(a.a)({url:"/coupon/create",method:"post",data:t})}function l(e){var t=new URLSearchParams;return""!==e.name&&null!==e.name&&void 0!==e.name&&t.append("name",e.name),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),""!==e.money&&null!==e.money&&void 0!==e.money&&t.append("money",e.money),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/coupon/search",method:"post",data:t})}function s(e){var t=new URLSearchParams;return""!==e.couponName&&null!==e.couponName&&void 0!==e.couponName&&t.append("couponName",e.couponName),""!==e.repositoryName&&null!==e.repositoryName&&void 0!==e.repositoryName&&t.append("repositoryName",e.repositoryName),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/coupon/searchProvide",method:"post",data:t})}function c(e){var t=new URLSearchParams;return""!==e.couponName&&null!==e.couponName&&void 0!==e.couponName&&t.append("couponName",e.couponName),""!==e.repositoryName&&null!==e.repositoryName&&void 0!==e.repositoryName&&t.append("repositoryName",e.repositoryName),""!==e.customerName&&null!==e.customerName&&void 0!==e.customerName&&t.append("customerName",e.customerName),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.couponId&&null!==e.couponId&&void 0!==e.couponId&&t.append("couponId",e.couponId),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/coupon/searchUse",method:"post",data:t})}function p(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/coupon/delete",method:"post",data:o})}function d(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("Json",e),Object(a.a)({url:"/coupon/update",method:"post",data:t})}},D3Ub:function(e,t,o){"use strict";t.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(o("4d7F"));t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,o){return function n(r,i){try{var l=t[r](i),s=l.value}catch(e){return void o(e)}if(!l.done)return a.default.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}},EcK7:function(e,t,o){},Efbm:function(e,t,o){"use strict";var a=o("r1wK");o.n(a).a},"F+IB":function(e,t,o){"use strict";var a=o("6HaC"),n=o("0zGY"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{jobCat:{type:2,pagenum:1,pagesize:9999},jobs:[],choosedata:"",managerPeople:"",regionManagerId:"",currentRow:null,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},depts:[],props2:{value:"id",label:"regionName",children:"regionListVos"},regions2:[],getemplistregions:[],repositories:[],employeeVisible:this.control,regionManagerVisible:!1}},watch:{control:function(){this.employeeVisible=this.control,this.gitemplist()}},beforeCreate:function(){this},methods:{gitemplist:function(){var e=this;this.listLoading=!0,console.log(this.getemplist),Object(n.p)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.n)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions2=e.tranKTree(t.data.data.content))}),Object(n.r)(this.jobCat).then(function(t){200===t.data.ret?e.jobs=t.data.data.content.list:console.log("职位列表出错")})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleFilter:function(){var e=this;this.getemplist.regionid=this.getemplistregions[this.getemplistregions.length-1],Object(n.p)(this.getemplist).then(function(t){200===t.data.ret?(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount):e.$notify.error({title:"wrong",message:"wrong",offset:100})})},handleAdd:function(){this.employeeVisible=!1,this.$router.push("/EmployeeInformation/NewEmployeeInformation")},handlechange4:function(e){var t=this;console.log(e);var o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret?(console.log(e),t.repositories=e.data.data.content.list):t.$message.error("出错了")})},restemplist:function(){this.getemplist={repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},this.getemplistregions=[]},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,this.$emit("stockName",this.choosedata)}}},s=(o("v8mZ"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzyg"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.employeename"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.employeename,callback:function(t){e.$set(e.getemplist,"employeename",t)},expression:"getemplist.employeename"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.jobnumber2"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.jobnumber,callback:function(t){e.$set(e.getemplist,"jobnumber",t)},expression:"getemplist.jobnumber"}}),e._v(" "),o("el-date-picker",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.xzrq"),type:"date","value-format":"yyyy-MM-dd"},model:{value:e.getemplist.time,callback:function(t){e.$set(e.getemplist,"time",t)},expression:"getemplist.time"}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"}},[o("el-cascader",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{options:e.regions2,props:e.props2,"show-all-levels":!1,placeholder:e.$t("Hmodule.xzqy"),"change-on-select":"",filterable:"",clearable:""},on:{change:e.handlechange4},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.xzmd"),clearable:"",filterable:""},model:{value:e.getemplist.repositoryid,callback:function(t){e.$set(e.getemplist,"repositoryid",t)},expression:"getemplist.repositoryid"}},e._l(e.repositories,function(e,t){return o("el-option",{key:t,attrs:{label:e.repositoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"left","margin-top":"10px","margin-left":"20px"},attrs:{value:e.getemplist.postid,placeholder:e.$t("NewEmployeeInformation.postid2"),clearable:""},model:{value:e.getemplist.postid,callback:function(t){e.$set(e.getemplist,"postid",t)},expression:"getemplist.postid"}},e._l(e.jobs,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"right","margin-top":"10px","margin-right":"20px"},attrs:{placeholder:e.$t("NewEmployeeInformation.deptid2"),clearable:""},model:{value:e.getemplist.deptid,callback:function(t){e.$set(e.getemplist,"deptid",t)},expression:"getemplist.deptid"}},e._l(e.depts,function(e,t){return o("el-option",{key:t,attrs:{label:e.deptName,value:e.id}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.id"),resizable:!1,property:"id",align:"center",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.jobNumber"),resizable:!1,property:"jobNumber",align:"center",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.account"),resizable:!1,property:"account",width:"150",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.name"),resizable:!1,align:"center",width:"109"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.firstName)+" "+e._s(t.row.middleName)+" "+e._s(t.row.lastName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.gender"),resizable:!1,prop:"gender",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("genderFilter")(t.row.gender)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.deptName"),resizable:!1,prop:"deptName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.deptName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.regionName"),resizable:!1,prop:"regionName",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.repositoryName"),resizable:!1,prop:"repositoryName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.repositoryName))])]}}])})],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-top":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))]),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.gitemplist}})],1)},[],!1,null,"6a25a7c1",null);c.options.__file="MyEmp.vue";t.a=c.exports},GGdz:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"b",function(){return l});var a=o("t3Un");function n(e,t){var o=new URLSearchParams;return o.append("saleOpportunityJson",e),o.append("saleOpportunityDetailJson",t),Object(a.a)({url:"/saleopportunity/addsaleopportunity",method:"post",data:o})}function r(e){var t=new URLSearchParams;return""!==e.title&&null!==e.title&&void 0!==e.title&&t.append("title",e.title),""!==e.opportunityNumber&&null!==e.opportunityNumber&&void 0!==e.opportunityNumber&&t.append("opportunityNumber",e.opportunityNumber),""!==e.opportunityType&&null!==e.opportunityType&&void 0!==e.opportunityType&&t.append("opportunityType",e.opportunityType),""!==e.opportunitySource&&null!==e.opportunitySource&&void 0!==e.opportunitySource&&t.append("opportunitySource",e.opportunitySource),""!==e.customerType&&null!==e.customerType&&void 0!==e.customerType&&t.append("customerType",e.customerType),""!==e.handlePersonId&&null!==e.handlePersonId&&void 0!==e.handlePersonId&&t.append("handlePersonId",e.handlePersonId),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.isUse&&null!==e.isUse&&void 0!==e.isUse&&t.append("isUse",e.isUse),""!==e.isActive&&null!==e.isActive&&void 0!==e.isActive&&t.append("isActive",e.isActive),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/saleopportunity/saleopportunitylist",method:"post",data:t})}function i(e,t){var o=new URLSearchParams;return o.append("saleOpportunityJson",e),o.append("saleOpportunityDetailJson",t),Object(a.a)({url:"/saleopportunity/updatesaleopportunity",method:"post",data:o})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("opportunityIds",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/saleopportunity/deletesaleopportunity",method:"post",data:o})}},GlAp:function(e,t,o){"use strict";var a,n=o("14Xm"),r=o.n(n),i=o("4d7F"),l=o.n(i),s=o("D3Ub"),c=o.n(s),p=o("J+mc"),d=o("moiu"),u=o("NBqH"),m=o("6HaC"),h=o("ZySA"),y=o("Mz3J"),f=o("XR+3"),g=o("m0KX"),v=o("V6Gs"),_=o("TOFQ"),b={directives:{waves:h.a},components:{MyDialog:v.a,DetailList:g.a,MyEmp:f.a,Pagination:y.a,MySupplier:_.a},filters:{judgeStatFilter:function(e){return{0:a.$t("updates.wsh"),1:a.$t("updates.shz"),2:a.$t("Hmodule.shtg"),3:a.$t("Hmodule.shbtg")}[e]},receiptStatFilter:function(e){return{1:a.$t("updates.zd"),2:a.$t("updates.zx"),3:a.$t("updates.jd")}[e]},stockTypeFilter:function(e){return{1:"采购1"}[e]},advanceModeFilter:function(e){return{1:"一口价",2:"阶梯价"}[e]}},props:{advancecontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.advancecontrol,typeparms:{pagenum:1,pagesize:99999},types:[],depts:[],reviewParms:{id:"",judgePersonId:"",judgeStat:""},detailvisible:!1,visible2:!1,supplierId:"",empcontrol:!1,handlePersonId:"",stockControl:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds},personalForm:{},editVisible:!1,date:[]}},watch:{advancecontrol:function(){this.employeeVisible=this.advancecontrol,this.getlist()}},created:function(){this.getlist()},beforeCreate:function(){a=this},methods:{updatecountry:function(){this.getlist()},getlist:function(){var e=this;this.listLoading=!0,Object(p.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(d.p)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(u.c)(this.typeparms).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.supplierId="",this.getemplist.supplierId=""},restFilter2:function(){this.handlePersonId="",this.getemplist.handlePersonId=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,Object(p.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){this.handlePersonId=e.personName,this.getemplist.handlePersonId=e.id},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierId=e.supplierName,this.getemplist.supplierId=e.id},handleAdd:function(){this.$router.push("/Advancemanage/AddAdvanceProduct")},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){var e=this;return c()(r.a.mark(function t(){var o,a,n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.choosedata),e.employeeVisible=!1,t.next=4,l.a.all(e.choosedata.map(function(e){return Object(m.D)(e.productCode)}));case 4:for(o=t.sent,a=e.choosedata.map(function(e){return{productCode:e.productCode,productName:e.productName,productType:e.productType,typeId:e.typeId,unit:e.unit,color:e.color,costMoney:"0.00",includeTaxMoney:"0.00",taxRate:"0.00",taxMoney:"0.00",money:"0.00",includeTaxCostMoney:"0.00",carCode:"",batteryCode:"",motorCode:"",discount:0,discountMoney:0,quantity:"0.00",salePrice:"0.00",costPrice:"0.00"}}),console.log(o),n=0;n<e.choosedata.length;n++)for(i=0;i<o.length;i++)a[n].productCode===o[i].data.data.content.list[0].code&&(a[n].kpiGrade=o[i].data.data.content.list[0].kpiGrade,a[n].point=o[i].data.data.content.list[0].point,a[n].salePrice=o[i].data.data.content.list[0].salePrice,a[n].costPrice=o[i].data.data.content.list[0].costPrice,a[n].category=o[i].data.data.content.list[0].category,a[n].categoryId=o[i].data.data.content.list[0].categoryId,a[n].productCategory=o[i].data.data.content.list[0].category);console.log(a),e.$emit("advance",a);case 10:case"end":return t.stop()}},t,e)}))()}}},w=(o("VHv5"),o("KHd+")),S=Object(w.a)(b,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,advancecontrol:e.advancecontrol,"close-on-press-escape":!1,top:"10px",title:"选择预售商品","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:advancecontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("Advancemanage.productName"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productName,callback:function(t){e.$set(e.getemplist,"productName",t)},expression:"getemplist.productName"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"物品编号",clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productCode,callback:function(t){e.$set(e.getemplist,"productCode",t)},expression:"getemplist.productCode"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-select",{attrs:{value:e.getemplist.advanceMode,placeholder:"预售模式",clearable:""},model:{value:e.getemplist.advanceMode,callback:function(t){e.$set(e.getemplist,"advanceMode",t)},expression:"getemplist.advanceMode"}},[o("el-option",{attrs:{value:"1",label:"一口价"}}),e._v(" "),o("el-option",{attrs:{value:"2",label:"阶梯价"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.productCode"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productCode))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.productName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.productType"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.color"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.advanceMode"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("advanceModeFilter")(t.row.advanceMode)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.depositBegintime"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.depositBegintime))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.depositEndtime"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.depositEndtime))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.finalBegintime"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.finalBegintime))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.finalEndtime"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.finalEndtime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pageNum,limit:e.getemplist.pageSize},on:{"update:page":function(t){e.$set(e.getemplist,"pageNum",t)},"update:limit":function(t){e.$set(e.getemplist,"pageSize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"1ba5241a",null);S.options.__file="MyAdvance.vue";t.a=S.exports},H1pu:function(e,t,o){},H5WF:function(e,t,o){"use strict";var a=o("Wd8b");o.n(a).a},IJ2a:function(e,t,o){},IuxZ:function(e,t,o){"use strict";var a=o("6HaC"),n=o("BJvg"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]},filterno:function(e){return{1:"老客户",2:"新客户"}[e]}},props:{customercontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.customercontrol,visible2:!1,customertypes:[],customertyp:1,levels:[],levelstype:2,sources:[],sourcestype:3,downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{customername:"",customerphone:"",level:"",createtime:"",type:"",pagenum:1,pagesize:10,repositoryid:"",source:""},depts:[],props:{value:"id",label:"regionName",children:"regionListVos"},regions:[],getemplistregions:[],repositories:[]}},watch:{customercontrol:function(){this.employeeVisible=this.customercontrol,this.getlist(),this.getCategory()}},beforeCreate:function(){this},methods:{getCategory:function(){var e=this;Object(n.k)(this.customertyp).then(function(t){200===t.data.ret?e.customertypes=t.data.data.content.list:console.log("客户类型出错")}),Object(n.k)(this.levelstype).then(function(t){200===t.data.ret?e.levels=t.data.data.content.list:console.log("客户优质级别出错")}),Object(n.k)(this.sourcestype).then(function(t){200===t.data.ret?e.sources=t.data.data.content.list:console.log("客户来源出错")}),Object(a.J)().then(function(t){200===t.data.ret?e.repositories=t.data.data.content.list:console.log("门店出错")})},getlist:function(){var e=this;this.listLoading=!0,Object(n.f)(this.getemplist).then(function(t){200===t.data.ret?(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount):console.log("员工列表出错"),setTimeout(function(){e.listLoading=!1},50)})},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(n.f)(this.getemplist).then(function(t){200===t.data.ret?(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount):console.log("搜索出错")})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handlechange4:function(e){var t=this,o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret?t.repositories=e.data.data.content:t.$message.error("出错了")})},handleAdd:function(){this.employeeVisible=!1,this.$router.push("/Customer/NewCustomer")},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,console.log(this.choosedata),this.$emit("customerdata",this.choosedata)}}},s=(o("eG6r"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,customercontrol:e.customercontrol,"close-on-press-escape":!1,top:"10px",title:"选择客户","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:customercontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("Customer.customername"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.customername,callback:function(t){e.$set(e.getemplist,"customername",t)},expression:"getemplist.customername"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("Customer.phone"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.customerphone,callback:function(t){e.$set(e.getemplist,"customerphone",t)},expression:"getemplist.customerphone"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-select",{attrs:{value:e.getemplist.type,placeholder:e.$t("Customer.customertype"),clearable:""},model:{value:e.getemplist.type,callback:function(t){e.$set(e.getemplist,"type",t)},expression:"getemplist.type"}},e._l(e.customertypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{value:e.getemplist.source,placeholder:e.$t("Customer.source"),clearable:""},model:{value:e.getemplist.source,callback:function(t){e.$set(e.getemplist,"source",t)},expression:"getemplist.source"}},e._l(e.sources,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.xzmd"),filterable:"",clearable:""},model:{value:e.getemplist.repositoryid,callback:function(t){e.$set(e.getemplist,"repositoryid",t)},expression:"getemplist.repositoryid"}},e._l(e.repositories,function(e,t){return o("el-option",{key:t,attrs:{label:e.repositoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{placeholder:e.$t("Customer.level"),clearable:""},model:{value:e.getemplist.level,callback:function(t){e.$set(e.getemplist,"level",t)},expression:"getemplist.level"}},e._l(e.levels,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.customername"),resizable:!1,align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.customertype"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerTypeWZ))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.level"),resizable:!1,align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerLevel))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.birthday"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.birthday))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.source"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.source))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.newold"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("filterno")(t.row.newOrOld)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.phone"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.phoneNumber))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.gender"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("genderFilter")(t.row.gender)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.address"),resizable:!0,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.address))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.point"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.point))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.createTime"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"5e5f0cd4",null);c.options.__file="MyCustomer.vue";t.a=c.exports},"J+mc":function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"d",function(){return r}),o.d(t,"l",function(){return i}),o.d(t,"h",function(){return l}),o.d(t,"a",function(){return s}),o.d(t,"e",function(){return c}),o.d(t,"j",function(){return p}),o.d(t,"g",function(){return d}),o.d(t,"k",function(){return u}),o.d(t,"c",function(){return m}),o.d(t,"f",function(){return h}),o.d(t,"m",function(){return y}),o.d(t,"i",function(){return f}),o.d(t,"n",function(){return g});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("advanceProductJson",e),Object(a.a)({url:"/advanceproduct/addadvanceproduct",method:"post",data:t})}function r(e){var t=new URLSearchParams;return""!==e.productName&&null!==e.productName&&void 0!==e.productName&&t.append("productName",e.productName),""!==e.productCode&&null!==e.productCode&&void 0!==e.productCode&&t.append("productCode",e.productCode),""!==e.advanceMode&&null!==e.advanceMode&&void 0!==e.advanceMode&&t.append("advanceMode",e.advanceMode),""!==e.stat&&null!==e.stat&&void 0!==e.stat&&t.append("stat",e.stat),""!==e.productType&&null!==e.productType&&void 0!==e.productType&&t.append("productType",e.productType),""!==e.isUse&&null!==e.isUse&&void 0!==e.isUse&&t.append("isUse",e.isUse),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/advanceproduct/advancelist",method:"post",data:t})}function i(e){var t=new URLSearchParams;return t.append("advanceProductJson",e),Object(a.a)({url:"/advanceproduct/updateadvanceproduct",method:"post",data:t})}function l(e,t){var o=new URLSearchParams;return""!==t&&null!==t&&void 0!==t&&o.append("advanceId",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/advanceproduct/deleteadvanceproduct",method:"post",data:o})}function s(e,t,o){var n=new URLSearchParams;return n.append("advanceOrderJson",e),n.append("advanceOrderDetailJson",t),""!==o.repositoryId&&null!==o.repositoryId&&void 0!==o.repositoryId&&n.append("repositoryId",o.repositoryId),""!==o.regionId&&null!==o.regionId&&void 0!==o.regionId&&n.append("regionId",o.regionId),Object(a.a)({url:"/advanceorder/addadvanceorder",method:"post",data:n})}function c(e){var t=new URLSearchParams;return""!==e.title&&null!==e.title&&void 0!==e.title&&t.append("title",e.title),""!==e.advanceNumber&&null!==e.advanceNumber&&void 0!==e.advanceNumber&&t.append("advanceNumber",e.advanceNumber),""!==e.customerName&&null!==e.customerName&&void 0!==e.customerName&&t.append("customerName",e.customerName),""!==e.salePersonId&&null!==e.salePersonId&&void 0!==e.salePersonId&&t.append("salePersonId",e.salePersonId),""!==e.judgeStat&&null!==e.judgeStat&&void 0!==e.judgeStat&&t.append("judgeStat",e.judgeStat),""!==e.receiptStat&&null!==e.receiptStat&&void 0!==e.receiptStat&&t.append("receiptStat",e.receiptStat),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/advanceorder/advanceorderlist",method:"post",data:t})}function p(e,t){var o=new URLSearchParams;return o.append("advanceOrderJson",e),o.append("advanceOrderDetailJson",t),Object(a.a)({url:"/advanceorder/updateadvanceorder",method:"post",data:o})}function d(e,t){var o=new URLSearchParams;return o.append("orderIds",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/advanceorder/deleteadvanceorder",method:"post",data:o})}function u(e){var t=new URLSearchParams;return t.append("advanceOrderJson",e),Object(a.a)({url:"/advanceorder/updateadvanceorder",method:"post",data:t})}function m(e,t,o){var n=new URLSearchParams;return n.append("advanceReturnJson",e),n.append("advanceReturnDetailJson",t),""!==o.repositoryId&&null!==o.repositoryId&&void 0!==o.repositoryId&&n.append("repositoryId",o.repositoryId),""!==o.regionId&&null!==o.regionId&&void 0!==o.regionId&&n.append("regionId",o.regionId),Object(a.a)({url:"/advancereturn/addadvancereturn",method:"post",data:n})}function h(e){var t=new URLSearchParams;return""!==e.title&&null!==e.title&&void 0!==e.title&&t.append("title",e.title),""!==e.returnNumber&&null!==e.returnNumber&&void 0!==e.returnNumber&&t.append("returnNumber",e.returnNumber),""!==e.customerName&&null!==e.customerName&&void 0!==e.customerName&&t.append("customerName",e.customerName),""!==e.salePersonId&&null!==e.salePersonId&&void 0!==e.salePersonId&&t.append("salePersonId",e.salePersonId),""!==e.sourceNumber&&null!==e.sourceNumber&&void 0!==e.sourceNumber&&t.append("sourceNumber",e.sourceNumber),""!==e.judgeStat&&null!==e.judgeStat&&void 0!==e.judgeStat&&t.append("judgeStat",e.judgeStat),""!==e.receiptStat&&null!==e.receiptStat&&void 0!==e.receiptStat&&t.append("receiptStat",e.receiptStat),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/advancereturn/advancereturnlist",method:"post",data:t})}function y(e,t){var o=new URLSearchParams;return o.append("advanceReturnJson",e),o.append("advanceReturnDetailJson",t),Object(a.a)({url:"/advancereturn/updateadvancereturn",method:"post",data:o})}function f(e,t){var o=new URLSearchParams;return o.append("returnIds",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/advancereturn/deleteadvancereturn",method:"post",data:o})}function g(e){var t=new URLSearchParams;return t.append("advanceReturnJson",e),Object(a.a)({url:"/advancereturn/updateadvancereturn",method:"post",data:t})}},JlVO:function(e,t,o){},JwrO:function(e,t,o){"use strict";var a=o("JlVO");o.n(a).a},KOGV:function(e,t,o){"use strict";var a=o("Sd1/");o.n(a).a},LJrk:function(e,t,o){"use strict";var a=o("VG0r"),n=o("ZySA"),r=o("Mz3J"),i=o("yo+U"),l=o("fNFo"),s={directives:{waves:n.a},components:{MyTree:l.a,MySupplier:i.a,Pagination:r.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{giftcontrol:{type:Boolean,default:!1},personalform:{type:Object,default:null}},data:function(){return{getRowKeys:function(e){return e.code},select_orderId:[],select_order_number:[],query:this.personalform,supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.giftcontrol,visible2:!1,moreaction:"",list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10}}},watch:{giftcontrol:function(){this.productVisible=this.giftcontrol,console.log(this.giftcontrol),this.getlist()},personalform:function(){this.query=this.personalform}},created:function(){this.getlist()},beforeCreate:function(){this},methods:{getlist:function(){var e=this;this.listLoading=!0,this.getemplist.searchRepositoryId=this.query.saleRepositoryId,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(a.v)(2).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleSelectionChange:function(e){var t=this;this.moreaction=e,this.select_order_number=this.moreaction.length,this.select_orderId=[],e&&e.forEach(function(e){e&&t.select_orderId.push(e.code)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierid=e.supplierName,this.getemplist.supplierid=e.id},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryid=e.categoryName,this.getemplist.categoryid=e.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleAddTo:function(){this.productVisible=!1,console.log(this.moreaction);var e=this.moreaction.map(function(e){return{productCode:e.code,productName:e.productName,categoryName:e.category,category:e.categoryId,type:e.typeId,typeName:e.productType,color:e.color,unit:e.purMeasu,salePrice:e.salePrice.toFixed(2),money:"0.00",quantity:1}});console.log(e),this.$emit("gift",e)}}},c=(o("NqL6"),o("KHd+")),p=Object(c.a)(s,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.productVisible,giftcontrol:e.giftcontrol,"close-on-press-escape":!1,top:"10px",title:"选择赠品","append-to-body":""},on:{"update:visible":function(t){e.productVisible=t},close:function(t){e.$emit("update:giftcontrol",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.code"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.code,callback:function(t){e.$set(e.getemplist,"code",t)},expression:"getemplist.code"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productname,callback:function(t){e.$set(e.getemplist,"productname",t)},expression:"getemplist.productname"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.supplierid"),clearable:""},on:{focus:e.handlechoose,clear:e.restFilter2},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.supplierid,callback:function(t){e.supplierid=t},expression:"supplierid"}}),e._v(" "),o("my-supplier",{attrs:{control:e.empcontrol},on:{"update:control":function(t){e.empcontrol=t},supplierName:e.supplierName}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.wpfl"),clearable:""},model:{value:e.getemplist.categoryid,callback:function(t){e.$set(e.getemplist,"categoryid",t)},expression:"getemplist.categoryid"}},[o("el-option",{attrs:{label:e.$t("otherlanguage.zc"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.pj"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.jgj"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.xhp"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.dc"),value:"5"}})],1),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzggxh"),clearable:""},model:{value:e.getemplist.typeid,callback:function(t){e.$set(e.getemplist,"typeid",t)},expression:"getemplist.typeid"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzsxj"),clearable:""},model:{value:e.getemplist.isactive,callback:function(t){e.$set(e.getemplist,"isactive",t)},expression:"getemplist.isactive"}},[o("el-option",{attrs:{label:e.$t("Hmodule.s1"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("Hmodule.x2"),value:"2"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.category))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.kpiGrade))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.point))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.purchaseprice"),resizable:!1,prop:"purchasePrice",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.purchasePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:e.handleAddTo}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"6cb8d84b",null);p.options.__file="MyDetail2.vue";t.a=p.exports},MDaA:function(e,t,o){},NBqH:function(e,t,o){"use strict";o.d(t,"c",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"b",function(){return l});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&void 0!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/stockcategory/searchStockCategory",method:"post",data:t})}function r(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.category&&null!==e.category&&t.append("category",e.category),""!==e.iseffective&&null!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&t.append("type",e.type),Object(a.a)({url:"/stockcategory/addStockCategory",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e.categoryName&&null!==e.categoryName&&t.append("categoryname",e.categoryName),""!==e.isEffective&&null!==e.isEffective&&t.append("iseffective",e.isEffective),""!==e.id&&null!==e.id&&t.append("id",e.id),Object(a.a)({url:"/stockcategory/updateStockCategory",method:"post",data:t})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("ids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/stockcategory/delateStockCategory",method:"post",data:o})}},NqL6:function(e,t,o){"use strict";var a=o("8PD8");o.n(a).a},Opo1:function(e,t,o){"use strict";var a=o("m1cH"),n=o.n(a),r=o("VG0r"),i=o("ZySA"),l=o("Mz3J"),s=o("yo+U"),c=o("fNFo"),p={directives:{waves:i.a},components:{MyTree:c.a,MySupplier:s.a,Pagination:l.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{select_orderId:[],select_order_number:[],supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.control,visible2:!1,moreaction:[],list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"5",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10}}},watch:{control:function(){this.productVisible=this.control,this.getlist()},list:function(){console.log("this.select_orderId",this.select_orderId)}},created:function(){this.getlist()},beforeCreate:function(){this},methods:{getRowKeys:function(e){return e.code},getlist:function(){var e=this;this.listLoading=!0,Object(r.t)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(r.v)(2).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(r.t)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleSelectionChange:function(e){var t=this;this.moreaction=e,this.select_order_number=this.moreaction.length,this.select_orderId=[],e&&e.forEach(function(e){e&&t.select_orderId.push(e.code)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierid=e.supplierName,this.getemplist.supplierid=e.id},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryid=e.categoryName,this.getemplist.categoryid=e.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleCurrentChange:function(e){this.moreaction=e},handleAddTo:function(){this.productVisible=!1;var e=[];e.push(this.moreaction),console.log("this.select_orderId",this.select_orderId),console.log("this.$refs.multipleTable.selection",this.$refs.multipleTable.selection),console.log(this.moreaction);var t=e.map(function(e){return{productCode:e.code,productName:e.productName,locationId:"",color:e.color,type:e.typeId,category:e.categoryId,categoryName:e.category,unit:e.stockMeasu,productType:e.productType,typeIdname:e.productType,quantity:1}});console.log(t);var o=this.checklistprop,a=t,r=[];for(var i in a)for(var l in o)o[l].productCode===a[i].productCode&&r.push(o[l]);var s=a.filter(function(e){return!r.some(function(t){return t.productCode===e.productCode})});console.log(s),console.log(r),console.log(this.$refs.multipleTable.selection);var c=[].concat(r,n()(s));console.log("productDetail2",c),this.$emit("product",c)}}},d=(o("noSM"),o("KHd+")),u=Object(d.a)(p,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.productVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzsp"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.productVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.code"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.code,callback:function(t){e.$set(e.getemplist,"code",t)},expression:"getemplist.code"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productname,callback:function(t){e.$set(e.getemplist,"productname",t)},expression:"getemplist.productname"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.supplierid"),clearable:""},on:{focus:e.handlechoose,clear:e.restFilter2},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.supplierid,callback:function(t){e.supplierid=t},expression:"supplierid"}}),e._v(" "),o("my-supplier",{attrs:{control:e.empcontrol},on:{"update:control":function(t){e.empcontrol=t},supplierName:e.supplierName}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzggxh"),clearable:""},model:{value:e.getemplist.typeid,callback:function(t){e.$set(e.getemplist,"typeid",t)},expression:"getemplist.typeid"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzsxj"),clearable:""},model:{value:e.getemplist.isactive,callback:function(t){e.$set(e.getemplist,"isactive",t)},expression:"getemplist.isactive"}},[o("el-option",{attrs:{label:e.$t("Hmodule.s1"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("Hmodule.x2"),value:"2"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.category))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.kpiGrade))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.point))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.purchaseprice"),resizable:!1,prop:"purchasePrice",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.purchasePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:e.handleAddTo}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"3b62b5bc",null);u.options.__file="BatteryReturn.vue";t.a=u.exports},Oz3K:function(e,t,o){},P3QD:function(e,t,o){"use strict";var a,n=o("y1Z2"),r=o("moiu"),i=o("NBqH"),l=o("ZySA"),s=o("Mz3J"),c=o("XR+3"),p=o("m0KX"),d=o("V6Gs"),u=o("IuxZ"),m=o("gXWC"),h={directives:{waves:l.a},components:{MyDialog:d.a,DetailList:p.a,MyEmp:c.a,MyCustomer:u.a,MyAgent:m.a,Pagination:s.a},filters:{judgeStatFilter:function(e){return{0:a.$t("updates.wsh"),1:a.$t("updates.shz"),2:a.$t("Hmodule.shtg"),3:a.$t("Hmodule.shbtg")}[e]},receiptStatFilter:function(e){return{1:a.$t("updates.zd"),2:a.$t("updates.zx"),3:a.$t("updates.jd")}[e]},stockTypeFilter:function(e){return{1:"采购1"}[e]},sendTypeFilter:function(e){return{1:"已发货",2:"未发货"}[e]}},props:{ordercontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.ordercontrol,customerName:"",customercontrol:!1,agentcontrol:!1,typeparms:{pagenum:1,pagesize:99999},types:[],depts:[],reviewParms:{id:"",judgePersonId:"",judgeStat:""},detailvisible:!1,visible2:!1,supplierId:"",empcontrol:!1,stockPersonId:"",stockControl:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,judgeStat:2,receiptStat:2,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,isActive:1},personalForm:{},editVisible:!1,date:[]}},watch:{ordercontrol:function(){this.employeeVisible=this.ordercontrol,this.getlist()}},beforeCreate:function(){a=this},methods:{clearCustomer:function(){this.getemplist.customerId="",this.customerName=""},chooseCustomer:function(){"1"===this.getemplist.customerType?this.agentcontrol=!0:"2"===this.getemplist.customerType&&(this.customercontrol=!0)},customerdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.customerName},agentdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.agentName},updatecountry:function(){this.getlist()},getlist:function(){var e=this;this.listLoading=!0,Object(n.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(r.p)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(i.c)(this.typeparms).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.customerName="",this.getemplist.customerId=""},restFilter2:function(){this.stockPersonId="",this.getemplist.stockPersonId=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,Object(n.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){this.stockPersonId=e.personName,this.getemplist.stockPersonId=e.id},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierId=e.supplierName,this.getemplist.supplierId=e.id},handleAdd:function(){this.$router.push("/SaleOrder/AddSaleOrder")},handleCurrentChange:function(e){this.choosedata=e,console.log("tczjx",e)},handleConfirm:function(){this.employeeVisible=!1,console.log(this.choosedata);var e=this.choosedata.saleOrderDetailVos,t=this.choosedata.number,o=e.map(function(e){return{productCode:e.productCode,productName:e.productName,categoryName:e.productCategoryName,category:e.productCategory,unit:e.unit,typeName:e.productTypeName,type:e.productType,color:e.color,kpiGrade:"0.00",point:"0.00",allQuantity:e.quantity,salePrice:e.salePrice.toFixed(2),costPrice:e.costPrice.toFixed(2),taxprice:e.salePrice.toFixed(2),costMoney:e.costMoney.toFixed(2),includeTaxMoney:e.includeTaxMoney.toFixed(2),taxRate:e.taxRate,taxMoney:e.taxMoney,money:e.money.toFixed(2),includeTaxCostMoney:e.includeTaxCostMoney.toFixed(2),discountRate:e.discountRate,discountMoney:e.discountMoney,carCode:0,motorCode:0,batteryCode:0,sourceNumber:t,sourceSerialNumber:e.id,quantity:e.quantity,alreadyOutQuantity:e.alreadyOutQuantity}});console.log(58520,o),this.$emit("saleOrderDetail",o),this.$emit("saleOrder",this.choosedata)}}},y=(o("JwrO"),o("KHd+")),f=Object(y.a)(h,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,ordercontrol:e.ordercontrol,"close-on-press-escape":!1,top:"10px",title:"选择销售订单","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:ordercontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("SaleOrder.title"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.title,callback:function(t){e.$set(e.getemplist,"title",t)},expression:"getemplist.title"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"订单单号",clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.number,callback:function(t){e.$set(e.getemplist,"number",t)},expression:"getemplist.number"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-select",{attrs:{value:e.getemplist.sendType,clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.sendType,callback:function(t){e.$set(e.getemplist,"sendType",t)},expression:"getemplist.sendType"}},[o("el-option",{attrs:{value:"1",label:"已发货"}}),e._v(" "),o("el-option",{attrs:{value:"2",label:"未发货"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("SaleOrder.customerType"),clearable:""},model:{value:e.getemplist.customerType,callback:function(t){e.$set(e.getemplist,"customerType",t)},expression:"getemplist.customerType"}},[o("el-option",{attrs:{value:"1",label:"经销商"}}),e._v(" "),o("el-option",{attrs:{value:"2",label:"零售"}})],1),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("SaleOrder.customerName"),clearable:""},on:{clear:e.restFilter,focus:e.chooseCustomer},model:{value:e.customerName,callback:function(t){e.customerName=t},expression:"customerName"}}),e._v(" "),o("my-customer",{attrs:{customercontrol:e.customercontrol},on:{"update:customercontrol":function(t){e.customercontrol=t},customerdata:e.customerdata}}),e._v(" "),o("my-agent",{attrs:{agentcontrol:e.agentcontrol},on:{"update:agentcontrol":function(t){e.agentcontrol=t},agentdata:e.agentdata}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{value:e.getemplist.receiptStat,placeholder:e.$t("updates.djzt"),clearable:""},model:{value:e.getemplist.receiptStat,callback:function(t){e.$set(e.getemplist,"receiptStat",t)},expression:"getemplist.receiptStat"}},[o("el-option",{attrs:{label:e.$t("updates.zd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.zx"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.jd"),value:"3"}})],1),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{value:e.getemplist.judgeStat,placeholder:e.$t("updates.spzt"),clearable:""},model:{value:e.getemplist.judgeStat,callback:function(t){e.$set(e.getemplist,"judgeStat",t)},expression:"getemplist.judgeStat"}},[o("el-option",{attrs:{label:e.$t("updates.wsh"),value:"0"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shz"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shtg"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shptg"),value:"3"}})],1),e._v(" "),o("el-date-picker",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{type:"daterange","range-separator":"-","unlink-panels":"","start-placeholder":"销售日期","end-placeholder":"销售日期","value-format":"yyyy-MM-dd"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.number))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOrder.title"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOrder.customerName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOrder.transDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.transDate))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOrder.heji6"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.allIncludeTaxDiscountMoney))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOrder.sendType"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("sendTypeFilter")(t.row.sendType)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOrder.backMoney"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.backMoney))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.judgeStat"),resizable:!1,prop:"judgeStat",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("judgeStatFilter")(t.row.judgeStat)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.receiptStat"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("receiptStatFilter")(t.row.receiptStat)))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pageNum,limit:e.getemplist.pageSize},on:{"update:page":function(t){e.$set(e.getemplist,"pageNum",t)},"update:limit":function(t){e.$set(e.getemplist,"pageSize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"cbf3a53a",null);f.options.__file="MyOrder.vue";t.a=f.exports},Q4Eu:function(e,t,o){"use strict";var a=o("Q2AE"),n={inserted:function(e,t,o){var n=t.value,r=a.a.getters&&a.a.getters.roles;if(!(n&&n instanceof Array&&n.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var i=n;r.some(function(e){return i.includes(e)})||e.parentNode&&e.parentNode.removeChild(e)}},r=function(e){e.directive("permission",n)};window.Vue&&(window.permission=n,Vue.use(r)),n.install=r;t.a=n},QTBe:function(e,t,o){},ScKG:function(e,t,o){"use strict";var a=o("2maP");o.n(a).a},"Sd1/":function(e,t,o){},SlrM:function(e,t,o){"use strict";var a,n=o("GGdz"),r=o("moiu"),i=o("NBqH"),l=o("ZySA"),s=o("Mz3J"),c=o("XR+3"),p=o("IuxZ"),d=o("gXWC"),u={directives:{waves:l.a},components:{MyEmp:c.a,MyCustomer:p.a,MyAgent:d.a,Pagination:s.a},filters:{judgeStatFilter:function(e){return{0:a.$t("updates.wsh"),1:a.$t("updates.shz"),2:a.$t("Hmodule.shtg"),3:a.$t("Hmodule.shbtg")}[e]},receiptStatFilter:function(e){return{1:a.$t("updates.zd"),2:a.$t("updates.zx"),3:a.$t("updates.jd")}[e]},stockTypeFilter:function(e){return{1:"采购1"}[e]},isSaleFilter:function(e){return{1:"跟进中",2:"销售成功"}[e]}},props:{opportunitycontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.opportunitycontrol,customerName:"",customercontrol:!1,agentcontrol:!1,typeparms:{pagenum:1,pagesize:99999},types:[],depts:[],reviewParms:{id:"",judgePersonId:"",judgeStat:""},detailvisible:!1,visible2:!1,supplierId:"",empcontrol:!1,stockPersonId:"",stockControl:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,isUse:1,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,isActive:1},personalForm:{},editVisible:!1,date:[]}},watch:{opportunitycontrol:function(){this.employeeVisible=this.opportunitycontrol,this.getlist()}},created:function(){this.getlist()},beforeCreate:function(){a=this},methods:{clearCustomer:function(){this.getemplist.customerId="",this.customerName=""},chooseCustomer:function(){"1"===this.getemplist.customerType?this.agentcontrol=!0:"2"===this.getemplist.customerType&&(this.customercontrol=!0)},customerdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.customerName},agentdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.agentName},updatecountry:function(){this.getlist()},getlist:function(){var e=this;this.listLoading=!0,Object(n.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(r.p)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(i.c)(this.typeparms).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.customerName="",this.getemplist.customerId=""},restFilter2:function(){this.stockPersonId="",this.getemplist.stockPersonId=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,Object(n.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){this.stockPersonId=e.personName,this.getemplist.stockPersonId=e.id},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierId=e.supplierName,this.getemplist.supplierId=e.id},handleAdd:function(){this.$router.push("/SaleOpportunity/AddSaleOpportunity")},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,console.log(this.choosedata);var e=this.choosedata.saleOpportunityDetailVos,t=this.choosedata.opportunityNumber,o=e.map(function(e){return{productCode:e.productCode,productName:e.productName,categoryName:e.productCategory,category:e.categoryId,unit:e.unit,typeName:e.productType,type:e.typeId,color:e.color,kpiGrade:e.kpiGrade,point:e.point,quantity:0,salePrice:"0.00",costPrice:"0.00",taxprice:"0.00",costMoney:"0.00",includeTaxMoney:"0.00",taxRate:"0.00",taxMoney:"0.00",money:"0.00",includeTaxCostMoney:"0.00",discount:"0.00",discountMoney:"0.00",discountRate:0,carCode:0,motorCode:0,batteryCode:0,sourceNumber:t,sourceSerialNumber:e.id,allQuantity:0}});this.$emit("opportunityDetail",o),this.$emit("opportunity",this.choosedata)}}},m=(o("sRQa"),o("KHd+")),h=Object(m.a)(u,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,opportunitycontrol:e.opportunitycontrol,"close-on-press-escape":!1,top:"10px",title:"选择销售机会单","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:opportunitycontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("SaleOpportunity.title"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.title,callback:function(t){e.$set(e.getemplist,"title",t)},expression:"getemplist.title"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"机会单号",clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.opportunityNumber,callback:function(t){e.$set(e.getemplist,"opportunityNumber",t)},expression:"getemplist.opportunityNumber"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-select",{attrs:{value:e.getemplist.opportunityType,clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.opportunityType,callback:function(t){e.$set(e.getemplist,"opportunityType",t)},expression:"getemplist.opportunityType"}},[o("el-option",{attrs:{value:"1",label:"机会1"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("SaleOpportunity.customerType"),clearable:""},model:{value:e.getemplist.customerType,callback:function(t){e.$set(e.getemplist,"customerType",t)},expression:"getemplist.customerType"}},[o("el-option",{attrs:{value:"1",label:"经销商"}}),e._v(" "),o("el-option",{attrs:{value:"2",label:"零售"}})],1),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("SaleOpportunity.customerName"),clearable:""},on:{clear:e.restFilter,focus:e.chooseCustomer},model:{value:e.customerName,callback:function(t){e.customerName=t},expression:"customerName"}}),e._v(" "),o("my-customer",{attrs:{customercontrol:e.customercontrol},on:{"update:customercontrol":function(t){e.customercontrol=t},customerdata:e.customerdata}}),e._v(" "),o("my-agent",{attrs:{agentcontrol:e.agentcontrol},on:{"update:agentcontrol":function(t){e.agentcontrol=t},agentdata:e.agentdata}}),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.opportunityNumber))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOpportunity.title"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOpportunity.customerName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOpportunity.customerPhone"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerPhone))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOpportunity.opportunityType"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.opportunityTypeName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOpportunity.opportunitySource"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.opportunitySourceName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOpportunity.handlePersonId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.handlePersonName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleOpportunity.isSale"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("isSaleFilter")(t.row.isSale)))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pageNum,limit:e.getemplist.pageSize},on:{"update:page":function(t){e.$set(e.getemplist,"pageNum",t)},"update:limit":function(t){e.$set(e.getemplist,"pageSize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"86cb5108",null);h.options.__file="MyOpportunity.vue";t.a=h.exports},T1lM:function(e,t,o){},TOFQ:function(e,t,o){"use strict";var a=o("6HaC"),n=o("/PQ/"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{visible2:!1,choosedata:"",moreaction:"",levelIds:[],typeIds:[],downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{id:"",supplierName:"",typeId:"",regionId:"",levelId:"",pagenum:1,pagesize:10},depts:[],props:{value:"id",label:"regionName",children:"regionListVos"},regions:[],getemplistregions:[],repositories:[],employeeVisible:this.control,regionManagerVisible:!1}},watch:{control:function(){this.employeeVisible=this.control,this.getlist()}},beforeCreate:function(){this},methods:{getlist:function(){var e=this;this.listLoading=!0,Object(n.i)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.j)(1).then(function(t){200===t.data.ret&&(e.typeIds=t.data.data.content.list)}),Object(n.j)(4).then(function(t){200===t.data.ret&&(e.levelIds=t.data.data.content.list)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions=e.tranKTree(t.data.data.content))})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleFilter:function(){var e=this;this.getemplist.pagenum=1,this.getemplist.regionId=this.getemplistregions[this.getemplistregions.length-1],Object(n.i)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleAdd:function(){this.$router.push("/Supplier/NewSupplier")},handlechange4:function(e){var t=this;console.log(e);var o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret&&(console.log(e),t.repositories=e.data.data.content.list)})},handleConfirm:function(){this.employeeVisible=!1,this.$emit("supplierName",this.choosedata)},handleCurrentChange:function(e){this.choosedata=e}}},s=(o("pzO1"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,control:e.control,"close-on-press-escape":!1,top:"10px",title:"选择供应商","append-to-body":""},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Supplier.id"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.id,callback:function(t){e.$set(e.getemplist,"id",t)},expression:"getemplist.id"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Supplier.supplierName"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.supplierName,callback:function(t){e.$set(e.getemplist,"supplierName",t)},expression:"getemplist.supplierName"}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{value:e.getemplist.typeId,placeholder:"请选择供应商",clearable:""},model:{value:e.getemplist.typeId,callback:function(t){e.$set(e.getemplist,"typeId",t)},expression:"getemplist.typeId"}},e._l(e.typeIds,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-cascader",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{options:e.regions,props:e.props,"show-all-levels":!1,placeholder:"所在区域","change-on-select":"",filterable:"",clearable:""},on:{change:e.handlechange4},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:"请选择优质级别",clearable:""},model:{value:e.getemplist.levelId,callback:function(t){e.$set(e.getemplist,"levelId",t)},expression:"getemplist.levelId"}},e._l(e.levelIds,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px",float:"right"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("Supplier.id"),resizable:!1,prop:"id",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.supplierName"),resizable:!1,prop:"supplierName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.supplierName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.supplierShortName"),resizable:!1,prop:"supplierShortName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.supplierShortName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.typeId"),resizable:!1,align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.typeName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.regionId"),resizable:!1,prop:"regionName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.buyerId"),resizable:!1,prop:"buyerName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.buyerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.levelId"),resizable:!1,prop:"levelName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.levelName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.createId"),resizable:!1,prop:"createId",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)},[],!1,null,"6c86cf4b",null);c.options.__file="MySupplier.vue";t.a=c.exports},Tnrl:function(e,t,o){"use strict";var a=o("jy0E");o.n(a).a},UPUG:function(e,t,o){"use strict";var a=o("C8Bo"),n=o("ZySA"),r=o("Mz3J"),i={directives:{waves:n.a},components:{Pagination:r.a},filters:{isEffectiveFilter:function(e){return{1:"应用",2:"禁用"}[e]}},props:{packagecontrol:{type:Boolean,default:!1},productnumber:{type:String,default:null},packagerepository:{type:String,default:null}},data:function(){return{query:{productCode:this.productnumber,repositoryId:this.packagerepository},supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.packagecontrol,visible2:!1,moreaction:"",list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productCode:"",pageNum:1,pageSize:10}}},watch:{packagecontrol:function(){this.productVisible=this.packagecontrol,console.log(this.packagecontrol)},productnumber:function(){this.query.productCode=this.productnumber,this.query.repositoryId=this.packagerepository,this.getlist()}},beforeCreate:function(){this},methods:{getlist:function(){var e=this;console.log("this.query",this.query),this.listLoading=!0,this.getemplist=this.query,Object(a.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(a.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content,e.total=t.data.data.content.totalCount)})},handleSelectionChange:function(e){console.log("val12222",e),this.moreaction=e},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierid=e.supplierName,this.getemplist.supplierid=e.id},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryid=e.categoryName,this.getemplist.categoryid=e.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleAddTo:function(){this.productVisible=!1;var e=this.moreaction.packageSubVos.map(function(e){return{productCode:e.productCode,productName:e.productName,categoryName:"",category:"",type:e.typeId,typeName:e.productType,color:"",unit:"",salePrice:"0.00",money:"0.00",quantity:0}});this.$emit("packagedata",e),this.$emit("salePrice",this.moreaction.salePrice)}}},l=(o("kY8f"),o("KHd+")),s=Object(l.a)(i,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.productVisible,packagecontrol:e.packagecontrol,"close-on-press-escape":!1,top:"10px",title:"选择赠品套餐","append-to-body":""},on:{"update:visible":function(t){e.productVisible=t},close:function(t){e.$emit("update:packagecontrol",!1)}}},[o("div",{staticClass:"filter-container"}),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Package.packageName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.packageName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Package.isEffective"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("isEffectiveFilter")(t.row.isEffective)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Package.createPersonName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createPersonName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Package.createDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createDate))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:e.handleAddTo}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"f9a0814c",null);s.options.__file="MyPackage.vue";t.a=s.exports},V6Gs:function(e,t,o){"use strict";var a=o("bA1I").a,n=(o("jap0"),o("KHd+")),r=Object(n.a)(a,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"edit",attrs:{visible:e.editVisible,editcontrol:e.editcontrol,editdata:e.editdata,"close-on-press-escape":!1,title:e.personalForm.number+e.$t("updates.xg"),width:"1010px",top:"-10px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){e.$emit("update:editcontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("Hmodule.basicinfo")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,rules:e.personalrules,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.title")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.title,callback:function(t){e.$set(e.personalForm,"title",t)},expression:"personalForm.title"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sourceType"),prop:"sourceType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.chooseSourceType},model:{value:e.personalForm.sourceType,callback:function(t){e.$set(e.personalForm,"sourceType",t)},expression:"personalForm.sourceType"}},[o("el-option",{attrs:{label:e.$t("prompt.xsdd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.xsht"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.ysd"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.xsjh"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.wly"),value:"5"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.eshsd"),value:"6"}})],1)],1)],1),e._v(" "),"6"===e.personalForm.sourceType?o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ershouNumber")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.sourceNumber,callback:function(t){e.$set(e.personalForm,"sourceNumber",t)},expression:"personalForm.sourceNumber"}})],1)],1):e._e(),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.invoiceNumber")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.invoiceNumber,callback:function(t){e.$set(e.personalForm,"invoiceNumber",t)},expression:"personalForm.invoiceNumber"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerType"),prop:"customerType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.clearCustomer},model:{value:e.personalForm.customerType,callback:function(t){e.$set(e.personalForm,"customerType",t)},expression:"personalForm.customerType"}},[o("el-option",{attrs:{label:e.$t("prompt.jxs"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.ls"),value:"2"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerName"),prop:"customerId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.chooseCustomer},model:{value:e.customerId,callback:function(t){e.customerId=t},expression:"customerId"}}),e._v(" "),o("my-customer",{attrs:{customercontrol:e.customercontrol},on:{"update:customercontrol":function(t){e.customercontrol=t},customerdata:e.customerdata}}),e._v(" "),o("my-agent",{attrs:{agentcontrol:e.agentcontrol},on:{"update:agentcontrol":function(t){e.agentcontrol=t},agentdata:e.agentdata}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerPhone"),prop:"phoneNumber"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:e.personalForm.phoneNumber,callback:function(t){e.$set(e.personalForm,"phoneNumber",t)},expression:"personalForm.phoneNumber"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerAccount")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.customerAccount,callback:function(t){e.$set(e.personalForm,"customerAccount",t)},expression:"personalForm.customerAccount"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outType"),prop:"outType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.outType,callback:function(t){e.$set(e.personalForm,"outType",t)},expression:"personalForm.outType"}},[o("el-option",{attrs:{label:e.$t("prompt.xsck"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.hhck"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.yjhx"),value:"3"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.salePersonId"),prop:"salePersonId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseStock},model:{value:e.salePersonId,callback:function(t){e.salePersonId=t},expression:"salePersonId"}}),e._v(" "),o("my-emp",{attrs:{control:e.stockControl},on:{"update:control":function(t){e.stockControl=t},stockName:e.stockName}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleType"),prop:"saleType"}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.switchsaletype},model:{value:e.personalForm.saleType,callback:function(t){e.$set(e.personalForm,"saleType",t)},expression:"personalForm.saleType"}},[o("el-option",{attrs:{label:e.$t("prompt.xj"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("prompt.fq"),value:"2"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sendDate"),prop:"sendDate"}},[o("el-date-picker",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{"picker-options":e.pickerOptions1,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.personalForm.sendDate,callback:function(t){e.$set(e.personalForm,"sendDate",t)},expression:"personalForm.sendDate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.closeType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.settleMode,callback:function(t){e.$set(e.personalForm,"settleMode",t)},expression:"personalForm.settleMode"}},e._l(e.colseTypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.invoiceType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.invoiceType,callback:function(t){e.$set(e.personalForm,"invoiceType",t)},expression:"personalForm.invoiceType"}},e._l(e.invoiceTypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.payType")}},[o("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:e.change},model:{value:e.personalForm.payMode,callback:function(t){e.$set(e.personalForm,"payMode",t)},expression:"personalForm.payMode"}},e._l(e.payModes,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.transferPersonId")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseDelivery},model:{value:e.transferPersonId,callback:function(t){e.transferPersonId=t},expression:"transferPersonId"}})],1),e._v(" "),o("my-delivery",{attrs:{deliverycontrol:e.deliverycontrol},on:{"update:deliverycontrol":function(t){e.deliverycontrol=t},deliveryName:e.deliveryName}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleRepositoryId"),prop:"saleRepositoryId"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseRep},model:{value:e.saleRepositoryId,callback:function(t){e.saleRepositoryId=t},expression:"saleRepositoryId"}}),e._v(" "),o("my-repository",{attrs:{repositorycontrol:e.repositorycontrol},on:{"update:repositorycontrol":function(t){e.repositorycontrol=t},repositoryname:e.repositoryname}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.address")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.address,callback:function(t){e.$set(e.personalForm,"address",t)},expression:"personalForm.address"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outPersonId")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:e.handlechooseAccept},model:{value:e.outPersonId,callback:function(t){e.outPersonId=t},expression:"outPersonId"}})],1),e._v(" "),o("my-accept",{attrs:{accetpcontrol:e.accetpcontrol},on:{"update:accetpcontrol":function(t){e.accetpcontrol=t},acceptName:e.acceptName}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outDate"),prop:"outDate"}},[o("el-date-picker",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{"picker-options":e.pickerOptions1,type:"date","value-format":"yyyy-MM-dd"},model:{value:e.personalForm.outDate,callback:function(t){e.$set(e.personalForm,"outDate",t)},expression:"personalForm.outDate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.pointSupport")+"("+(e.point||0)+")",prop:"pointSupport"}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:"1"===e.personalForm.customerType},model:{value:e.personalForm.pointSupport,callback:function(t){e.$set(e.personalForm,"pointSupport",t)},expression:"personalForm.pointSupport"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.couponSupportOld")}},[o("el-input-number",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{controls:!1,step:.1,min:0},on:{blur:e.getReceivableMoney},model:{value:e.personalForm.couponSupportOld,callback:function(t){e.$set(e.personalForm,"couponSupportOld",t)},expression:"personalForm.couponSupportOld"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridMoney")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.ridMoney,callback:function(t){e.$set(e.personalForm,"ridMoney",t)},expression:"personalForm.ridMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridBikeMoney")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.ridBikeMoney,callback:function(t){e.$set(e.personalForm,"ridBikeMoney",t)},expression:"personalForm.ridBikeMoney"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.receivableMoney")}},[e._v("\n              "+e._s(e.personalForm.receivableMoney)+"\n            ")])],1),e._v(" "),e._l(e.personalForm2.couponSupports,function(t,a){return o("el-col",{key:a,attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.couponSupport")+(a+1)}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"130px"},on:{blur:e.changeCoupon},model:{value:t.couponSupport,callback:function(o){e.$set(t,"couponSupport",o)},expression:"item.couponSupport"}}),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:a===e.personalForm2.couponSupports.length-1,expression:"index === personalForm2.couponSupports.length -1"}],attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.addDomain}})],1)],1)}),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.isInvoice")}},[o("el-radio-group",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:e.personalForm.isInvoice,callback:function(t){e.$set(e.personalForm,"isInvoice",t)},expression:"personalForm.isInvoice"}},[o("el-radio",{staticStyle:{width:"100px"},attrs:{label:1}},[e._v(e._s(e.$t("updates.yes")))]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("updates.no")))])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("otherlanguage.yskdk")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.advanceMoney,callback:function(t){e.$set(e.personalForm,"advanceMoney",t)},expression:"personalForm.advanceMoney"}})],1)],1)],2)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("updates.ckdmx")))]),e._v(" "),o("div",{staticClass:"buttons",staticStyle:{"margin-top":"35px","margin-bottom":"10px"}},[o("el-button",{attrs:{disabled:e.Isproduct},on:{click:e.handleAddproduct}},[e._v(e._s(e.$t("Hmodule.tjsp")))]),e._v(" "),o("my-detail",{attrs:{control:e.control,personalform:e.personalForm},on:{"update:control":function(t){e.control=t},product:e.productdetail}}),e._v(" "),o("el-button",{staticStyle:{width:"130px"},attrs:{disabled:e.IsSourceNumber},on:{click:e.handleAddSource}},[e._v(e._s(e.$t("updates.cydzxz")))]),e._v(" "),o("my-order",{attrs:{ordercontrol:e.ordercontrol},on:{"update:ordercontrol":function(t){e.ordercontrol=t},saleOrderDetail:e.saleOrderDetail,saleOrder:e.saleOrder}}),e._v(" "),o("my-presale",{attrs:{presalecontrol:e.presalecontrol},on:{"update:presalecontrol":function(t){e.presalecontrol=t},advanceOrderDetail:e.advanceOrderDetail,advanceData:e.advanceData}}),e._v(" "),o("my-opportunity",{attrs:{opportunitycontrol:e.opportunitycontrol},on:{"update:opportunitycontrol":function(t){e.opportunitycontrol=t},opportunityDetail:e.opportunityDetail,opportunity:e.opportunity}}),e._v(" "),o("my-contract",{attrs:{contractcontrol:e.contractcontrol},on:{"update:contractcontrol":function(t){e.contractcontrol=t},salecontractDetail:e.salecontractDetail,salecontract:e.salecontract}}),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable.removeSelecteds(),e.test()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.list2,"edit-config":{showIcon:!0,showStatus:!0},"edit-rules":e.validRules,"summary-method":e.getSummaries,stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.list2=t},"selection-change":e.handleSelectionChange}},[o("el-editable-column",{attrs:{type:"selection","min-width":"55",align:"center",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.xh"),"min-width":"55",align:"center",type:"index",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center","min-width":"150",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center","min-width":"150",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.hw"),prop:"location",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getLocationData(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("Hmodule.pc"),prop:"batch",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return["不使用"!==t.row.batch?o("el-select",{staticStyle:{width:"100%"},attrs:{value:t.row.batch,placeholder:e.$t("Hmodule.xcpc"),filterable:"",clearable:""},on:{"visible-change":function(o){e.updatebatch2(o,t)}},model:{value:t.row.batch,callback:function(o){e.$set(t.row,"batch",o)},expression:"scope.row.batch"}},e._l(e.batchlist,function(e,t){return o("el-option",{key:t,attrs:{value:e,label:e}})})):o("span",[e._v(e._s(t.row.batch))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"categoryName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jbdw"),prop:"unit",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ggxh"),prop:"typeName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jxf"),prop:"kpiGrade",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{ref:"haspoint",attrs:{label:e.$t("updates.spjf"),prop:"point",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.cksli"),prop:"quantity",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit5(t.row)?o("el-input-number",{attrs:{precision:2,controls:!1,min:1},on:{change:function(o){e.queryStock(t.row)}},model:{value:t.row.quantity,callback:function(o){e.$set(t.row,"quantity",o)},expression:"scope.row.quantity"}}):o("span",[e._v(e._s(t.row.quantity))])]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckj"),prop:"taxprice",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.gettaxprice(t.row)))])]}}])}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.sl"),prop:"taxRate",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1},on:{input:function(o){e.gettaxRate(t.row)}},model:{value:t.row.taxRate,callback:function(o){e.$set(t.row,"taxRate",o)},expression:"scope.row.taxRate"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.se"),prop:"taxMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getTaxMoney2(t.row)))])]}}])}),e._v(" "),e._e(),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckje"),prop:"includeTaxCostMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getincludeTaxCostMoney(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.ckl"),prop:"discountRate",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1,disabled:""},on:{change:function(o){e.getdiscountRate(t.row)}},model:{value:t.row.discountRate,callback:function(o){e.$set(t.row,"discountRate",o)},expression:"scope.row.discountRate"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:e.$t("updates.cke"),prop:"discountMoney",align:"center","min-width":"170"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-input-number",{attrs:{precision:2,controls:!1},on:{change:function(o){e.getdiscountMoney(t.row,o,t)}},model:{value:t.row.discountMoney,callback:function(o){e.$set(t.row,"discountMoney",o)},expression:"scope.row.discountMoney"}})]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.cjbm"),prop:"carCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit2(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo(t.row)}},model:{value:t.row.carCode,callback:function(o){e.$set(t.row,"carCode",o)},expression:"scope.row.carCode"}}):o("span",[e._v(e._s(t.row.carCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.djbm"),prop:"motorCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit2(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo3(t.row)}},model:{value:t.row.motorCode,callback:function(o){e.$set(t.row,"motorCode",o)},expression:"scope.row.motorCode"}}):o("span",[e._v(e._s(t.row.motorCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.dcbm"),prop:"batteryCode",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit4(t.row)?o("el-input",{attrs:{clearable:""},on:{blur:function(o){e.getInfo2(t.row)}},model:{value:t.row.batteryCode,callback:function(o){e.$set(t.row,"batteryCode",o)},expression:"scope.row.batteryCode"}}):o("span",[e._v(e._s(t.row.batteryCode))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ydbh"),prop:"sourceNumber",align:"center","min-width":"150px"}})],1)],1)]),e._v(" "),!1===e.showreturn?o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("updates.zpmx")))]),e._v(" "),o("div",{staticClass:"buttons",staticStyle:{"margin-top":"35px","margin-bottom":"10px"}},[o("el-button",{on:{click:e.handleAddGift}},[e._v(e._s(e.$t("updates.tj")))]),e._v(" "),o("my-detail2",{attrs:{giftcontrol:e.giftcontrol,personalform:e.personalForm},on:{"update:giftcontrol":function(t){e.giftcontrol=t},"update:personalform":function(t){e.personalForm=t},gift:e.gift}}),e._v(" "),o("el-button",{on:{click:e.handleAddpackage}},[e._v(e._s(e.$t("otherlanguage.xztc")))]),e._v(" "),o("my-package",{attrs:{packagecontrol:e.packagecontrol,productnumber:e.productnumber},on:{"update:packagecontrol":function(t){e.packagecontrol=t},"update:productnumber":function(t){e.productnumber=t},salePrice:e.salePrice,packagedata:e.packagedata}}),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable2.removeSelecteds()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable2",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.list3,"edit-config":{showIcon:!0,showStatus:!0},"edit-rules":e.validRules,"summary-method":e.getSummaries2,stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.list3=t}}},[o("el-editable-column",{attrs:{type:"selection",width:"55",align:"center",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.xh"),width:"55",align:"center",type:"index",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center","min-width":"150px",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center","min-width":"150px",fixed:"left"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.hw"),prop:"locationName",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getLocationData(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("Hmodule.pc"),prop:"batch",align:"center","min-width":"150"},scopedSlots:e._u([{key:"edit",fn:function(t){return["不使用"!==t.row.batch?o("el-select",{staticStyle:{width:"100%"},attrs:{value:t.row.batch,placeholder:e.$t("Hmodule.xcpc"),filterable:"",clearable:""},on:{"visible-change":function(o){e.updatebatch2(o,t)}},model:{value:t.row.batch,callback:function(o){e.$set(t.row,"batch",o)},expression:"scope.row.batch"}},e._l(e.batchlist,function(e,t){return o("el-option",{key:t,attrs:{value:e,label:e}})})):o("span",[e._v(e._s(t.row.batch))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ggxh"),prop:"typeName",align:"center","min-width":"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.lsj"),prop:"salePrice",align:"center","min-width":"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.je"),prop:"money",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e.getMoney(t.row)))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:1},type:"visible"},label:e.$t("updates.shuli"),prop:"quantity",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"edit",fn:function(e){return[o("el-input-number",{attrs:{precision:2,controls:!1,value:e.row.quantity}})]}}])})],1)],1)]):e._e(),e._v(" "),e.showreturn?o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("tongyo.zbthd")))]),e._v(" "),o("div",{staticClass:"buttons",staticStyle:{"margin-top":"58px"}},[o("el-button",{staticStyle:{background:"#3696fd","border-color":"#3696fd"},attrs:{type:"success"},on:{click:e.handleAddreturnproduct}},[e._v(e._s(e.$t("Hmodule.tjsp")))]),e._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable3.removeSelecteds()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),o("my-return",{attrs:{control:e.control2},on:{"update:control":function(t){e.control2=t},product:e.productdetail2}}),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable3",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.returnlist,"edit-config":{showIcon:!0,showStatus:!0},stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.returnlist=t}}},[o("el-editable-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"编号",width:"55",align:"center",type:"index"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{type:"default"},label:e.$t("Hmodule.hw"),prop:"locationId",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{staticStyle:{width:"100%"},attrs:{value:t.row.locationId,placeholder:e.$t("Hmodule.xzhw"),filterable:"",clearable:""},on:{"visible-change":function(o){e.updatebatchreturnpro(o,t)}},model:{value:t.row.locationId,callback:function(o){e.$set(t.row,"locationId",o)},expression:"scope.row.locationId"}},e._l(e.locationlist,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.locationCode}})}))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center",width:"200px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"productCategoryName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.gg"),prop:"productTypeName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.dw"),prop:"unit",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",type:"visible"},label:e.$t("updates.rksl"),prop:"quantity",align:"center",width:"150px"},scopedSlots:e._u([{key:"edit",fn:function(t){return[e.isEdit5(t.row)?o("el-input-number",{attrs:{controls:!1,min:1},on:{change:function(o){e.returnquanty(t.row)}},model:{value:t.row.quantity,callback:function(o){e.$set(t.row,"quantity",o)},expression:"scope.row.quantity"}}):o("span",[e._v(e._s(t.row.quantity))])]}}])}),e._v(" "),o("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},label:e.$t("updates.bz"),prop:"remarks",align:"center",width:"150px"}})],1)],1)],1):e._e(),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.hjxx")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm2",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,rules:e.personalrules,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji1")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji1,callback:function(t){e.heji1=t},expression:"heji1"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji3")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji3,callback:function(t){e.heji3=t},expression:"heji3"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji4")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji4,callback:function(t){e.heji4=t},expression:"heji4"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji9")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji9,callback:function(t){e.heji9=t},expression:"heji9"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji10")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.heji10,callback:function(t){e.heji10=t},expression:"heji10"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji11")}},[o("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{blur:e.getReceivableMoney},model:{value:e.personalForm.otherMoney,callback:function(t){e.$set(e.personalForm,"otherMoney",t)},expression:"personalForm.otherMoney"}})],1)],1)],1)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{position:"fixed",width:"1010px","z-index":"100",height:"74px",bottom:"0"},attrs:{shadow:"never"}},[o("div",{staticClass:"buttons",staticStyle:{float:"right","padding-bottom":"10px"}},[o("el-button",{on:{click:function(t){e.handlecancel()}}},[e._v(e._s(e.$t("Hmodule.cancel")))]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEditok()}}},[e._v(e._s(e.$t("Hmodule.baoc")))])],1)])],1)},[],!1,null,"4db94258",null);r.options.__file="MyDialog.vue";t.a=r.exports},VDla:function(e,t,o){"use strict";var a=o("tE7Q");o.n(a).a},VHv5:function(e,t,o){"use strict";var a=o("bfgV");o.n(a).a},Vmcx:function(e,t,o){},WAyj:function(e,t,o){"use strict";var a=o("VG0r"),n=o("ZySA"),r=o("Mz3J"),i=o("yo+U"),l=o("fNFo"),s={directives:{waves:n.a},components:{MyTree:l.a,MySupplier:i.a,Pagination:r.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1},personalform:{type:Object,default:null}},data:function(){return{getRowKeys:function(e){return e.code},select_orderId:[],select_order_number:[],query:this.personalform,supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.control,visible2:!1,moreaction:"",list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"5",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10},queryemplist:{pagenum:1,pagesize:10,repositoryId:0},detailList:{pagenum:1,pagesize:10}}},watch:{control:function(){this.productVisible=this.control,this.getlist()},personalform:function(){this.query=this.personalform}},beforeCreate:function(){this},methods:{getlist:function(){var e=this;this.list=[],this.listLoading=!0,this.getemplist.searchRepositoryId=this.query.saleRepositoryId,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(a.v)(2).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret&&(console.log(t.data.data.content.list),e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleSelectionChange:function(e){var t=this;this.moreaction=e,this.select_order_number=this.moreaction.length,this.select_orderId=[],e&&e.forEach(function(e){e&&t.select_orderId.push(e.code)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierid=e.supplierName,this.getemplist.supplierid=e.id},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryid=e.categoryName,this.getemplist.categoryid=e.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleCurrentChange:function(e){this.moreaction=e},handleAddTo:function(){this.productVisible=!1,console.log(this.moreaction);var e=[];for(var t in e.push(this.moreaction),e)2===e[t].isBatch&&(e[t].batch="不使用");var o=e.map(function(e){return{productCode:e.code,productName:e.productName,category:e.categoryId,categoryName:e.category,type:e.typeId,typeId:e.productType,color:e.color,unit:e.purMeasu,performanceScore:e.kpiGrade,productScore:e.point,quantity:0,salePrice:e.salePrice,costPrice:e.costPrice,costMoney:0,includeTaxMoney:0,taxRate:0,taxMoney:0,money:0,includeTaxCostMoney:"0.00",discount:0,discountMoney:0,taxprice:"0.00",alreadyApplicationQuantity:0,alreadyProduceQuantity:0,allQuantity:0,batch:e.batch,discountRate:0}});this.$emit("product",o)}}},c=(o("2uZv"),o("KHd+")),p=Object(c.a)(s,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.productVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzsp"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.productVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.code"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.code,callback:function(t){e.$set(e.getemplist,"code",t)},expression:"getemplist.code"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productname,callback:function(t){e.$set(e.getemplist,"productname",t)},expression:"getemplist.productname"}}),e._v(" "),o("my-supplier",{attrs:{control:e.empcontrol},on:{"update:control":function(t){e.empcontrol=t},supplierName:e.supplierName}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzggxh"),clearable:""},model:{value:e.getemplist.typeid,callback:function(t){e.$set(e.getemplist,"typeid",t)},expression:"getemplist.typeid"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzsxj"),clearable:""},model:{value:e.getemplist.isactive,callback:function(t){e.$set(e.getemplist,"isactive",t)},expression:"getemplist.isactive"}},[o("el-option",{attrs:{label:e.$t("Hmodule.s1"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("Hmodule.x2"),value:"2"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.category))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.kpiGrade))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.point))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:e.handleAddTo}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"5ccb9126",null);p.options.__file="BatteryOut.vue";t.a=p.exports},Wd8b:function(e,t,o){},"XR+3":function(e,t,o){"use strict";var a=o("6HaC"),n=o("0zGY"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{jobCat:{type:2,pagenum:1,pagesize:9999},jobs:[],choosedata:"",managerPeople:"",regionManagerId:"",currentRow:null,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},depts:[],props2:{value:"id",label:"regionName",children:"regionListVos"},regions2:[],getemplistregions:[],repositories:[],employeeVisible:this.control,regionManagerVisible:!1}},watch:{control:function(){this.employeeVisible=this.control,this.gitemplist()}},beforeCreate:function(){this},methods:{gitemplist:function(){var e=this;this.listLoading=!0,console.log(this.getemplist),Object(n.p)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.n)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions2=e.tranKTree(t.data.data.content))}),Object(n.r)(this.jobCat).then(function(t){200===t.data.ret?e.jobs=t.data.data.content.list:console.log("职位列表出错")})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleFilter:function(){var e=this;this.getemplist.regionid=this.getemplistregions[this.getemplistregions.length-1],Object(n.p)(this.getemplist).then(function(t){200===t.data.ret?(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount):e.$notify.error({title:"wrong",message:"wrong",offset:100})})},handleAdd:function(){this.employeeVisible=!1,this.$router.push("/EmployeeInformation/NewEmployeeInformation")},handlechange4:function(e){var t=this;console.log(e);var o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret?(console.log(e),t.repositories=e.data.data.content.list):t.$message.error("出错了")})},restemplist:function(){this.getemplist={repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},this.getemplistregions=[]},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,this.$emit("stockName",this.choosedata)}}},s=(o("oJSu"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzyg"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.employeename"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.employeename,callback:function(t){e.$set(e.getemplist,"employeename",t)},expression:"getemplist.employeename"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.jobnumber2"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.jobnumber,callback:function(t){e.$set(e.getemplist,"jobnumber",t)},expression:"getemplist.jobnumber"}}),e._v(" "),o("el-date-picker",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.xzrq"),type:"date","value-format":"yyyy-MM-dd"},model:{value:e.getemplist.time,callback:function(t){e.$set(e.getemplist,"time",t)},expression:"getemplist.time"}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"}},[o("el-cascader",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{options:e.regions2,props:e.props2,"show-all-levels":!1,placeholder:e.$t("Hmodule.xzqy"),"change-on-select":"",filterable:"",clearable:""},on:{change:e.handlechange4},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.xzmd"),clearable:"",filterable:""},model:{value:e.getemplist.repositoryid,callback:function(t){e.$set(e.getemplist,"repositoryid",t)},expression:"getemplist.repositoryid"}},e._l(e.repositories,function(e,t){return o("el-option",{key:t,attrs:{label:e.repositoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"left","margin-top":"10px","margin-left":"20px"},attrs:{value:e.getemplist.postid,placeholder:e.$t("NewEmployeeInformation.postid2"),clearable:""},model:{value:e.getemplist.postid,callback:function(t){e.$set(e.getemplist,"postid",t)},expression:"getemplist.postid"}},e._l(e.jobs,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"right","margin-top":"10px","margin-right":"20px"},attrs:{placeholder:e.$t("NewEmployeeInformation.deptid2"),clearable:""},model:{value:e.getemplist.deptid,callback:function(t){e.$set(e.getemplist,"deptid",t)},expression:"getemplist.deptid"}},e._l(e.depts,function(e,t){return o("el-option",{key:t,attrs:{label:e.deptName,value:e.id}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.id"),resizable:!1,property:"id",align:"center",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.jobNumber"),resizable:!1,property:"jobNumber",align:"center",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.account"),resizable:!1,property:"account",width:"150",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.name"),resizable:!1,align:"center",width:"109"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.firstName)+" "+e._s(t.row.middleName)+" "+e._s(t.row.lastName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.gender"),resizable:!1,prop:"gender",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("genderFilter")(t.row.gender)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.deptName"),resizable:!1,prop:"deptName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.deptName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.regionName"),resizable:!1,prop:"regionName",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.repositoryName"),resizable:!1,prop:"repositoryName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.repositoryName))])]}}])})],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-top":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))]),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.gitemplist}})],1)},[],!1,null,"6809dcd4",null);c.options.__file="MyEmp.vue";t.a=c.exports},Y5bG:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),Math.easeInOutQuad=function(e,t,o,a){return(e/=a/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function n(e,t,o){var n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,r=e-n,i=0;t=void 0===t?500:t;!function e(){i+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(i,n,r,t)),i<t?a(e):o&&"function"==typeof o&&o()}()}},Zp4g:function(e,t,o){"use strict";var a=o("EcK7");o.n(a).a},ZySA:function(e,t,o){"use strict";var a=o("P2sY"),n=o.n(a),r=(o("jUE0"),{bind:function(e,t){e.addEventListener("click",function(o){var a=n()({},t.value),r=n()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),i=r.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var l=i.getBoundingClientRect(),s=i.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":((s=document.createElement("span")).className="waves-ripple",s.style.height=s.style.width=Math.max(l.width,l.height)+"px",i.appendChild(s)),r.type){case"center":s.style.top=l.height/2-s.offsetHeight/2+"px",s.style.left=l.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(o.pageY-l.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(o.pageX-l.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=r.color,s.className="waves-ripple z-active",!1}},!1)}}),i=function(e){e.directive("waves",r)};window.Vue&&(window.waves=r,Vue.use(i)),r.install=i;t.a=r},aYoj:function(e,t,o){"use strict";var a=o("/GDS");o.n(a).a},arSb:function(e,t,o){},bA1I:function(module,__webpack_exports__,__webpack_require__){"use strict";var babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("14Xm"),babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4d7F"),babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("D3Ub"),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("m1cH"),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("gDS+"),babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4__),_api_DiffPrice__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cnMQ"),_api_BasicSettings__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("moiu"),_api_Customer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("BJvg"),_api_Coupon__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("CXWi"),_api_Package__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("C8Bo"),_api_public__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("6HaC"),_api_SaleOut__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("nwry"),_api_Supplier__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("/PQ/"),_api_SaleCategory__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("rwJ9"),_MyEmp2__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("lygb"),_MyDelivery2__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("6Dyo"),_MyDetail__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("oXqz"),_MyApply__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("dZG5"),_MySupplier__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("TOFQ"),_MyRequire__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("z78p"),_MyCustomer__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("IuxZ"),_MyAgent__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("gXWC"),_MyAccept__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("rnM8"),_MyRepository__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("9QBK"),_MyOrder__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("P3QD"),_MyAdvance__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("GlAp"),_MyPresale__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("opnZ"),_MyOpportunity__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("SlrM"),_MyDetail2__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("LJrk"),_MyPackage__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("UPUG"),_MyContract__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("z74p"),_MyReturn__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("5PlW"),_that;__webpack_exports__.a={name:"MyDialog",filters:{isFreeTypeFilter:function(e){return{1:"yes",2:"no"}[e]},useTypeFilter:function(e){return{1:_that.$t("tongyo.jy"),2:_that.$t("tongyo.yy")}[e]}},components:{MyReturn:_MyReturn__WEBPACK_IMPORTED_MODULE_31__.a,MyContract:_MyContract__WEBPACK_IMPORTED_MODULE_30__.a,MyPackage:_MyPackage__WEBPACK_IMPORTED_MODULE_29__.a,MyDetail2:_MyDetail2__WEBPACK_IMPORTED_MODULE_28__.a,MyOpportunity:_MyOpportunity__WEBPACK_IMPORTED_MODULE_27__.a,MyPresale:_MyPresale__WEBPACK_IMPORTED_MODULE_26__.a,MyAdvance:_MyAdvance__WEBPACK_IMPORTED_MODULE_25__.a,MyOrder:_MyOrder__WEBPACK_IMPORTED_MODULE_24__.a,MyRepository:_MyRepository__WEBPACK_IMPORTED_MODULE_23__.a,MyAccept:_MyAccept__WEBPACK_IMPORTED_MODULE_22__.a,MyAgent:_MyAgent__WEBPACK_IMPORTED_MODULE_21__.a,MyCustomer:_MyCustomer__WEBPACK_IMPORTED_MODULE_20__.a,MyRequire:_MyRequire__WEBPACK_IMPORTED_MODULE_19__.a,MySupplier:_MySupplier__WEBPACK_IMPORTED_MODULE_18__.a,MyApply:_MyApply__WEBPACK_IMPORTED_MODULE_17__.a,MyDetail:_MyDetail__WEBPACK_IMPORTED_MODULE_16__.a,MyDelivery:_MyDelivery2__WEBPACK_IMPORTED_MODULE_15__.a,MyEmp:_MyEmp2__WEBPACK_IMPORTED_MODULE_14__.a},props:{editcontrol:{type:Boolean,default:!1},editdata:{type:Object,default:null}},data:function(){var e=this;return{personalForm2:{couponSupports:[{couponSupport:0}]},pickerOptions1:{disabledDate:function(e){return e.getTime()<(new Date).getTime()-864e5}},diffpricelist:[],showreturn:!1,control2:!1,returnlist:[],moreaction:"",packagecontrol:!1,productnumber:"",point:0,isEdit:!1,choosedata:[],editVisible:this.editcontrol,personalForm:this.editdata,heji1:"",heji2:"",heji3:"",heji4:"",heji5:"",heji6:"",heji7:"",heji8:"",heji9:"",heji10:"",heji11:"",locationlist:[],payModes:[],contractcontrol:!1,giftcontrol:!1,opportunitycontrol:!1,presalecontrol:!1,ordercontrol:!1,Isproduct:!1,IsSourceNumber:!1,huishou:"0.00",yushou:"0.00",saleRepositoryId:"",repositorycontrol:!1,outPersonId:"",accetpcontrol:!1,transferPersonId:"",deliverycontrol:!1,roleId:"",customerId:"",customercontrol:!1,agentcontrol:!1,salePersonId:"",stockControl:!1,invoiceTypes:[],invoicetypeparms:{type:4,pagenum:1,pagesize:99999},colseTypes:[],colseTypeparms:{type:3,pagenum:1,pagesize:99999},batchlist:[],control:!1,personalrules:{saleType:[{required:!0,message:"请选择销售类别",trigger:"change"}],customerType:[{required:!0,message:"请选择客户类别",trigger:"change"}],sendDate:[{required:!0,message:"请选择送货日期",trigger:"change"}],salePersonId:[{required:!0,validator:function(t,o,a){console.log(e.supplierId),void 0===e.salePersonId||null===e.salePersonId||""===e.salePersonId?a(new Error("请选择销售人员")):a()},trigger:"change"}],backType:[{required:!0,message:"请选择回款状态",trigger:"change"}],pointSupport:[{validator:function(t,o,a){console.log(1789,e.personalForm.pointSupport),Number(e.personalForm.pointSupport)<0||Number(e.personalForm.pointSupport)>e.point?a(new Error("请输入正确积分")):a()},trigger:"change"}],saleRepositoryId:[{required:!0,validator:function(t,o,a){console.log(e.saleRepositoryId),void 0===e.saleRepositoryId||null===e.saleRepositoryId||""===e.saleRepositoryId?a(new Error("请选择出库仓库")):a()},trigger:"change"}],customerId:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.customerId||null===e.customerId||""===e.customerId?a(new Error("请输入顾客姓名")):a()},trigger:"change"}],transferPersonId:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.transferPersonId||null===e.transferPersonId||""===e.transferPersonId?a(new Error("请选择出库人")):a()},trigger:"change"}],outDate:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.personalForm.outDate||null===e.personalForm.outDate||""===e.personalForm.outDate?a(new Error("请选择出库时间")):a()},trigger:"change"}]},list2:[],list3:[],validRules:{quantity:[{required:!0,validator:function(e,t,o){""===t||null===t||void 0===t?o(new Error("入库数量不能为空")):t<0?o(new Error("入库数量需大于0")):o()},trigger:"blur"}]},ableSubmission:!0}},watch:{editcontrol:function(){this.editVisible=this.editcontrol},editdata:function(){if(this.personalForm=this.editdata,0===this.personalForm.saleOutRetreatVos.length?this.showreturn=!1:this.showreturn=!0,"5"===this.personalForm.sourceType||void 0===this.personalForm.sourceType?(this.Isproduct=!1,this.IsSourceNumber=!0,this.personalForm.saleType="1"):"6"===this.personalForm.sourceType?(this.IsSourceNumber=!0,this.Isproduct=!0,this.personalForm.saleType="1"):"2"===this.personalForm.sourceType?(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="2"):(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="1"),this.personalForm.couponMoney=this.personalForm.couponSupport,console.log("this.personalForm.receivableMoney",this.personalForm.receivableMoney),""===this.personalForm.couponNumbers||null===this.personalForm.couponNumbers||void 0===this.personalForm.couponNumbers)this.personalForm2.couponSupports=[{couponSupport:0}];else{this.personalForm2.couponSupports=[{couponSupport:0}];var e=[],t=this.personalForm.couponNumbers.split(",");console.log("b",t);for(var o=0;o<t.length;o++){var a={};a.couponSupport=t[o],e.push(a)}console.log("coupon",e),this.personalForm2.couponSupports=e,console.log("this.personalForm.couponSupports2",this.personalForm2.couponSupports)}for(var n in"5"===this.personalForm.sourceType?(this.Isproduct=!1,this.IsSourceNumber=!0):(this.Isproduct=!0,this.IsSourceNumber=!1),this.planPersonId=this.personalForm.planPersonName,this.stockPersonId=this.personalForm.stockPersonName,this.list2=this.personalForm.saleOutDetailVos,this.list2)this.list2[n].location=this.list2[n].locationName,this.list2[n].locationName=this.list2[n].locationName,this.list2[n].categoryName=this.list2[n].productCategoryName,this.list2[n].typeName=this.list2[n].productTypeName,this.list2[n].taxRate<1&&(this.list2[n].taxRate=100*this.list2[n].taxRate);for(var r in this.list2)this.list2[r].discountRate<=1&&(this.list2[r].discountRate=100*this.list2[r].discountRate);this.list3=this.personalForm.saleOutGiftVos,this.returnlist=this.personalForm.saleOutRetreatVos,this.customerId=this.personalForm.customerName,this.salePersonId=this.personalForm.salePersonName,this.transferPersonId=this.personalForm.transferPersonName,this.saleRepositoryId=this.personalForm.saleRepositoryName,this.outPersonId=this.personalForm.outPersonName,this.customerPhone=this.personalForm.customerPhone,this.updatebatch()},list2:{handler:function(e,t){var o=0,a=0,n=0;for(var r in this.list2)o+=Number(this.list2[r].quantity),n+=Number(this.list2[r].discountMoney),a+=Number(this.list2[r].includeTaxCostMoney);this.heji1=o,this.heji3=a,this.heji4=n,this.getReceivableMoney()},deep:!0},list3:{handler:function(e,t){var o=0,a=0;for(var n in this.list3)o+=this.list3[n].quantity,a+=this.list3[n].salePrice*o;this.heji9=o,this.heji10=a},deep:!0}},created:function(){this.getTypes(),this.getdatatime()},beforeCreate:function(){_that=this},methods:{getdiffprice:function(){var e=this;Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_5__.e)(this.getemplist).then(function(t){200===t.data.ret&&(e.diffpricelist=t.data.data.content.list)})},getlocations:function(){var e=this;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(this.personalForm.saleRepositoryId).then(function(t){200===t.data.ret&&(e.locationlist=t.data.data.content.list)})},sum:function sum(arr){return 0===arr.length?0:eval(arr.join("+"))},returnquanty:function(e){},updatebatchreturnpro:function(e,t){var o=this;if(!0===e){if(console.log(this.personalForm.saleRepositoryId),void 0===this.personalForm.saleRepositoryId||""===this.personalForm.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.sqslcg"),offset:100}),!1;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.w)(this.personalForm.saleRepositoryId,t.row).then(function(e){200===e.data.ret&&(0!==e.data.data.content.length?o.locationlist=e.data.data.content:0===e.data.data.content.length&&Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(o.personalForm.saleRepositoryId).then(function(e){200===e.data.ret&&(o.locationlist=e.data.data.content.list)}))})}},productdetail2:function(e){var t=this;console.log(e);var o=this.$refs.editable3.getRecords();console.log(o);var a=e.findIndex(function(e,o,a){return e.productCode===t.personalForm.productCode});console.log(a),this.returnlist=e.filter(function(e){return e.productCode!==t.personalForm.productCode})},handleAddreturnproduct:function(){console.log("this.personalForm.saleRepositoryId",this.personalForm.saleRepositoryId);var e=this.$refs.editable.getRecords();return null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId?(this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzck"),offset:100}),!1):0===e.length?(this.$notify.error({title:"wrong",message:this.$t("tongyo.qxxzcknr"),offset:100}),!1):void(this.control2=!0)},switchsaletype:function(e){console.log("val",e),"1"===e&&"2"===this.personalForm.sourceType?(this.$notify.error({title:"wrong",message:this.$t("prompt.gdjwfq"),offset:100}),this.personalForm.saleType="2"):(this.$notify.error({title:"wrong",message:"该单据为现金",offset:100}),this.personalForm.saleType="1")},changeCoupon:function(){var e=this;console.log("this.personalForm.couponSupports2",this.personalForm2.couponSupports);var t=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(this.personalForm2.couponSupports);Object(_api_Coupon__WEBPACK_IMPORTED_MODULE_8__.e)(t).then(function(t){console.log(t),200===t.data.ret?(e.personalForm.couponMoney=t.data.data.content,console.log("res.data.data.content",t.data.data.content),e.getReceivableMoney(t.data.data.content)):e.$notify.error({title:"wrong",message:t.data.msg,offset:100})})},addDomain:function(){console.log("this.personalForm2.couponSupports",this.personalForm2.couponSupports),this.personalForm2.couponSupports.push({couponSupport:0}),console.log("this.personalForm.couponSupports",this.personalForm2.couponSupports)},getReceivableMoney:function(){var e=this;if(console.log("666",666),console.log("this.personfomr",this.personalForm),this.personalForm.pointSupport||(this.personalForm.pointSupport=0),this.personalForm.couponSupport||(this.personalForm.couponSupport=0),this.personalForm.ridMoney||(this.personalForm.ridMoney=0),this.personalForm.ridBikeMoney||(this.personalForm.ridBikeMoney=0),this.personalForm.advanceMoney||(this.personalForm.advanceMoney=0),this.personalForm.otherMoney||(this.personalForm.otherMoney=0),console.log("this.personalForm.sourceTypethis.personalForm.sourceType",this.personalForm.sourceType),null!==this.personalForm.couponSupportOld&&""!==this.personalForm.couponSupportOld&&void 0!==this.personalForm.couponSupportOld||(this.personalForm.couponSupportOld=0),"1"!==this.personalForm.sourceType&&"3"!==this.personalForm.sourceType&&"4"!==this.personalForm.sourceType&&"5"!==this.personalForm.sourceType&&"6"!==this.personalForm.sourceType||null!==this.personalForm.useMonth)if(null!==this.personalForm.useMonth){var t=this.$refs.editable.getRecords();console.log("allbattery",t),console.log("this.diffpricelist",this.diffpricelist);var o=this.diffpricelist.filter(function(t){return t.useType===Number(e.personalForm.useType)});console.log("filtertypes",o);var a=o.filter(function(t){return t.useMonth===Number(e.personalForm.useMonth)});console.log("filtermonth",a);var n=a.filter(function(e){return e.categoryId===t[0].category});if(console.log("filterfinally",n),0!==n.length){var r=Number(n[0].diffMoney)*Number(t[0].quantity)-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),i=Number(n[0].diffMoney)*Number(t[0].quantity)-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);r<0&&(r=0),this.$set(this.personalForm,"receivableMoney",r),this.$set(this.personalForm,"receivableMoney2",i)}else this.$set(this.personalForm,"receivableMoney",0),this.$set(this.personalForm,"receivableMoney2",0)}else if(this.$store.getters.newsaleoutdata.firstMoney){console.log("123",123);var l=this.$store.getters.newsaleoutdata.firstMoney-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),s=this.$store.getters.newsaleoutdata.firstMoney-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);l<0&&(l=0),this.$set(this.personalForm,"receivableMoney",l),this.$set(this.personalForm,"receivableMoney2",s)}else if(""!==this.receivableMoney||null!==this.receivableMoney||void 0!==this.receivableMoney){console.log("是否是销售合同带入过来"),console.log("234",234);var c=this.receivableMoney-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),p=this.receivableMoney-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);c<0&&(c=0),this.$set(this.personalForm,"receivableMoney",c),this.$set(this.personalForm,"receivableMoney2",p)}else{console.log("456",456);var d=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),u=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);d<0&&(d=0),this.$set(this.personalForm,"receivableMoney",d),this.$set(this.personalForm,"receivableMoney2",u)}else{console.log("this.heji3",this.heji3),console.log("this.heji4",this.heji4),console.log("this.personalForm.couponMoney",this.personalForm.couponMoney);var m=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),h=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);m<0&&(m=0),this.$set(this.personalForm,"receivableMoney",m),this.$set(this.personalForm,"receivableMoney2",h)}},changemoney:function(e){console.log(e)},salePrice:function(e){console.log("val1222222",e),this.moreaction[0].salePrice=e},handleSelectionChange:function(e){console.log(e),this.moreaction=e},packagedata:function(e){console.log("val1222222",e);for(var t=0;t<e.length;t++)e[t].quantity=1,this.$refs.editable2.insert(e[t])},handleAddpackage:function(){this.moreaction.length>1||0===this.moreaction.length?this.$notify.error({title:"请选择主商品",message:"请选择主商品",offset:100}):(this.productnumber=this.moreaction[0].productCode,this.packagecontrol=!0)},getInfo:function(e){var t=this;if(console.log(e),null!==e.carCode&&""!==e.carCode&&void 0!==e.carCode){var o={};o.carCode=e.carCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},getInfo2:function(e){var t=this;if(console.log(e),null!==e.batteryCode&&""!==e.batteryCode&&void 0!==e.batteryCode){var o=[];o.batteryCode=e.batteryCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},getInfo3:function(e){var t=this;if(console.log(e),null!==e.motorCode&&""!==e.motorCode&&void 0!==e.motorCode){var o=[];o.motorCode=e.motorCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},isEdit5:function(e){console.log("222",e);var t=e.productCode.slice(0,2);return"01"!==t&&("01"!==t&&"5"===this.personalForm.sourceType)},isEdit4:function(e){return"05"===e.productCode.slice(0,2)},isEdit3:function(e){return"01"!==e.productCode.slice(0,2)},isEdit2:function(e){return"01"===e.productCode.slice(0,2)},test:function(){0===[].concat(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default()(this.list2)).length&&(this.ableSubmission=!0,console.log(this.ableSubmission))},updatebatch2:function(e,t){var o=this;if(!0===e){var a=t.row.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.b)(this.personalForm.saleRepositoryId,a).then(function(e){console.log(e),o.batchlist=e.data.data.content})}},queryStock:function(e){var t=this;if(console.log("row+++=======",e),null===e.locationName||""===e.locationName||void 0===e.locationName)return this.$notify.error({title:"wrong",message:"仓库不存在此商品!",offset:100}),e.quantity=1,!1;var o=0;if(this.$refs.editable.getRecords().map(function(e){return e}).forEach(function(t){t.productCode===e.productCode&&o++}),1===o)Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.i)(this.personalForm.saleRepositoryId,0,e.productCode).then(function(o){if(200===o.data.ret){if(console.log("res.data.data.content",o.data.data.content),0===o.data.data.content.list.length)return t.$notify.error({title:"wrong",message:"仓库内无该物品",offset:100}),e.quantity=1,!1;if(e.quantity>o.data.data.content.list[0].ableStock)return t.$notify.error({title:"wrong",message:t.$t("prompt.qsrzqdsjh"),offset:100}),e.quantity=1,!1}else t.$notify.error({title:"wrong",message:o.data.msg,offset:100})});else{var a={};a.productCode=e.productCode,a.batch=e.batch,a.repositoryId=e.repositoryId,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.m)(a).then(function(o){if(200===o.data.ret){if(console.log("res.data.data.content",o.data.data.content),e.quantity>o.data.data.content[0].quantity)return t.$notify.error({title:"wrong",message:t.$t("prompt.ckslcgpcsl"),offset:100}),e.quantity=1,!1}else t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},change:function(){this.$forceUpdate()},updatebatch:function(e,t){var o=this;if(!0===e){if(void 0===this.personalForm.saleRepositoryId||""===this.personalForm.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.sqslcg"),offset:100}),!1;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.w)(this.personalForm.saleRepositoryId,t.row).then(function(e){200===e.data.ret&&(0!==e.data.data.content.length?o.locationlist=e.data.data.content:0===e.data.data.content.length&&Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(o.personalForm.saleRepositoryId).then(function(e){200===e.data.ret&&(o.locationlist=e.data.data.content.list)}))})}},getLocationData:function(e){if(null===e.batch||""===e.batch||void 0===e.batch){var t=e.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.b)(this.personalForm.saleRepositoryId,t).then(function(t){t.data.data.content.length>0&&(e.batch=t.data.data.content[0])})}else{var o=e.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.b)(this.personalForm.saleRepositoryId,o).then(function(t){0===t.data.data.content.length&&"不使用"!==e.batch&&(e.batch=null)})}return Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.w)(this.personalForm.saleRepositoryId,e).then(function(t){200===t.data.ret&&(0!==t.data.data.content.length?(e.location=t.data.data.content[0].locationCode,e.locationName=t.data.data.content[0].locationCode,e.locationId=t.data.data.content[0].id):(e.location=null,e.locationName=null,e.locationId=null))}),e.locationName},salecontractDetail:function(e){console.log(e),this.$refs.editable.clear();for(var t=0;t<e.length;t++)e[t].typeId=e[t].typeName,console.log("val[i]",e[t]),this.$refs.editable.insert(e[t])},salecontract:function(e){var t=this;console.log("val.firstMoney",e.firstMoney),this.receivableMoney=e.firstMoney,null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType="2"),2===e.sourceType&&null!==e.sourceNumber&&(this.personalForm.applyNumber=e.sourceNumber),this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,this.personalForm.handleRepositoryId=e.saleRepositoryId,this.handleRepositoryId=e.saleRepositoryName,null!==e.saleType&&void 0!==e.saleType&&""!==e.saleType&&(this.personalForm.saleType=String(e.saleType)),this.personalForm.settleMode=e.closeType,this.personalForm.invoiceType=e.invoiceType,null!==e.payType&&void 0!==e.payType&&""!==e.payType&&(this.personalForm.payType=String(e.payType)),this.getReceivableMoney()},getlocation:function(){var e=this;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(this.personalForm.enterRepositoryId).then(function(t){200===t.data.ret&&(e.locationlist=t.data.data.content.list.map(function(e){return{value:e.id,label:e.locationName}}))})},chooseSourceType:function(e){this.$refs.editable.clear(),this.receivableMoney="",this.personalForm.ridMoney="",this.personalForm.ridBikeMoney="",console.log(e),console.log("this.list2",this.list2),"5"===e||void 0===e?(this.Isproduct=!1,this.IsSourceNumber=!0,this.personalForm.saleType="1"):"6"===e?(this.IsSourceNumber=!0,this.Isproduct=!0,this.personalForm.saleType="1"):"2"===e?(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="2"):(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="1")},handlechooseRep:function(){this.repositorycontrol=!0},repositoryname:function(e){this.$refs.editable.getRecords().map(function(e){return e}).forEach(function(e){e.quantity=1}),this.$refs.editable2.getRecords().map(function(e){return e}).forEach(function(e){e.quantity=1}),this.saleRepositoryId=e.repositoryName,this.personalForm.saleRepositoryId=e.id},handlechooseAccept:function(){this.accetpcontrol=!0},acceptName:function(e){this.outPersonId=e.personName,this.personalForm.outPersonId=e.id},handlechooseDelivery:function(){this.deliverycontrol=!0},deliveryName:function(e){var t=e.map(function(e){return e.id});this.personalForm.transferPersonId=t.join(",");var o=e.map(function(e){return e.personName});this.transferPersonId=o.join(",")},getdatatime:function(){var e=new Date,t=e.getFullYear(),o=e.getMonth()+1,a=e.getDate();o>=1&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a);var n=t+"-"+o+"-"+a;this.personalForm.sendDate=n,this.personalForm.outDate=n},getSummaries2:function(e){var t=e.columns,o=e.data,a=[];return t.forEach(function(e,t){if(0!==t){var n=o.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?a[t]="":(a[t]=n.reduce(function(e,t){var o=Number(t);return isNaN(o)?Number(e).toFixed(2):(Number(e)+Number(t)).toFixed(2)},0),a[t]+="")}else a[t]="总计"}),a[1]="",a[2]="",a[3]="",a[4]="",a[5]="",a[6]="",a[7]="",a[8]="",a[9]="",a[10]="",this.heji9=a[12],this.heji10=a[11],this.personalForm.otherMoney=a[12],a},getSummaries:function(e){var t=e.columns,o=e.data,a=[];return t.forEach(function(e,t){if(0!==t){var n=o.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?a[t]="":(a[t]=n.reduce(function(e,t){var o=Number(t);return isNaN(o)?Number(e).toFixed(2):(Number(e)+Number(t)).toFixed(2)},0),a[t]+="")}else a[t]="总计"}),a[1]="",a[2]="",a[3]="",a[4]="",a[5]="",a[6]="",a[7]="",a[8]="",a[9]="",a[10]="",a[11]="",a[13]="",a[15]="",a[17]="",a[21]="",a[22]="",a[23]="",a[24]="",a[25]="",this.heji1=a[12],this.heji3=a[16],this.heji4=a[18],a},getcostMoney:function(e){return e.costMoney=(e.costPrice*e.quantity).toFixed(2),e.costMoney},getincludeTaxMoney:function(e){return e.includeTaxMoney=Number(e.salePrice*e.quantity)+Number(e.taxMoney),e.includeTaxMoney},gettaxRate:function(e){0!==e.taxprice&&(e.taxprice=(e.salePrice*(1+e.taxRate/100)).toFixed(2)),e.discountRate},getTaxMoney2:function(e){return e.taxMoney=(e.salePrice*e.taxRate/100*e.quantity).toFixed(2),e.taxMoney},getdiscountRate:function(e){},getdiscountMoney:function(e,t,o){var a=this;if("01"===e.productCode.slice(0,2)){var n={typeId:e.type,roleId:this.$store.getters.roleId,category:1,pageNum:1,pageSize:1};Object(_api_BasicSettings__WEBPACK_IMPORTED_MODULE_6__.w)(n).then(function(o){if(200===o.data.ret)if(0===o.data.data.content.list.length)e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100});else{var n=t/e.quantity;console.log("isoverdiscount",n),o.data.data.content.list[0].discountMoney<n&&(e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100}))}0!==e.taxprice&&0!==e.quantity&&0!==e.discountMoney&&(e.discountRate=(e.discountMoney/e.includeTaxCostMoney*100).toFixed(2))})}else{var r={roleId:this.$store.getters.roleId,category:2,pageNum:1,pageSize:1};Object(_api_BasicSettings__WEBPACK_IMPORTED_MODULE_6__.w)(r).then(function(o){if(200===o.data.ret)if(0===o.data.data.content.list.length)e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100});else{console.log("res222",o);var n=o.data.data.content.list[0].discountRate*e.includeTaxCostMoney;console.log("isoverdiscount",n),n<t&&(e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100}))}0!==e.taxprice&&0!==e.quantity&&0!==e.discountMoney&&(e.discountRate=(e.discountMoney/e.includeTaxCostMoney*100).toFixed(2))})}},getMoney:function(e){return e.money=(e.quantity*e.salePrice).toFixed(2),e.money},gettaxprice:function(e){return e.taxprice=(e.salePrice*(1+e.taxRate/100)).toFixed(2),e.taxprice},getincludeTaxCostMoney:function(e){return e.includeTaxCostMoney=Number(e.salePrice*e.quantity)+Number(e.taxMoney),e.includeTaxCostMoney},clearCustomer:function(){this.personalForm.customerId="",this.customerId="",this.personalForm.advanceMoney=0},chooseCustomer:function(){this.$forceUpdate(),"1"===this.personalForm.customerType?(this.agentcontrol=!0,this.$forceUpdate()):"2"===this.personalForm.customerType&&(this.customercontrol=!0,this.$forceUpdate())},customerdata:function(e){var t=this;console.log(111,e.phoneNumber),console.log(111,this.personalForm.customerPhone),this.personalForm.transAddress=e.address,this.personalForm.customerId=e.id,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.phoneNumber=e.phoneNumber,this.personalForm.address=e.address,this.point=e.point},agentdata:function(e){var t=this;console.log(222,e),this.personalForm.transAddress=e.address,this.personalForm.customerId=e.id,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.agentName,this.personalForm.phoneNumber=e.phone,this.personalForm.address=e.address,this.point=e.point},handleAddSource:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;"1"===this.personalForm.sourceType?this.ordercontrol=!0:"2"===this.personalForm.sourceType?this.contractcontrol=!0:"3"===this.personalForm.sourceType?this.presalecontrol=!0:"4"===this.personalForm.sourceType&&(this.opportunitycontrol=!0)},saleOrderDetail:function(e){console.log("val",e);for(var t=0;t<e.length;t++){e[t].quantity=(e[t].quantity-e[t].alreadyOutQuantity).toFixed(2);var o=e[t].productCode.slice(0,2);console.log("re === ","01"===o);var a=1;if("01"===o){a=e[t].quantity,e[t].quantity=1;for(var n=1;n<a;n++)e.push(e[t])}this.$refs.editable.insert(e[t])}},saleOrder:function(e){var t=this;null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType=String(e.customerType)),this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,this.personalForm.settleMode=e.settleMode,this.personalForm.address=e.transAddress,this.getReceivableMoney()},advanceOrderDetail:function(e){console.log(e);for(var t=0;t<e.length;t++){var o=e[t].productCode.slice(0,2);console.log("re === ","01"===o);var a=1;if("01"===o){a=e[t].quantity,e[t].quantity=1;for(var n=1;n<a;n++)e.push(e[t])}this.$refs.editable.insert(e[t])}},advanceData:function(e){var t=this;this.personalForm.customerType="2",this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.phone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,null!==e.payMode&&void 0!==e.payMode&&""!==e.payMode&&(this.personalForm.payMode=String(e.payMode)),this.personalForm.saleRepositoryId=e.saleRepositoryId,this.saleRepositoryId=e.saleRepositoryName,this.personalForm.address=e.address,this.getReceivableMoney()},opportunityDetail:function(e){console.log(e);for(var t=this.$refs.editable.getRecords(),o=0;o<e.length;o++){for(var a=0;a<t.length;a++)if(e[o].sourceNumber===t[a].sourceNumber)return this.$notify.error({title:"wrong",message:this.$t("prompt.wpytj"),offset:100}),!1;this.$refs.editable.insert(e[o])}},opportunity:function(e){null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType=String(e.customerType)),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.handlePersonId,this.salePersonId=e.handlePersonName,this.personalForm.handleRepositoryId=e.handleRepositoryId,this.handleRepositoryId=e.handleRepositoryName,this.getReceivableMoney()},handleAddproduct:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;this.control=!0},productdetail:function(e){var t=this;return babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function o(){var a,n;return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(console.log("val",e),a=0;a<e.length;a++)t.$refs.editable.insert(e[a]);return console.log("123",123),o.next=5,babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(e.map(function(e){var t=this;console.log("321",321);var o={};o.productCode=e.productCode,o.repositoryId=this.personalForm.saleRepositoryId,console.log("param",o),Object(_api_Package__WEBPACK_IMPORTED_MODULE_9__.c)(o).then(function(e){200===e.data.ret?console.log("result2",e.data.data.content):t.$notify.error({title:"wrong",message:e.data.msg,offset:100})})}));case 5:n=o.sent,console.log("list",n);case 7:case"end":return o.stop()}},o,t)}))()},handleAddGift:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;this.giftcontrol=!0},gift:function(e){for(var t=this.$refs.editable2.getRecords(),o=0;o<e.length;o++){for(var a=0;a<t.length;a++)if(e[o].productCode===t[a].productCode)return this.$notify.error({title:"wrong",message:this.$t("prompt.wpytj"),offset:100}),!1;e[o].salePrice=0,this.$refs.editable2.insert(e[o])}},deleteChange:function(e){this.choosedata=e},updatecountry:function(){this.getTypes()},getTypes:function(){var e=this;Object(_api_SaleCategory__WEBPACK_IMPORTED_MODULE_13__.c)(this.invoicetypeparms).then(function(t){200===t.data.ret&&(e.invoiceTypes=t.data.data.content.list)}),Object(_api_Supplier__WEBPACK_IMPORTED_MODULE_12__.j)(5).then(function(t){200===t.data.ret&&(e.colseTypes=t.data.data.content.list)}),Object(_api_Supplier__WEBPACK_IMPORTED_MODULE_12__.j)(7).then(function(t){200===t.data.ret&&(e.payModes=t.data.data.content.list)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){var t=e.map(function(e){return e.id});this.personalForm.salePersonId=t.join(",");var o=e.map(function(e){return e.personName});this.salePersonId=o.join(",")},restAllForm:function(){this.personalForm={createPersonId:this.$store.getters.userId,countryId:this.$store.getters.countryId,repositoryId:this.$store.getters.repositoryId,regionId:this.$store.getters.regionId,customerType:"2",sendType:"2",sendDate:null,outDate:null,sourceType:"5",otherMoney:"",receivableMoney:""},this.receivableMoney="",this.customerId=null,this.salePersonId=null,this.saleRepositoryId=null,this.transferPersonId=null,this.outPersonId=null},handleEditok:function(){var e=this,t=1;if(this.$refs.editable2.getRecords().map(function(e){return e}).forEach(function(e){null!==e.batch&&void 0!==e.batch&&""!==e.batch&&null!==e.location&&void 0!==e.location&&""!==e.location||(t=2)}),console.log(t),2===t)return this.$notify.error({title:"wrong",message:this.$t("prompt.pchwbnwk"),offset:100}),!1;delete this.personalForm.saleOutRetreatVos,delete this.personalForm.saleOutDetailVos,delete this.personalForm.approvalUseVos,delete this.personalForm.saleOutGiftVos,delete this.personalForm.judgeStat,delete this.personalForm.receiptStat,delete this.personalForm.isDeliver,delete this.personalForm.payType,delete this.personalForm.currency,this.$refs.personalForm.validate(function(t){if(!t)return e.$notify.error({title:"wrong",message:"Information is incomplete",offset:100}),!1;if("5"===e.personalForm.sourceType&&"2"===e.personalForm.saleType)return e.$notify.error({title:"wrong",message:e.$t("prompt.ckslcgpcsl"),offset:100}),!1;null!==e.personalForm.couponSupportOld&&""!==e.personalForm.couponSupportOld&&void 0!==e.personalForm.couponSupportOld||(e.personalForm.couponSupportOld=0),e.personalForm.repositoryId=e.$store.getters.repositoryId,e.personalForm.regionId=e.$store.getters.regionId,e.personalForm.createPersonId=e.$store.getters.userId,e.personalForm.countryId=e.$store.getters.countryId,e.personalForm.modifyPersonId=e.$store.getters.userId;var o=e.$refs.editable.getRecords(),a=1,n=1,r=e.personalForm.isFree;if(o.map(function(e){return e}).forEach(function(e){var t=e.productCode.slice(0,2);"01"===t&&(1===r&&(n=2),null!==e.carCode&&void 0!==e.carCode&&""!==e.carCode&&null!==e.motorCode&&void 0!==e.motorCode&&""!==e.motorCode||(a=2)),"05"===t&&(null!==e.batteryCode&&void 0!==e.batteryCode&&""!==e.batteryCode||(a=3))}),3===a)return e.$notify.error({title:"wrong",message:e.$t("prompt.dcckytbm"),offset:100}),!1;if(2===a)return e.$notify.error({title:"wrong",message:e.$t("prompt.zcckytbm"),offset:100}),!1;if(2===n)return e.$notify.error({title:"wrong",message:"整车不能算作质保",offset:100}),!1;var i=0;if(o.map(function(e){return e}).forEach(function(e){o.map(function(e){return e}).forEach(function(t){t.productCode===e.productCode&&t.batch===e.batch&&("01"!==t.productCode.slice(0,2)&&i++)})}),console.log(i),i>o.length)return e.$notify.error({title:"wrong",message:"同样商品不能有同一个批次",offset:100}),!1;var l=1;if(o.map(function(e){return e}).forEach(function(e){null!==e.batch&&void 0!==e.batch&&""!==e.batch&&null!==e.location&&void 0!==e.location&&""!==e.location||(l=2)}),console.log(l),2===l)return e.$notify.error({title:"wrong",message:e.$t("prompt.pchwbnwk"),offset:100}),!1;var s=e.$refs.editable2.getRecords();if(0===o.length)return e.$notify.error({title:"wrong",message:e.$t("prompt.mxbbnwk"),offset:100}),!1;o.map(function(e){return e}).forEach(function(e){return null!==e.productCode&&""!==e.productCode&&void 0!==e.productCode||delete e.productCode,null!==e.productName&&""!==e.productName&&void 0!==e.productName||delete e.productName,null!==e.category&&""!==e.category&&void 0!==e.category||delete e.category,null!==e.type&&""!==e.type&&void 0!==e.type||delete e.type,null!==e.unit&&""!==e.unit&&void 0!==e.unit||delete e.unit,null!==e.color&&""!==e.color&&void 0!==e.color||delete e.color,null!==e.kpiGrade&&""!==e.kpiGrade&&void 0!==e.kpiGrade||delete e.kpiGrade,null!==e.point&&""!==e.point&&void 0!==e.point||delete e.point,null!==e.quantity&&""!==e.quantity&&void 0!==e.quantity||delete e.quantity,null!==e.salePrice&&""!==e.salePrice&&void 0!==e.salePrice||delete e.salePrice,null!==e.costPrice&&""!==e.costPrice&&void 0!==e.costPrice||delete e.costPrice,null!==e.costMoney&&""!==e.costMoney&&void 0!==e.costMoney||delete e.costMoney,null!==e.includeTaxMoney&&""!==e.includeTaxMoney&&void 0!==e.includeTaxMoney||delete e.includeTaxMoney,null!==e.taxRate&&""!==e.taxRate&&void 0!==e.taxRate||delete e.taxRate,null===e.taxRate&&""===e.taxRate&&void 0===e.taxRate||(e.taxRate=e.taxRate/100),null!==e.taxMoney&&""!==e.taxMoney&&void 0!==e.taxMoney||delete e.taxMoney,null!==e.money&&""!==e.money&&void 0!==e.money||delete e.money,null!==e.includeTaxCostMoney&&""!==e.includeTaxCostMoney&&void 0!==e.includeTaxCostMoney||delete e.includeTaxCostMoney,null!==e.discountRate&&""!==e.discountRate&&void 0!==e.discountRate||delete e.discountRate,null===e.discountRate&&""===e.discountRate&&void 0===e.discountRate||(e.discountRate=e.discountRate/100),null!==e.discountMoney&&""!==e.discountMoney&&void 0!==e.discountMoney||delete e.discountMoney,null!==e.carCode&&""!==e.carCode&&void 0!==e.carCode||delete e.carCode,null!==e.motorCode&&""!==e.motorCode&&void 0!==e.motorCode||delete e.motorCode,null!==e.batteryCode&&""!==e.batteryCode&&void 0!==e.batteryCode||delete e.batteryCode,e}),s.map(function(e){return e}).forEach(function(e){return null!==e.batch&&""!==e.batch&&void 0!==e.batch||delete e.batch,null!==e.productName&&""!==e.productName&&void 0!==e.productName||delete e.productName,null!==e.productCode&&""!==e.productCode&&void 0!==e.productCode||delete e.productCode,null!==e.category&&""!==e.category&&void 0!==e.category||delete e.category,null!==e.unit&&""!==e.unit&&void 0!==e.unit||delete e.unit,null!==e.color&&""!==e.color&&void 0!==e.color||delete e.color,null!==e.type&&""!==e.type&&void 0!==e.type||delete e.type,null!==e.money&&""!==e.money&&void 0!==e.money||delete e.money,null!==e.quantity&&""!==e.quantity&&void 0!==e.quantity||delete e.quantity,null!==e.salePrice&&""!==e.salePrice&&void 0!==e.salePrice||delete e.salePrice,e});for(var c=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(s),p="",d=0;d<e.personalForm2.couponSupports.length;d++)0!==e.personalForm2.couponSupports[d].couponSupport&&""!==e.personalForm2.couponSupports[d].couponSupport&&(p=p+e.personalForm2.couponSupports[d].couponSupport+",");if(console.log("couponNumbers",p),p=p.substring(0,p.length-1),console.log("couponNumbers",p),e.personalForm.couponNumbers=p,""===e.personalForm.receivableMoney||void 0===e.personalForm.receivableMoney||null===e.personalForm.receivableMoney)return e.$notify.error({title:"wrong",message:"本次收款金额不能为空",offset:100}),!1;1===e.personalForm.isFree&&(console.log("進入了2"),e.personalForm.taxMoney=0,e.personalForm.includeTaxMoney=0,e.personalForm.money=0,e.personalForm.receivableMoney=0,e.personalForm.discount_money=0,e.personalForm.actualMoney=0,o.map(function(e){return e}).forEach(function(e){e.money=0,e.taxprice=0,e.includeTaxMoney=0,e.includeTaxCostMoney=0,e.salePrice=0}));var u=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(o),m=e.personalForm;for(var h in m)""!==m[h]&&void 0!==m[h]&&null!==m[h]||delete m[h],"judgeStat"===h&&delete m[h];var y=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(m);Object(_api_SaleOut__WEBPACK_IMPORTED_MODULE_11__.d)(y,u,c,e.personalForm.receivableMoney2).then(function(t){200===t.data.ret?(e.$notify({title:e.$t("prompt.czcg"),message:e.$t("prompt.czcg"),type:"success",duration:1e3,offset:100}),e.$emit("rest",!0),e.$refs.editable.clear(),e.$refs.editable2.clear(),e.$refs.personalForm.clearValidate(),e.$refs.personalForm.resetFields(),e.$refs.personalForm2.clearValidate(),e.$refs.personalForm2.resetFields(),e.editVisible=!1):e.$notify.error({title:"wrong",message:"wrong",offset:100})})})},handlecancel:function(){this.editVisible=!1}}}},bKHc:function(e,t,o){},bfgV:function(e,t,o){},cnMQ:function(e,t,o){"use strict";o.d(t,"e",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"f",function(){return i}),o.d(t,"d",function(){return l}),o.d(t,"b",function(){return s}),o.d(t,"c",function(){return c});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e.categoryId&&null!==e.categoryId&&void 0!==e.categoryId&&t.append("categoryId",e.categoryId),""!==e.useMonth&&null!==e.useMonth&&void 0!==e.useMonth&&t.append("useMonth",e.useMonth),""!==e.useType&&null!==e.useType&&void 0!==e.useType&&t.append("useType",e.useType),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/diffPrice/searchDiffPrice",method:"post",data:t})}function r(e){var t=new URLSearchParams;return""!==e.categoryId&&null!==e.categoryId&&void 0!==e.categoryId&&t.append("categoryId",e.categoryId),""!==e.useMonth&&null!==e.useMonth&&void 0!==e.useMonth&&t.append("useMonth",e.useMonth),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.useType&&null!==e.useType&&void 0!==e.useType&&t.append("useType",e.useType),""!==e.diffMoney&&null!==e.diffMoney&&void 0!==e.diffMoney&&t.append("diffMoney",e.diffMoney),""!==e.createId&&null!==e.createId&&void 0!==e.createId&&t.append("createId",e.createId),Object(a.a)({url:"/diffPrice/addDiffPrice",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e.diffMoney&&null!==e.diffMoney&&void 0!==e.diffMoney&&t.append("diffMoney",e.diffMoney),""!==e.categoryId&&null!==e.categoryId&&void 0!==e.categoryId&&t.append("categoryId",e.categoryId),""!==e.useMonth&&null!==e.useMonth&&void 0!==e.useMonth&&t.append("useMonth",e.useMonth),""!==e.useType&&null!==e.useType&&void 0!==e.useType&&t.append("useType",e.useType),""!==e.isEffective&&null!==e.isEffective&&void 0!==e.isEffective&&t.append("iseffective",e.isEffective),""!==e.id&&null!==e.id&&void 0!==e.id&&t.append("id",e.id),Object(a.a)({url:"/diffPrice/updateDiffPrice",method:"post",data:t})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("ids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/diffPrice/deleteDiffPrice",method:"post",data:o})}function s(){var e=new URLSearchParams;return e.append("parentId",1118),Object(a.a)({url:"/productclassfy/batteryList",method:"post",data:e})}function c(e){var t=new URLSearchParams;return t.append("parentId",e),Object(a.a)({url:"/productclassfy/batteryList",method:"post",data:t})}},dZG5:function(e,t,o){"use strict";var a,n=o("iG2E"),r=o("moiu"),i=o("NBqH"),l=o("ZySA"),s=o("Mz3J"),c=o("F+IB"),p={directives:{waves:l.a},components:{MyEmp:c.a,Pagination:s.a},filters:{judgeStatFilter:function(e){return{0:a.$t("updates.wsh"),1:a.$t("updates.shz"),2:a.$t("Hmodule.shtg"),3:a.$t("Hmodule.shbtg")}[e]},receiptStatFilter:function(e){return{1:a.$t("updates.zd"),2:a.$t("updates.zx"),3:a.$t("updates.jd")}[e]},stockTypeFilter:function(e){return{1:"采购1"}[e]},sourceTypeFilter:function(e){return{1:a.$t("Hmodule.Nosource")}[e]}},props:{applycontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.applycontrol,typeparms:{pagenum:1,pagesize:99999},types:[],depts:[],reviewParms:{id:"",judgePersonId:"",judgeStat:""},detailvisible:!1,visible2:!1,applyPersonId:"",stockControl:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,judgeStat:2,receiptStat:2,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,isActive:1},personalForm:{},editVisible:!1,date:[]}},watch:{applycontrol:function(){this.employeeVisible=this.applycontrol,this.getlist()}},beforeCreate:function(){a=this},methods:{updatecountry:function(){this.getlist()},getlist:function(){var e=this;this.listLoading=!0,Object(n.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(r.p)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(i.c)(this.typeparms).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.applyPersonId="",this.getemplist.applyPersonId=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,Object(n.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){this.applyPersonId=e.personName,this.getemplist.applyPersonId=e.id},handleAdd:function(){this.$router.push("/StockApply/AddStockApply")},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,console.log(this.choosedata);var e=this.choosedata.stockApplyDetailVos,t=this.choosedata.applyNumber,o=e.map(function(e){return{productCode:e.productCode,productName:e.productName,productType:e.productType,typeId:e.typeId,unit:e.unit,color:e.color,basicQuantity:e.applyQuantity,planDeliveryDate:e.requireDate,applyReason:e.applyReason,sourceNumber:t,supplierId:"",supplierName:"",basicPrice:"0.00",requireQuantity:e.requireQuantity,planQuantity:e.requireQuantity,requireDate:e.requireDate,planMoney:"0.00"}});this.$emit("apply",o),this.$emit("apply2",o),this.$emit("allinfo",this.choosedata)}}},d=(o("KOGV"),o("KHd+")),u=Object(d.a)(p,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,applycontrol:e.applycontrol,"close-on-press-escape":!1,top:"10px",title:"选择采购申请单","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:applycontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("StockApply.title"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.title,callback:function(t){e.$set(e.getemplist,"title",t)},expression:"getemplist.title"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("updates.djbh"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.applyNumber,callback:function(t){e.$set(e.getemplist,"applyNumber",t)},expression:"getemplist.applyNumber"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("StockApply.applyPersonId"),clearable:""},on:{clear:e.restFilter,focus:e.handlechooseStock},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.applyPersonId,callback:function(t){e.applyPersonId=t},expression:"applyPersonId"}})],1),e._v(" "),o("my-emp",{attrs:{control:e.stockControl},on:{"update:control":function(t){e.stockControl=t},stockName:e.stockName}})],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:"申请部门",clearable:""},model:{value:e.getemplist.applyDeptId,callback:function(t){e.$set(e.getemplist,"applyDeptId",t)},expression:"getemplist.applyDeptId"}},e._l(e.depts,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.deptName}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{clearable:""},on:{focus:e.updatecountry},model:{value:e.getemplist.stockType,callback:function(t){e.$set(e.getemplist,"stockType",t)},expression:"getemplist.stockType"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{value:e.getemplist.judgeStat,placeholder:e.$t("updates.spzt"),clearable:""},model:{value:e.getemplist.judgeStat,callback:function(t){e.$set(e.getemplist,"judgeStat",t)},expression:"getemplist.judgeStat"}},[o("el-option",{attrs:{label:e.$t("updates.wsh"),value:"0"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shz"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shtg"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shptg"),value:"3"}})],1),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{value:e.getemplist.receiptStat,placeholder:e.$t("updates.djzt"),clearable:""},model:{value:e.getemplist.receiptStat,callback:function(t){e.$set(e.getemplist,"receiptStat",t)},expression:"getemplist.receiptStat"}},[o("el-option",{attrs:{label:e.$t("updates.zd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.zx"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.jd"),value:"3"}})],1),e._v(" "),o("el-date-picker",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{type:"daterange","range-separator":"-","unlink-panels":"","start-placeholder":"Start","end-placeholder":"End","value-format":"yyyy-MM-dd"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.applyNumber))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockApply.title"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockApply.stockType"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("stockTypeFilter")(t.row.stockType)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockApply.sourceType"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("sourceTypeFilter")(t.row.sourceType)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockApply.applyPersonId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.applyPersonName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockApply.applyDeptId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.applyDeptName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockApply.applyDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.applyDate))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.judgeStat"),resizable:!1,prop:"judgeStat",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("judgeStatFilter")(t.row.judgeStat)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.receiptStat"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("receiptStatFilter")(t.row.receiptStat)))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"43e86f7c",null);u.options.__file="MyApply.vue";t.a=u.exports},eG6r:function(e,t,o){"use strict";var a=o("zLaQ");o.n(a).a},fNFo:function(e,t,o){"use strict";var a=o("VG0r"),n={props:{treecontrol:{type:Boolean,default:!1}},data:function(){return{digui:"",choosedata:"",editVisible:this.treecontrol,filterText:"",detalist:[],detaillistProps:{children:"productClassfyVos",label:"categoryName"}}},watch:{treecontrol:function(){this.editVisible=this.treecontrol,this.$refs.tree2&&this.$refs.tree2.filter(this.filterText)},filterText:{handler:function(e,t){this.$refs.tree2&&this.$refs.tree2.filter(e)},immediate:!0}},created:function(){this.gettree()},activated:function(){this.gettree()},beforeCreate:function(){this},methods:{filterNode:function(e,t,o){if(!e)return!0;var a=[];this.getReturnNode(o,a,e);var n=!1;return a.forEach(function(e){n=n||e}),n},getReturnNode:function(e,t,o){var a=e.data&&e.data.categoryName&&-1!==e.data.categoryName.toUpperCase().indexOf(o.toUpperCase());a&&t.push(a),this.index++,!a&&1!==e.level&&e.parent&&this.getReturnNode(e.parent,t,o)},gettree:function(){var e=this;Object(a.l)().then(function(t){200===t.data.ret&&(e.detalist=t.data.data.content)})},handleNodeClick:function(e,t){return 1===t.level?(this.$notify.error({title:"wrong",message:"顶层不可选择",offset:100}),!1):(this.digui=t,this.choosedata=e,1===this.choosedata.level?(this.$notify.error({title:"wrong",message:"顶层不可选择",offset:100}),this.editVisible=!0,!1):(this.$emit("tree",this.choosedata),this.$emit("finder",this.digui),this.editVisible=!1,void this.gettree()))},handleConfirm:function(){}}},r=(o("00rP"),o("KHd+")),i=Object(r.a)(n,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.editVisible,treecontrol:e.treecontrol,"close-on-press-escape":!1,"append-to-body":"",top:"10px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){e.$emit("update:treecontrol",!1)}}},[o("h2",{ref:"geren",staticClass:"form-name"},[e._v("物品分类")]),e._v(" "),o("el-card",{staticClass:"box-card"},[o("el-input",{staticStyle:{"margin-bottom":"30px"},attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),o("el-tree",{ref:"tree2",staticClass:"filter-tree",attrs:{data:e.detalist,props:e.detaillistProps,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)],1)},[],!1,null,"4d7fb321",null);i.options.__file="MyTree.vue";t.a=i.exports},"gDS+":function(e,t,o){e.exports={default:o("oh+g"),__esModule:!0}},gXWC:function(e,t,o){"use strict";var a=o("BJvg"),n=o("ZySA"),r=o("Mz3J"),i={directives:{waves:n.a},components:{Pagination:r.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]},filterno:function(e){return{1:"老客户",2:"新客户"}[e]}},props:{agentcontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.agentcontrol,visible2:!1,customertypes:[],customertyp:1,levels:[],levelstype:2,sources:[],sourcestype:3,downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{agentname:"",phone:"",type:"",pinyin:"",level:"",pagenum:1,pagesize:10,contactname:"",source:"",createtime:""},customerForm:{agentname:"",phone:"",type:"",pinyin:"",level:"",source:"",discount:"",countryid:"",provinceid:"",cityid:"",introduce:"",address:"",contactname:"",traderid:"",transmode:"",deliverymode:"",createid:"",newold:""}}},watch:{agentcontrol:function(){this.employeeVisible=this.agentcontrol,this.getlist(),this.getCategory()}},beforeCreate:function(){this},methods:{getCategory:function(){var e=this;Object(a.k)(this.customertyp).then(function(t){200===t.data.ret?e.customertypes=t.data.data.content.list:e.$notify.error({title:"wrong",message:"wrong",offset:100})}),Object(a.k)(this.levelstype).then(function(t){200===t.data.ret?e.levels=t.data.data.content.list:e.$notify.error({title:"wrong",message:"wrong",offset:100})}),Object(a.k)(this.sourcestype).then(function(t){200===t.data.ret?e.sources=t.data.data.content.list:e.$notify.error({title:"wrong",message:"wrong",offset:100})})},getlist:function(){var e=this;this.listLoading=!0,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret?(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount):e.$notify.error({title:"wrong",message:"wrong",offset:100}),setTimeout(function(){e.listLoading=!1},50)})},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret?(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount):e.$notify.error({title:"wrong",message:"wrong",offset:100})})},handleAdd:function(){this.$router.push("/Customer/NewAgent")},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,console.log(this.choosedata),this.$emit("agentdata",this.choosedata)}}},l=(o("/xeG"),o("KHd+")),s=Object(l.a)(i,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,agentcontrol:e.agentcontrol,"close-on-press-escape":!1,top:"10px",title:"选择经销商","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:agentcontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("Customer.agentname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.agentname,callback:function(t){e.$set(e.getemplist,"agentname",t)},expression:"getemplist.agentname"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("Customer.phone"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.phone,callback:function(t){e.$set(e.getemplist,"phone",t)},expression:"getemplist.phone"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-date-picker",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.xzrq"),type:"date","value-format":"yyyy-MM-dd"},model:{value:e.getemplist.createtime,callback:function(t){e.$set(e.getemplist,"createtime",t)},expression:"getemplist.createtime"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{value:e.getemplist.type,placeholder:e.$t("Customer.customertype"),clearable:""},model:{value:e.getemplist.type,callback:function(t){e.$set(e.getemplist,"type",t)},expression:"getemplist.type"}},e._l(e.customertypes,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{value:e.getemplist.source,placeholder:e.$t("Customer.source"),clearable:""},model:{value:e.getemplist.source,callback:function(t){e.$set(e.getemplist,"source",t)},expression:"getemplist.source"}},e._l(e.sources,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{value:e.getemplist.level,placeholder:e.$t("Customer.level"),clearable:""},model:{value:e.getemplist.level,callback:function(t){e.$set(e.getemplist,"level",t)},expression:"getemplist.level"}},e._l(e.levels,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{value:e.getemplist.source,placeholder:e.$t("Customer.source"),clearable:""},model:{value:e.getemplist.source,callback:function(t){e.$set(e.getemplist,"source",t)},expression:"getemplist.source"}},e._l(e.sources,function(e,t){return o("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{placeholder:e.$t("Customer.contactname"),clearable:""},model:{value:e.getemplist.contactname,callback:function(t){e.$set(e.getemplist,"contactname",t)},expression:"getemplist.contactname"}}),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{placeholder:e.$t("Customer.pinyin"),clearable:""},model:{value:e.getemplist.pinyin,callback:function(t){e.$set(e.getemplist,"pinyin",t)},expression:"getemplist.pinyin"}}),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.agentname"),resizable:!1,prop:"agentName",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.agentName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.customertype"),resizable:!1,prop:"agentType",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.agentType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.level"),resizable:!1,prop:"agentLevel",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.agentLevel))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.traderid"),resizable:!1,prop:"traderName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.traderName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.contactname"),resizable:!1,prop:"contactName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.contactName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.phone"),resizable:!1,prop:"phone",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.createName"),resizable:!1,prop:"createName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Customer.createTime"),resizable:!1,prop:"createTime",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"14f97aa6",null);s.options.__file="MyAgent.vue";t.a=s.exports},iDk6:function(e,t,o){"use strict";var a=o("MDaA");o.n(a).a},iG2E:function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"e",function(){return i}),o.d(t,"c",function(){return l}),o.d(t,"f",function(){return s}),o.d(t,"b",function(){return c});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e.title&&null!==e.title&&void 0!==e.title&&t.append("title",e.title),""!==e.applyNumber&&null!==e.applyNumber&&void 0!==e.applyNumber&&t.append("applyNumber",e.applyNumber),""!==e.applyPersonId&&null!==e.applyPersonId&&void 0!==e.applyPersonId&&t.append("applyPersonId",e.applyPersonId),""!==e.applyDeptId&&null!==e.applyDeptId&&void 0!==e.applyDeptId&&t.append("applyDeptId",e.applyDeptId),""!==e.stockType&&null!==e.stockType&&void 0!==e.stockType&&t.append("stockType",e.stockType),""!==e.sourceType&&null!==e.sourceType&&void 0!==e.sourceType&&t.append("sourceType",e.sourceType),""!==e.judgeStat&&null!==e.judgeStat&&void 0!==e.judgeStat&&t.append("judgeStat",e.judgeStat),""!==e.receiptStat&&null!==e.receiptStat&&void 0!==e.receiptStat&&t.append("receiptStat",e.receiptStat),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.isActive&&null!==e.isActive&&void 0!==e.isActive&&t.append("isActive",e.isActive),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/stockapply/stocapplylist",method:"post",data:t})}function r(e,t,o){var n=new URLSearchParams;return n.append("stockApplyJson",e),n.append("stockApplyDetailJson",t),""!==o.repositoryId&&null!==o.repositoryId&&void 0!==o.repositoryId&&n.append("repositoryId",o.repositoryId),""!==o.regionId&&null!==o.regionId&&void 0!==o.regionId&&n.append("regionId",o.regionId),Object(a.a)({url:"/stockapply/addstockapply",method:"post",data:n})}function i(e,t){var o=new URLSearchParams;return o.append("stockApplyJson",e),o.append("stockApplyDetailJson",t),Object(a.a)({url:"/stockapply/updatestockapply",method:"post",data:o})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("applyIds",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/stockapply/deletestockapply",method:"post",data:o})}function s(e){var t=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&t.append("stockApplyJson",e),Object(a.a)({url:"/stockapply/updatestockapply",method:"post",data:t})}function c(e){var t=new URLSearchParams;return""!==e.employeeId&&null!==e.employeeId&&void 0!==e.employeeId&&t.append("employeeId",e.employeeId),Object(a.a)({url:"/myApply/applyList",method:"post",data:t})}},jUE0:function(e,t,o){},jap0:function(e,t,o){"use strict";var a=o("9zct");o.n(a).a},jy0E:function(e,t,o){},kY8f:function(e,t,o){"use strict";var a=o("Vmcx");o.n(a).a},kffy:function(e,t,o){"use strict";var a=o("tbXD");o.n(a).a},ls82:function(e,t){!function(t){"use strict";var o,a=Object.prototype,n=a.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag",c="object"==typeof e,p=t.regeneratorRuntime;if(p)c&&(e.exports=p);else{(p=t.regeneratorRuntime=c?e.exports:{}).wrap=b;var d="suspendedStart",u="suspendedYield",m="executing",h="completed",y={},f={};f[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(F([])));v&&v!==a&&n.call(v,i)&&(f=v);var _=$.prototype=S.prototype=Object.create(f);I.prototype=_.constructor=$,$.constructor=I,$[s]=I.displayName="GeneratorFunction",p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===I||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,$):(e.__proto__=$,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},p.awrap=function(e){return{__await:e}},x(C.prototype),C.prototype[l]=function(){return this},p.AsyncIterator=C,p.async=function(e,t,o,a){var n=new C(b(e,t,o,a));return p.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},x(_),_[s]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},p.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var a=t.pop();if(a in e)return o.value=a,o.done=!1,o}return o.done=!0,o}},p.values=F,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=o)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,n){return l.type="throw",l.arg=e,t.next=a,n&&(t.method="next",t.arg=o),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),N(o),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var a=o.completion;if("throw"===a.type){var n=a.arg;N(o)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:F(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=o),y}}}function b(e,t,o,a){var n=t&&t.prototype instanceof S?t:S,r=Object.create(n.prototype),i=new P(a||[]);return r._invoke=function(e,t,o){var a=d;return function(n,r){if(a===m)throw new Error("Generator is already running");if(a===h){if("throw"===n)throw r;return O()}for(o.method=n,o.arg=r;;){var i=o.delegate;if(i){var l=k(i,o);if(l){if(l===y)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=h,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=m;var s=w(e,t,o);if("normal"===s.type){if(a=o.done?h:u,s.arg===y)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(a=h,o.method="throw",o.arg=s.arg)}}}(e,o,i),r}function w(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function S(){}function I(){}function $(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e){var t;this._invoke=function(o,a){function r(){return new Promise(function(t,r){!function t(o,a,r,i){var l=w(e[o],e,a);if("throw"!==l.type){var s=l.arg,c=s.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):Promise.resolve(c).then(function(e){s.value=e,r(s)},i)}i(l.arg)}(o,a,t,r)})}return t=t?t.then(r,r):r()}}function k(e,t){var a=e.iterator[t.method];if(a===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=o,k(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=w(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,y;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=o),t.delegate=null,y):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function F(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=o,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:o,done:!0}}}(function(){return this}()||Function("return this")())},lygb:function(e,t,o){"use strict";var a=o("6HaC"),n=o("0zGY"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{select_orderId:[],select_order_number:[],getRowKeys:function(e){return e.id},jobCat:{type:2,pagenum:1,pagesize:9999},jobs:[],choosedata:"",managerPeople:"",regionManagerId:"",currentRow:null,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},depts:[],props2:{value:"id",label:"regionName",children:"regionListVos"},regions2:[],getemplistregions:[],repositories:[],employeeVisible:this.control,regionManagerVisible:!1}},watch:{control:function(){this.employeeVisible=this.control,this.gitemplist()}},beforeCreate:function(){this},methods:{gitemplist:function(){var e=this;this.listLoading=!0,console.log(this.getemplist),Object(n.p)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.n)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions2=e.tranKTree(t.data.data.content))}),Object(n.r)(this.jobCat).then(function(t){200===t.data.ret?e.jobs=t.data.data.content.list:console.log("职位列表出错")})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleFilter:function(){var e=this;this.getemplist.regionid=this.getemplistregions[this.getemplistregions.length-1],Object(n.p)(this.getemplist).then(function(t){200===t.data.ret?(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount):e.$notify.error({title:"wrong",message:"wrong",offset:100})})},handleAdd:function(){this.employeeVisible=!1,this.$router.push("/EmployeeInformation/NewEmployeeInformation")},handlechange4:function(e){var t=this;console.log(e);var o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret?(console.log(e),t.repositories=e.data.data.content.list):t.$message.error("出错了")})},restemplist:function(){this.getemplist={repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},this.getemplistregions=[]},handleSelectionChange:function(e){var t=this;this.moreaction=e,this.select_order_number=this.moreaction.length,this.select_orderId=[],e&&e.forEach(function(e){e&&t.select_orderId.push(e.id)})},handleConfirm:function(){console.log("this.moreaction",this.moreaction);var e=this.moreaction.map(function(e){return{id:e.id,personName:e.personName}});this.employeeVisible=!1,this.$emit("stockName",e)}}},s=(o("Tnrl"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzyg"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.employeename"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.employeename,callback:function(t){e.$set(e.getemplist,"employeename",t)},expression:"getemplist.employeename"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.jobnumber2"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.jobnumber,callback:function(t){e.$set(e.getemplist,"jobnumber",t)},expression:"getemplist.jobnumber"}}),e._v(" "),o("el-date-picker",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.xzrq"),type:"date","value-format":"yyyy-MM-dd"},model:{value:e.getemplist.time,callback:function(t){e.$set(e.getemplist,"time",t)},expression:"getemplist.time"}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"}},[o("el-cascader",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{options:e.regions2,props:e.props2,"show-all-levels":!1,placeholder:e.$t("Hmodule.xzqy"),"change-on-select":"",filterable:"",clearable:""},on:{change:e.handlechange4},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.xzmd"),clearable:"",filterable:""},model:{value:e.getemplist.repositoryid,callback:function(t){e.$set(e.getemplist,"repositoryid",t)},expression:"getemplist.repositoryid"}},e._l(e.repositories,function(e,t){return o("el-option",{key:t,attrs:{label:e.repositoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"left","margin-top":"10px","margin-left":"20px"},attrs:{value:e.getemplist.postid,placeholder:e.$t("NewEmployeeInformation.postid2"),clearable:""},model:{value:e.getemplist.postid,callback:function(t){e.$set(e.getemplist,"postid",t)},expression:"getemplist.postid"}},e._l(e.jobs,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"right","margin-top":"10px","margin-right":"20px"},attrs:{placeholder:e.$t("NewEmployeeInformation.deptid2"),clearable:""},model:{value:e.getemplist.deptid,callback:function(t){e.$set(e.getemplist,"deptid",t)},expression:"getemplist.deptid"}},e._l(e.depts,function(e,t){return o("el-option",{key:t,attrs:{label:e.deptName,value:e.id}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",fixed:"left",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.id"),resizable:!1,property:"id",align:"center",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.jobNumber"),resizable:!1,property:"jobNumber",align:"center",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.account"),resizable:!1,property:"account",width:"150",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.name"),resizable:!1,align:"center",width:"109"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.firstName)+" "+e._s(t.row.middleName)+" "+e._s(t.row.lastName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.gender"),resizable:!1,prop:"gender",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("genderFilter")(t.row.gender)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.deptName"),resizable:!1,prop:"deptName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.deptName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.regionName"),resizable:!1,prop:"regionName",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.repositoryName"),resizable:!1,prop:"repositoryName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.repositoryName))])]}}])})],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-top":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))]),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.gitemplist}})],1)},[],!1,null,"50b8331f",null);c.options.__file="MyEmp2.vue";t.a=c.exports},m0KX:function(e,t,o){"use strict";var a,n=o("EJiy"),r=o.n(n),i=o("rdXg"),l=o.n(i),s=o("6HaC"),c={filters:{useTypeFilter:function(e){return{1:a.$t("tongyo.jy"),2:a.$t("tongyo.yy")}[e]},isFreeTypeFilter:function(e){return{1:"yes",2:"no"}[e]},saleTypeFilter:function(e){return{1:"现金",2:"分期"}[e]},sourceTypeFilter:function(e){return{1:a.$t("updates.xsdd"),2:a.$t("updates.xsht"),3:a.$t("updates.ysd"),4:a.$t("updates.xsjh"),5:a.$t("Hmodule.Nosource")}[e]},customerTypeFilter:function(e){return{1:"经销商",2:"零售"}[e]},payModeFilter:function(e){return{1:"货到付款",2:"当场支付"}[e]},outTypeFilter:function(e){return{1:"销售出库",2:"换货出库",3:"以旧换新"}[e]},customerTypeFliter:function(e){return{1:"经销商",2:"零售商"}[e]},statfilter:function(e){return{0:a.$t("updates.wsh"),1:a.$t("updates.shz"),2:a.$t("Hmodule.shtg"),3:a.$t("Hmodule.shbtg"),4:a.$t("collectAndPay.lsbc")}[e]},receiptStatFilter:function(e){return{1:a.$t("updates.zd"),2:a.$t("updates.zx"),3:a.$t("updates.jd")}[e]},payTypeFilter:function(e){return{1:"货到付款",2:"当场支付"}[e]}},props:{detailcontrol:{type:Boolean,default:!1},detaildata:{type:Object,default:null}},data:function(){return{returnlist:[],huishou:"",yushou:"",heji1:"",heji2:"",reviewList:[],list2:[],list3:[],editVisible:this.detailcontrol,personalForm:this.detaildata}},watch:{detailcontrol:function(){this.editVisible=this.detailcontrol},detaildata:function(){for(var e in this.personalForm=this.detaildata,console.log("this.detaildata",this.detaildata),console.log("this.personalForm.receivableMoney",this.personalForm.receivableMoney),this.list2=this.personalForm.saleOutDetailVos,this.list3=this.personalForm.saleOutGiftVos,this.returnlist=this.personalForm.saleOutRetreatVos,this.list2)this.list2[e].categoryName=this.list2[e].productCategoryName,this.list2[e].typeName=this.list2[e].productTypeName;this.reviewList=[];var t=this.personalForm.approvalUseVos;for(var o in t)null!==t[o].actualStepHandler&&this.reviewList.push(t[o]);console.log("list2",this.list2)}},beforeCreate:function(){a=this},methods:{formatter:function(e,t){return 1===e.discountRate?100:e.discountRate},planMoney:function(e){return e.planMoney=e.basicPrice*e.planQuantity,e.planMoney},basicPrice:function(e){return Object(s.D)(e.productCode).then(function(t){200===t.data.ret&&(e.basicPrice=t.data.data.content.list[0].purchasePrice)}),e.basicPrice},getSummaries:function(e){var t=e.columns,o=e.data,a=[];return t.forEach(function(e,t){if(0!==t){var n=o.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?a[t]="":(a[t]=n.reduce(function(e,t){var o=Number(t);return isNaN(o)?e:e+t},0),a[t]+="")}else a[t]="总计"}),this.heji1=a[8],this.heji2=a[7],a[1]="",a[2]="",a[3]="",a[4]="",a[6]="",a[9]="",a[10]="",a[11]="",a[12]="",a},handlecancel:function(){this.editVisible=!1},cutnull:function(e){var t=this;for(var o in e)null===e[o]?e[o]="":(Array.isArray(e[o])&&(e[o]=e[o].map(function(e){return t.cutnull(e)})),"object"===r()(e[o])&&(e[o]=this.cutnull(e[o])));return e},printdata:function(){var e=this.cutnull(this.list2);for(var t in e)e[t].step=Number(t)+1;var o=this.reviewList.map(function(e){if(e.actualStepHandler)return e.stepHandlerName}).join(",");console.log(o),l()({printable:e,type:"json",properties:[{field:"step",displayName:"行号",columnSize:"100px"},{field:"productCode",displayName:"物料代码",columnSize:"100px"},{field:"productName",displayName:"物料名称",columnSize:"100px"},{field:"productTypeName",displayName:"规格型号",columnSize:"100px"},{field:"unit",displayName:"单位",columnSize:"100px"},{field:"quantity",displayName:"订单数量",columnSize:"100px"}],header:'<div class="pringtitle">\n                    <div class="custom-p"> 江苏新世窗国际贸易有限公司 </div>\n                      <br>\n                      <div class="ordername">销售出货单列表</div>\n                        <br>\n                        <div class="line1"></div>\n                        <div class="line2"></div>\n                        <div class="supplier">\n                        <div class="item">\n                        <div class="itemname">客户名称：</div>\n                        <div class="itemcontent">'+this.personalForm.customerName+'</div>\n                        </div>\n                        <div class="item">\n                         <div class="itemname">送货日期：</div>\n                        <div class="itemcontent">'+this.personalForm.sendDate+'</div>\n                          </div>\n                        <div class="item">\n                         <div class="itemname">订单编号：</div>\n                        <div class="itemcontent">'+this.personalForm.number+"</div>\n                          </div>\n                          </div>\n                        </div>",bottom:'<div>\n                  <div class="allmoney" style="display: flex;justify-content: space-around;width: 99%;height: 40px;align-items: center;border:1px solid;border-top: none;padding-right: 1%">\n                  </div>\n                  <div class="printbottom" style="display: flex;align-items: center;justify-content: center;width: 100%;margin-top: 20px">\n                    <div class="bottomitem" style="width: 25%;display: flex;align-items: center;justify-content: center;flex-wrap: nowrap">\n                        <div class="ceshi">审核：</div>\n                        <div class="bottomname" >'+o+'</div>\n                    </div>\n                    <div class="bottomitem" style="width: 25%;display: flex;align-items: center;justify-content: center;flex-wrap: nowrap">\n                        <div class="ceshi">部门：</div>\n                        <div class="bottomname">'+(this.personalForm.deptName||"")+'</div>\n                    </div>\n                    <div class="bottomitem" style="width: 25%;display: flex;align-items: center;justify-content: center;flex-wrap: nowrap">\n                        <div class="ceshi">业务员：</div>\n                        <div class="bottomname">'+this.personalForm.salePersonName+'</div>\n                    </div>\n                    <div class="bottomitem" style="width: 25%;display: flex;align-items: center;justify-content: center;flex-wrap: nowrap">\n                        <div class="ceshi">制单：</div>\n                        <div class="bottomname">'+this.personalForm.createPersonName+"</div>\n                    </div>\n                   </div>\n                  </div>",bottomStyle:".printbottom: { display: flex;margin-top: 20px}",style:".custom-p {font-size:20px;text-align: center; } .ordername {text-align: center; font-size:25px;letter-spacing:15px}.pringtitle { line-height: 20px; margin-bottom: 10px }.line1 { width: 200px; border: 1px solid #000; margin: 0 auto }.line2 {width: 200px; border: 2px dashed #000; margin: 3px auto }.supplier {display: flex;justify-content: center; align-items: center;margin-top: 10px}.item { width: 33%; justify-content: center; align-items: center; display: flex}.item2 { width: 50%; justify-content: center; align-items: center; display: flex}.itemname2 { width: 20% }.itemcontent2 {width: 80%}.itemname { width: 40% }.itemcontent {width: 80%}",gridHeaderStyle:"font-size:12px; padding:3px; border:1px solid; color: #000; text-align:center;",gridStyle:"font-size:12px; padding:3px; border:1px solid; text-align:center; text-overflow:ellipsis; white-space:nowrap;",repeatTableHeader:!0})}}},p=(o("Zp4g"),o("KHd+")),d=Object(p.a)(c,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"edit",attrs:{visible:e.editVisible,detailcontrol:e.detailcontrol,detaildata:e.detaildata,"close-on-press-escape":!1,title:e.personalForm.number+e.$t("updates.xqing"),"append-to-body":"",width:"1010px",top:"-10px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){e.$emit("update:detailcontrol",!1)}}},[o("div",{attrs:{id:"printTest"}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("Hmodule.basicinfo")))]),e._v(" "),o("button",{staticClass:"print",staticStyle:{"font-size":"13px",background:"white"},on:{click:e.printdata}},[e._v(e._s(e.$t("updates.print")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.personalForm,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"print2",staticStyle:{width:"100%",display:"none"},attrs:{label:"销售出库单编号"}},[e._v("\n                "+e._s(e.personalForm.number)+"\n              ")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.title")}},[o("span",[e._v(e._s(e.personalForm.title))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sourceType"),prop:"sourceType"}},[o("span",[e._v(e._s(e._f("sourceTypeFilter")(e.personalForm.sourceType)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerType"),prop:"customerType"}},[o("span",[e._v(e._s(e._f("customerTypeFilter")(e.personalForm.customerType)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerName"),prop:"customerId"}},[o("span",[e._v(e._s(e.personalForm.customerName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerPhone")}},[o("span",[e._v(e._s(e.personalForm.phoneNumber))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.customerAccount")}},[o("span",[e._v(e._s(e.personalForm.customerAccount))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outType"),prop:"outType"}},[o("span",[e._v(e._s(e._f("outTypeFilter")(e.personalForm.outType)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.salePersonId"),prop:"salePersonId"}},[o("span",[e._v(e._s(e.personalForm.salePersonName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleType")}},[o("span",[e._v(e._s(e._f("saleTypeFilter")(e.personalForm.saleType)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.sendDate")}},[o("span",[e._v(e._s(e.personalForm.sendDate))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.closeType")}},[o("span",[e._v(e._s(e.personalForm.settleModeName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.invoiceType")}},[o("span",[e._v(e._s(e.personalForm.invoiceTypeName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.payType")}},[o("span",[e._v(e._s(e.personalForm.payModeName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.transferPersonId")}},[o("span",[e._v(e._s(e.personalForm.transferPersonName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.saleRepositoryId")}},[o("span",[e._v(e._s(e.personalForm.saleRepositoryName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.address")}},[o("span",[e._v(e._s(e.personalForm.address))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outPersonId")}},[o("span",[e._v(e._s(e.personalForm.outPersonName))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.outDate")}},[o("span",[e._v(e._s(e.personalForm.outDate))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.pointSupport")}},[o("span",[e._v(e._s(e.personalForm.pointSupport))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.couponSupportOld")}},[o("span",[e._v(e._s(e.personalForm.couponSupportOld))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.couponSupport")}},[o("span",[e._v(e._s(e.personalForm.couponSupport))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.couponNumbers")}},[o("span",[e._v(e._s(e.personalForm.couponNumbers))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridMoney")}},[o("span",[e._v(e._s(e.personalForm.ridMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ridBikeMoney")}},[o("span",[e._v(e._s(e.personalForm.ridBikeMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.receivableMoney")}},[o("span",[e._v(e._s(e.personalForm.receivableMoneyForDetail))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("otherlanguage.yskdk")}},[o("span",[e._v(e._s(e.personalForm.advanceMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.isInvoice")}},[o("el-radio-group",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:e.personalForm.isInvoice,callback:function(t){e.$set(e.personalForm,"isInvoice",t)},expression:"personalForm.isInvoice"}},[o("el-radio",{staticStyle:{width:"100px"},attrs:{label:1}},[e._v(e._s(e.$t("updates.yes")))]),e._v(" "),o("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("updates.no")))])],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("collectAndPay.isfree")}},[o("span",[e._v(e._s(e._f("isFreeTypeFilter")(e.personalForm.isFree)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("tongyo.useType")}},[o("span",[e._v(e._s(e._f("useTypeFilter")(e.personalForm.useType)))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("tongyo.useMonth")}},[o("span",[e._v(e._s(e.personalForm.useMonth))])])],1)],1)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"fuzhu",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.ddmx")))]),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.list2,"edit-config":{showIcon:!1,showStatus:!1},border:"",size:"medium"},on:{"update:data":function(t){e.list2=t}}},[o("el-editable-column",{attrs:{label:e.$t("Hmodule.xh"),fixed:"left","min-width":"55",align:"center",type:"index"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",fixed:"left",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",fixed:"left",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.hw"),prop:"locationName",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.pc"),prop:"batch",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"categoryName",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jbdw"),prop:"unit",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ggxh"),prop:"typeName",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.jxf"),prop:"kpiGrade",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.spjf"),prop:"point",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.cksli"),prop:"quantity",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.thsl"),prop:"retreatQuantity",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckj"),prop:"salePrice",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.sl"),prop:"taxRate",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.se"),prop:"taxMoney",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ckje"),prop:"includeTaxCostMoney",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{formatter:e.formatter,label:e.$t("updates.ckl"),prop:"discountRate",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.cke"),prop:"discountMoney",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.cjbm"),prop:"carCode",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.djbm"),prop:"motorCode",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.dcbm"),prop:"batteryCode",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ydbh"),prop:"sourceNumber",align:"center"}})],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"fuzhu",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.zpmx")))]),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable2",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.list3,"edit-config":{showIcon:!0,showStatus:!0},stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.list3=t}}},[o("el-editable-column",{attrs:{label:e.$t("Hmodule.xh"),fixed:"left","min-width":"55",align:"center",type:"index"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",fixed:"left",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",fixed:"left",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.hw"),prop:"locationName",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.pc"),prop:"batch",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ggxh"),prop:"productTypeName",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.lsj"),prop:"salePrice",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.je"),prop:"money",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.shuli"),prop:"quantity",align:"center"}})],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[o("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("tongyo.zbthd")))]),e._v(" "),o("div",{staticClass:"container"},[o("el-editable",{ref:"editable3",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.returnlist,"edit-config":{showIcon:!0,showStatus:!0},stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.returnlist=t}}},[o("el-editable-column",{attrs:{label:"编号",width:"55",align:"center",type:"index"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.hw"),prop:"locationName",align:"center",width:"200px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpbh"),prop:"productCode",align:"center",width:"200px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.wpmc"),prop:"productName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.wpfl"),prop:"productCategoryName",align:"center","min-width":"150"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.ys"),prop:"color",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.gg"),prop:"productTypeName",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("Hmodule.dw"),prop:"unit",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.rksl"),prop:"quantity",align:"center",width:"150px"}}),e._v(" "),o("el-editable-column",{attrs:{label:e.$t("updates.bz"),prop:"remarks",align:"center",width:"150px"}})],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.hjxx")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm2",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji1")}},[o("span",[e._v(e._s(e.personalForm.allQuantity))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji3")}},[o("span",[e._v(e._s(e.personalForm.allIncludeTaxCostMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji4")}},[o("span",[e._v(e._s(e.personalForm.allDiscountMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji9")}},[o("span",[e._v(e._s(e.personalForm.allGiftQuantity))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji10")}},[o("span",[e._v(e._s(e.personalForm.allGiftMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji11")}},[o("span",[e._v(e._s(e.personalForm.otherMoney))])])],1)],1)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"fuzhu",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.spjl")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.reviewList,border:""}},[o("el-table-column",{attrs:{label:e.$t("updates.dqbz"),prop:"step",align:"center","min-width":"150"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("updates.dqspr"),prop:"stepHandlerName",align:"center","min-width":"150"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("updates.spsj"),prop:"handleTime",align:"center","min-width":"150"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("updates.spyj"),prop:"stat",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("statfilter")(t.row.stat)))])]}}])})],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("updates.bzxx")))]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.personalForm,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("public.createPersonName2"),prop:"stockType"}},[e._v("\n                "+e._s(e.personalForm.createPersonName)+"\n              ")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("public.createDate2")}},[e._v("\n                "+e._s(e.personalForm.createDate)+"\n              ")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("public.endPersonName"),prop:"applyDate"}},[e._v("\n                "+e._s(e.personalForm.endPersonName)+"\n              ")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("public.endDate"),prop:"applyDate"}},[e._v("\n                "+e._s(e.personalForm.endDate)+"\n              ")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("public.modifyPersonName"),prop:"applyDate"}},[e._v("\n                "+e._s(e.personalForm.modifyPersonName)+"\n              ")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("public.modifyDate"),prop:"applyDate"}},[e._v("\n                "+e._s(e.personalForm.modifyDate)+"\n              ")])],1)],1)],1)],1)]),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[o("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v("利润明细")]),e._v(" "),o("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[o("el-form",{ref:"personalForm2",staticClass:"demo-ruleForm",attrs:{model:e.personalForm,inline:!0,"status-icon":"","label-width":"130px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji3")}},[o("span",[e._v(e._s(e.personalForm.allIncludeTaxCostMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji4")}},[o("span",[e._v(e._s(e.personalForm.allDiscountMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji11")}},[o("span",[e._v(e._s(e.personalForm.otherMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.heji8")}},[o("span",[e._v(e._s(e.personalForm.allCostMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.profit")}},[o("span",[e._v(e._s(e.personalForm.allIncludeTaxCostMoney-e.personalForm.allDiscountMoney-e.personalForm.otherMoney-e.personalForm.allCostMoney))])])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("SaleOut.ProfitMargin")}},[o("span",[e._v(e._s(((e.personalForm.allIncludeTaxCostMoney-e.personalForm.allDiscountMoney-e.personalForm.otherMoney-e.personalForm.allCostMoney)/e.personalForm.allCostMoney).toFixed(2)))])])],1)],1)],1)],1)])],1)])},[],!1,null,"c6156016",null);d.options.__file="DetailList.vue";t.a=d.exports},mHcl:function(e,t,o){"use strict";var a=o("C9RJ");o.n(a).a},nHb1:function(module,__webpack_exports__,__webpack_require__){"use strict";var babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("14Xm"),babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4d7F"),babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("D3Ub"),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("m1cH"),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("gDS+"),babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4__),_api_DiffPrice__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cnMQ"),_api_BasicSettings__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("moiu"),_api_Customer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("BJvg"),_api_Coupon__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("CXWi"),_api_Package__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("C8Bo"),_api_public__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("6HaC"),_api_SaleOut__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("nwry"),_api_Supplier__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("/PQ/"),_api_SaleCategory__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("rwJ9"),_MyEmp2__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("lygb"),_MyDelivery2__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("6Dyo"),_MyDetail__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("oXqz"),_MyApply__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("dZG5"),_MySupplier__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("TOFQ"),_MyRequire__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("z78p"),_MyCustomer__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("IuxZ"),_MyAgent__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("gXWC"),_MyAccept__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("rnM8"),_MyRepository__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("9QBK"),_MyOrder__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("P3QD"),_MyAdvance__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("GlAp"),_MyPresale__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("opnZ"),_MyOpportunity__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("SlrM"),_MyDetail2__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("LJrk"),_MyPackage__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("UPUG"),_MyContract__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("z74p"),_MyReturn__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("5PlW"),_that;__webpack_exports__.a={name:"MyDialog",filters:{isFreeTypeFilter:function(e){return{1:"yes",2:"no"}[e]},useTypeFilter:function(e){return{1:_that.$t("tongyo.jy"),2:_that.$t("tongyo.yy")}[e]}},components:{MyReturn:_MyReturn__WEBPACK_IMPORTED_MODULE_31__.a,MyContract:_MyContract__WEBPACK_IMPORTED_MODULE_30__.a,MyPackage:_MyPackage__WEBPACK_IMPORTED_MODULE_29__.a,MyDetail2:_MyDetail2__WEBPACK_IMPORTED_MODULE_28__.a,MyOpportunity:_MyOpportunity__WEBPACK_IMPORTED_MODULE_27__.a,MyPresale:_MyPresale__WEBPACK_IMPORTED_MODULE_26__.a,MyAdvance:_MyAdvance__WEBPACK_IMPORTED_MODULE_25__.a,MyOrder:_MyOrder__WEBPACK_IMPORTED_MODULE_24__.a,MyRepository:_MyRepository__WEBPACK_IMPORTED_MODULE_23__.a,MyAccept:_MyAccept__WEBPACK_IMPORTED_MODULE_22__.a,MyAgent:_MyAgent__WEBPACK_IMPORTED_MODULE_21__.a,MyCustomer:_MyCustomer__WEBPACK_IMPORTED_MODULE_20__.a,MyRequire:_MyRequire__WEBPACK_IMPORTED_MODULE_19__.a,MySupplier:_MySupplier__WEBPACK_IMPORTED_MODULE_18__.a,MyApply:_MyApply__WEBPACK_IMPORTED_MODULE_17__.a,MyDetail:_MyDetail__WEBPACK_IMPORTED_MODULE_16__.a,MyDelivery:_MyDelivery2__WEBPACK_IMPORTED_MODULE_15__.a,MyEmp:_MyEmp2__WEBPACK_IMPORTED_MODULE_14__.a},props:{editcontrol:{type:Boolean,default:!1},editdata:{type:Object,default:null}},data:function(){var e=this;return{personalForm2:{couponSupports:[{couponSupport:0}]},pickerOptions1:{disabledDate:function(e){return e.getTime()<(new Date).getTime()-864e5}},diffpricelist:[],showreturn:!1,control2:!1,returnlist:[],moreaction:"",packagecontrol:!1,productnumber:"",point:0,isEdit:!1,choosedata:[],editVisible:this.editcontrol,personalForm:this.editdata,heji1:"",heji2:"",heji3:"",heji4:"",heji5:"",heji6:"",heji7:"",heji8:"",heji9:"",heji10:"",heji11:"",locationlist:[],payModes:[],contractcontrol:!1,giftcontrol:!1,opportunitycontrol:!1,presalecontrol:!1,ordercontrol:!1,Isproduct:!1,IsSourceNumber:!1,huishou:"0.00",yushou:"0.00",saleRepositoryId:"",repositorycontrol:!1,outPersonId:"",accetpcontrol:!1,transferPersonId:"",deliverycontrol:!1,roleId:"",customerId:"",customercontrol:!1,agentcontrol:!1,salePersonId:"",stockControl:!1,invoiceTypes:[],invoicetypeparms:{type:4,pagenum:1,pagesize:99999},colseTypes:[],colseTypeparms:{type:3,pagenum:1,pagesize:99999},batchlist:[],control:!1,personalrules:{saleType:[{required:!0,message:"请选择销售类别",trigger:"change"}],customerType:[{required:!0,message:"请选择客户类别",trigger:"change"}],sendDate:[{required:!0,message:"请选择送货日期",trigger:"change"}],salePersonId:[{required:!0,validator:function(t,o,a){console.log(e.supplierId),void 0===e.salePersonId||null===e.salePersonId||""===e.salePersonId?a(new Error("请选择销售人员")):a()},trigger:"change"}],backType:[{required:!0,message:"请选择回款状态",trigger:"change"}],pointSupport:[{validator:function(t,o,a){console.log(1789,e.personalForm.pointSupport),Number(e.personalForm.pointSupport)<0||Number(e.personalForm.pointSupport)>e.point?a(new Error("请输入正确积分")):a()},trigger:"change"}],saleRepositoryId:[{required:!0,validator:function(t,o,a){console.log(e.saleRepositoryId),void 0===e.saleRepositoryId||null===e.saleRepositoryId||""===e.saleRepositoryId?a(new Error("请选择出库仓库")):a()},trigger:"change"}],customerId:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.customerId||null===e.customerId||""===e.customerId?a(new Error("请输入顾客姓名")):a()},trigger:"change"}],transferPersonId:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.transferPersonId||null===e.transferPersonId||""===e.transferPersonId?a(new Error("请选择出库人")):a()},trigger:"change"}],outDate:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.personalForm.outDate||null===e.personalForm.outDate||""===e.personalForm.outDate?a(new Error("请选择出库时间")):a()},trigger:"change"}]},list2:[],list3:[],validRules:{quantity:[{required:!0,validator:function(e,t,o){""===t||null===t||void 0===t?o(new Error("入库数量不能为空")):t<0?o(new Error("入库数量需大于0")):o()},trigger:"blur"}]},ableSubmission:!0}},watch:{editcontrol:function(){this.editVisible=this.editcontrol},editdata:function(){if(this.personalForm=this.editdata,0===this.personalForm.saleOutRetreatVos.length?this.showreturn=!1:this.showreturn=!0,"5"===this.personalForm.sourceType||void 0===this.personalForm.sourceType?(this.Isproduct=!1,this.IsSourceNumber=!0,this.personalForm.saleType="1"):"6"===this.personalForm.sourceType?(this.IsSourceNumber=!0,this.Isproduct=!0,this.personalForm.saleType="1"):"2"===this.personalForm.sourceType?(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="2"):(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="1"),this.personalForm.couponMoney=this.personalForm.couponSupport,console.log("this.personalForm.receivableMoney",this.personalForm.receivableMoney),""===this.personalForm.couponNumbers||null===this.personalForm.couponNumbers||void 0===this.personalForm.couponNumbers)this.personalForm2.couponSupports=[{couponSupport:0}];else{this.personalForm2.couponSupports=[{couponSupport:0}];var e=[],t=this.personalForm.couponNumbers.split(",");console.log("b",t);for(var o=0;o<t.length;o++){var a={};a.couponSupport=t[o],e.push(a)}console.log("coupon",e),this.personalForm2.couponSupports=e,console.log("this.personalForm.couponSupports2",this.personalForm2.couponSupports)}for(var n in"5"===this.personalForm.sourceType?(this.Isproduct=!1,this.IsSourceNumber=!0):(this.Isproduct=!0,this.IsSourceNumber=!1),this.planPersonId=this.personalForm.planPersonName,this.stockPersonId=this.personalForm.stockPersonName,this.list2=this.personalForm.saleOutDetailVos,this.list2)this.list2[n].location=this.list2[n].locationName,this.list2[n].locationName=this.list2[n].locationName,this.list2[n].categoryName=this.list2[n].productCategoryName,this.list2[n].typeName=this.list2[n].productTypeName,this.list2[n].taxRate<1&&(this.list2[n].taxRate=100*this.list2[n].taxRate);for(var r in this.list2)this.list2[r].discountRate<=1&&(this.list2[r].discountRate=100*this.list2[r].discountRate);this.list3=this.personalForm.saleOutGiftVos,this.returnlist=this.personalForm.saleOutRetreatVos,this.customerId=this.personalForm.customerName,this.salePersonId=this.personalForm.salePersonName,this.transferPersonId=this.personalForm.transferPersonName,this.saleRepositoryId=this.personalForm.saleRepositoryName,this.outPersonId=this.personalForm.outPersonName,this.customerPhone=this.personalForm.customerPhone,this.updatebatch(),this.getlocations(),null!==this.personalForm.useMonth&void 0!==this.personalForm.useMonth&&""!==this.personalForm.useMonth&&this.getdiffprice()},list2:{handler:function(e,t){var o=0,a=0,n=0;for(var r in this.list2)o+=Number(this.list2[r].quantity),n+=Number(this.list2[r].discountMoney),a+=Number(this.list2[r].includeTaxCostMoney);this.heji1=o,this.heji3=a,this.heji4=n,this.getReceivableMoney()},deep:!0},list3:{handler:function(e,t){var o=0,a=0;for(var n in this.list3)o+=this.list3[n].quantity,a+=this.list3[n].salePrice*o;this.heji9=o,this.heji10=a},deep:!0}},created:function(){this.getTypes(),this.getdatatime()},beforeCreate:function(){_that=this},methods:{getdiffprice:function(){var e=this;Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_5__.e)(this.getemplist).then(function(t){200===t.data.ret&&(e.diffpricelist=t.data.data.content.list)})},getlocations:function(){var e=this;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(this.personalForm.saleRepositoryId).then(function(t){200===t.data.ret&&(e.locationlist=t.data.data.content.list)})},sum:function sum(arr){return 0===arr.length?0:eval(arr.join("+"))},returnquanty:function(e){},updatebatchreturnpro:function(e,t){var o=this;if(!0===e){if(console.log(this.personalForm.saleRepositoryId),void 0===this.personalForm.saleRepositoryId||""===this.personalForm.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.sqslcg"),offset:100}),!1;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.w)(this.personalForm.saleRepositoryId,t.row).then(function(e){200===e.data.ret&&(0!==e.data.data.content.length?o.locationlist=e.data.data.content:0===e.data.data.content.length&&Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(o.personalForm.saleRepositoryId).then(function(e){200===e.data.ret&&(o.locationlist=e.data.data.content.list)}))})}},productdetail2:function(e){var t=this;console.log(e);var o=this.$refs.editable3.getRecords();console.log(o);var a=e.findIndex(function(e,o,a){return e.productCode===t.personalForm.productCode});console.log(a),this.returnlist=e.filter(function(e){return e.productCode!==t.personalForm.productCode})},handleAddreturnproduct:function(){console.log("this.personalForm.saleRepositoryId",this.personalForm.saleRepositoryId);var e=this.$refs.editable.getRecords();return null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId?(this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzck"),offset:100}),!1):0===e.length?(this.$notify.error({title:"wrong",message:this.$t("tongyo.qxxzcknr"),offset:100}),!1):void(this.control2=!0)},switchsaletype:function(e){console.log("val",e),"1"===e&&"2"===this.personalForm.sourceType?(this.$notify.error({title:"wrong",message:this.$t("prompt.gdjwfq"),offset:100}),this.personalForm.saleType="2"):(this.$notify.error({title:"wrong",message:"该单据为现金",offset:100}),this.personalForm.saleType="1")},changeCoupon:function(){var e=this;console.log("this.personalForm.couponSupports2",this.personalForm2.couponSupports);var t=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(this.personalForm2.couponSupports);Object(_api_Coupon__WEBPACK_IMPORTED_MODULE_8__.e)(t).then(function(t){console.log(t),200===t.data.ret?(e.personalForm.couponMoney=t.data.data.content,console.log("res.data.data.content",t.data.data.content),e.getReceivableMoney(t.data.data.content)):e.$notify.error({title:"wrong",message:t.data.msg,offset:100})})},addDomain:function(){console.log("this.personalForm2.couponSupports",this.personalForm2.couponSupports),this.personalForm2.couponSupports.push({couponSupport:0}),console.log("this.personalForm.couponSupports",this.personalForm2.couponSupports)},getReceivableMoney:function(){var e=this;if(console.log("666",666),console.log("this.personfomr",this.personalForm),this.personalForm.pointSupport||(this.personalForm.pointSupport=0),this.personalForm.couponSupport||(this.personalForm.couponSupport=0),this.personalForm.ridMoney||(this.personalForm.ridMoney=0),this.personalForm.ridBikeMoney||(this.personalForm.ridBikeMoney=0),this.personalForm.advanceMoney||(this.personalForm.advanceMoney=0),this.personalForm.otherMoney||(this.personalForm.otherMoney=0),console.log("this.personalForm.sourceTypethis.personalForm.sourceType",this.personalForm.sourceType),null!==this.personalForm.couponSupportOld&&""!==this.personalForm.couponSupportOld&&void 0!==this.personalForm.couponSupportOld||(this.personalForm.couponSupportOld=0),"1"!==this.personalForm.sourceType&&"3"!==this.personalForm.sourceType&&"4"!==this.personalForm.sourceType&&"5"!==this.personalForm.sourceType&&"6"!==this.personalForm.sourceType||null!==this.personalForm.useMonth)if(null!==this.personalForm.useMonth){var t=this.$refs.editable.getRecords();console.log("allbattery",t),console.log("this.diffpricelist",this.diffpricelist);var o=this.diffpricelist.filter(function(t){return t.useType===Number(e.personalForm.useType)});console.log("filtertypes",o);var a=o.filter(function(t){return t.useMonth===Number(e.personalForm.useMonth)});console.log("filtermonth",a);var n=a.filter(function(e){return e.categoryId===t[0].category});if(console.log("filterfinally",n),0!==n.length){var r=Number(n[0].diffMoney)*Number(t[0].quantity)-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),i=Number(n[0].diffMoney)*Number(t[0].quantity)-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);r<0&&(r=0),this.$set(this.personalForm,"receivableMoney",r),this.$set(this.personalForm,"receivableMoney2",i)}else this.$set(this.personalForm,"receivableMoney",0),this.$set(this.personalForm,"receivableMoney2",0)}else if(this.$store.getters.newsaleoutdata.firstMoney){console.log("123",123);var l=this.$store.getters.newsaleoutdata.firstMoney-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),s=this.$store.getters.newsaleoutdata.firstMoney-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);l<0&&(l=0),this.$set(this.personalForm,"receivableMoney",l),this.$set(this.personalForm,"receivableMoney2",s)}else if(""!==this.receivableMoney||null!==this.receivableMoney||void 0!==this.receivableMoney){console.log("是否是销售合同带入过来"),console.log("234",234);var c=this.receivableMoney-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),p=this.receivableMoney-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);c<0&&(c=0),this.$set(this.personalForm,"receivableMoney",c),this.$set(this.personalForm,"receivableMoney2",p)}else{console.log("456",456);var d=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),u=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);d<0&&(d=0),this.$set(this.personalForm,"receivableMoney",d),this.$set(this.personalForm,"receivableMoney2",u)}else{console.log("this.heji3",this.heji3),console.log("this.heji4",this.heji4),console.log("this.personalForm.couponMoney",this.personalForm.couponMoney);var m=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),h=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);m<0&&(m=0),this.$set(this.personalForm,"receivableMoney",m),this.$set(this.personalForm,"receivableMoney2",h)}},changemoney:function(e){console.log(e)},salePrice:function(e){console.log("val1222222",e),this.moreaction[0].salePrice=e},handleSelectionChange:function(e){console.log(e),this.moreaction=e},packagedata:function(e){console.log("val1222222",e);for(var t=0;t<e.length;t++)e[t].quantity=1,this.$refs.editable2.insert(e[t])},handleAddpackage:function(){this.moreaction.length>1||0===this.moreaction.length?this.$notify.error({title:"请选择主商品",message:"请选择主商品",offset:100}):(this.productnumber=this.moreaction[0].productCode,this.packagecontrol=!0)},getInfo:function(e){var t=this;if(console.log(e),null!==e.carCode&&""!==e.carCode&&void 0!==e.carCode){var o={};o.carCode=e.carCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},getInfo2:function(e){var t=this;if(console.log(e),null!==e.batteryCode&&""!==e.batteryCode&&void 0!==e.batteryCode){var o=[];o.batteryCode=e.batteryCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},getInfo3:function(e){var t=this;if(console.log(e),null!==e.motorCode&&""!==e.motorCode&&void 0!==e.motorCode){var o=[];o.motorCode=e.motorCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},isEdit5:function(e){console.log("222",e);var t=e.productCode.slice(0,2);return"01"!==t&&("01"!==t&&"5"===this.personalForm.sourceType)},isEdit4:function(e){return"05"===e.productCode.slice(0,2)},isEdit3:function(e){return"01"!==e.productCode.slice(0,2)},isEdit2:function(e){return"01"===e.productCode.slice(0,2)},test:function(){0===[].concat(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default()(this.list2)).length&&(this.ableSubmission=!0,console.log(this.ableSubmission))},updatebatch2:function(e,t){var o=this;if(!0===e){var a=t.row.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.b)(this.personalForm.saleRepositoryId,a).then(function(e){console.log(e),o.batchlist=e.data.data.content})}},queryStock:function(e){var t=this;if(console.log("row+++=======",e),null===e.locationName||""===e.locationName||void 0===e.locationName)return this.$notify.error({title:"wrong",message:"仓库不存在此商品!",offset:100}),e.quantity=1,!1;var o=0;if(this.$refs.editable.getRecords().map(function(e){return e}).forEach(function(t){t.productCode===e.productCode&&o++}),1===o)Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.i)(this.personalForm.saleRepositoryId,0,e.productCode).then(function(o){if(200===o.data.ret){if(console.log("res.data.data.content",o.data.data.content),0===o.data.data.content.list.length)return t.$notify.error({title:"wrong",message:"仓库内无该物品",offset:100}),e.quantity=1,!1;if(e.quantity>o.data.data.content.list[0].ableStock)return t.$notify.error({title:"wrong",message:t.$t("prompt.qsrzqdsjh"),offset:100}),e.quantity=1,!1}else t.$notify.error({title:"wrong",message:o.data.msg,offset:100})});else{var a={};a.productCode=e.productCode,a.batch=e.batch,a.repositoryId=e.repositoryId,Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.m)(a).then(function(o){if(200===o.data.ret){if(console.log("res.data.data.content",o.data.data.content),e.quantity>o.data.data.content[0].quantity)return t.$notify.error({title:"wrong",message:t.$t("prompt.ckslcgpcsl"),offset:100}),e.quantity=1,!1}else t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},change:function(){this.$forceUpdate()},updatebatch:function(e,t){var o=this;if(!0===e){if(void 0===this.personalForm.saleRepositoryId||""===this.personalForm.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.sqslcg"),offset:100}),!1;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.w)(this.personalForm.saleRepositoryId,t.row).then(function(e){200===e.data.ret&&(0!==e.data.data.content.length?o.locationlist=e.data.data.content:0===e.data.data.content.length&&Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(o.personalForm.saleRepositoryId).then(function(e){200===e.data.ret&&(o.locationlist=e.data.data.content.list)}))})}},getLocationData:function(e){if(null===e.batch||""===e.batch||void 0===e.batch){var t=e.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.b)(this.personalForm.saleRepositoryId,t).then(function(t){t.data.data.content.length>0&&(e.batch=t.data.data.content[0])})}else{var o=e.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.b)(this.personalForm.saleRepositoryId,o).then(function(t){0===t.data.data.content.length&&"不使用"!==e.batch&&(e.batch=null)})}return Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.w)(this.personalForm.saleRepositoryId,e).then(function(t){200===t.data.ret&&(0!==t.data.data.content.length?(e.location=t.data.data.content[0].locationCode,e.locationName=t.data.data.content[0].locationCode,e.locationId=t.data.data.content[0].id):(e.location=null,e.locationName=null,e.locationId=null))}),e.locationName},salecontractDetail:function(e){console.log(e),this.$refs.editable.clear();for(var t=0;t<e.length;t++)e[t].typeId=e[t].typeName,console.log("val[i]",e[t]),this.$refs.editable.insert(e[t])},salecontract:function(e){var t=this;console.log("val.firstMoney",e.firstMoney),this.receivableMoney=e.firstMoney,null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType="2"),2===e.sourceType&&null!==e.sourceNumber&&(this.personalForm.applyNumber=e.sourceNumber),this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,this.personalForm.handleRepositoryId=e.saleRepositoryId,this.handleRepositoryId=e.saleRepositoryName,null!==e.saleType&&void 0!==e.saleType&&""!==e.saleType&&(this.personalForm.saleType=String(e.saleType)),this.personalForm.settleMode=e.closeType,this.personalForm.invoiceType=e.invoiceType,null!==e.payType&&void 0!==e.payType&&""!==e.payType&&(this.personalForm.payType=String(e.payType)),this.getReceivableMoney()},getlocation:function(){var e=this;Object(_api_public__WEBPACK_IMPORTED_MODULE_10__.B)(this.personalForm.enterRepositoryId).then(function(t){200===t.data.ret&&(e.locationlist=t.data.data.content.list.map(function(e){return{value:e.id,label:e.locationName}}))})},chooseSourceType:function(e){this.$refs.editable.clear(),this.receivableMoney="",this.personalForm.ridMoney="",this.personalForm.ridBikeMoney="",console.log(e),console.log("this.list2",this.list2),"5"===e||void 0===e?(this.Isproduct=!1,this.IsSourceNumber=!0,this.personalForm.saleType="1"):"6"===e?(this.IsSourceNumber=!0,this.Isproduct=!0,this.personalForm.saleType="1"):"2"===e?(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="2"):(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="1")},handlechooseRep:function(){this.repositorycontrol=!0},repositoryname:function(e){this.$refs.editable.getRecords().map(function(e){return e}).forEach(function(e){e.quantity=1}),this.$refs.editable2.getRecords().map(function(e){return e}).forEach(function(e){e.quantity=1}),this.saleRepositoryId=e.repositoryName,this.personalForm.saleRepositoryId=e.id},handlechooseAccept:function(){this.accetpcontrol=!0},acceptName:function(e){this.outPersonId=e.personName,this.personalForm.outPersonId=e.id},handlechooseDelivery:function(){this.deliverycontrol=!0},deliveryName:function(e){var t=e.map(function(e){return e.id});this.personalForm.transferPersonId=t.join(",");var o=e.map(function(e){return e.personName});this.transferPersonId=o.join(",")},getdatatime:function(){var e=new Date,t=e.getFullYear(),o=e.getMonth()+1,a=e.getDate();o>=1&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a);var n=t+"-"+o+"-"+a;this.personalForm.sendDate=n,this.personalForm.outDate=n},getSummaries2:function(e){var t=e.columns,o=e.data,a=[];return t.forEach(function(e,t){if(0!==t){var n=o.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?a[t]="":(a[t]=n.reduce(function(e,t){var o=Number(t);return isNaN(o)?Number(e).toFixed(2):(Number(e)+Number(t)).toFixed(2)},0),a[t]+="")}else a[t]="总计"}),a[1]="",a[2]="",a[3]="",a[4]="",a[5]="",a[6]="",a[7]="",a[8]="",a[9]="",a[10]="",this.heji9=a[12],this.heji10=a[11],this.personalForm.otherMoney=a[12],a},getSummaries:function(e){var t=e.columns,o=e.data,a=[];return t.forEach(function(e,t){if(0!==t){var n=o.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?a[t]="":(a[t]=n.reduce(function(e,t){var o=Number(t);return isNaN(o)?Number(e).toFixed(2):(Number(e)+Number(t)).toFixed(2)},0),a[t]+="")}else a[t]="总计"}),a[1]="",a[2]="",a[3]="",a[4]="",a[5]="",a[6]="",a[7]="",a[8]="",a[9]="",a[10]="",a[11]="",a[13]="",a[15]="",a[17]="",a[21]="",a[22]="",a[23]="",a[24]="",a[25]="",this.heji1=a[12],this.heji3=a[16],this.heji4=a[18],a},getcostMoney:function(e){return e.costMoney=(e.costPrice*e.quantity).toFixed(2),e.costMoney},getincludeTaxMoney:function(e){return e.includeTaxMoney=Number(e.salePrice*e.quantity)+Number(e.taxMoney),e.includeTaxMoney},gettaxRate:function(e){0!==e.taxprice&&(e.taxprice=(e.salePrice*(1+e.taxRate/100)).toFixed(2)),e.discountRate},getTaxMoney2:function(e){return e.taxMoney=(e.salePrice*e.taxRate/100*e.quantity).toFixed(2),e.taxMoney},getdiscountRate:function(e){},getdiscountMoney:function(e,t,o){var a=this;if("01"===e.productCode.slice(0,2)){var n={typeId:e.type,roleId:this.$store.getters.roleId,category:1,pageNum:1,pageSize:1};Object(_api_BasicSettings__WEBPACK_IMPORTED_MODULE_6__.w)(n).then(function(o){if(200===o.data.ret)if(0===o.data.data.content.list.length)e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100});else{var n=t/e.quantity;console.log("isoverdiscount",n),o.data.data.content.list[0].discountMoney<n&&(e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100}))}0!==e.taxprice&&0!==e.quantity&&0!==e.discountMoney&&(e.discountRate=(e.discountMoney/e.includeTaxCostMoney*100).toFixed(2))})}else{var r={roleId:this.$store.getters.roleId,category:2,pageNum:1,pageSize:1};Object(_api_BasicSettings__WEBPACK_IMPORTED_MODULE_6__.w)(r).then(function(o){if(200===o.data.ret)if(0===o.data.data.content.list.length)e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100});else{console.log("res222",o);var n=o.data.data.content.list[0].discountRate*e.includeTaxCostMoney;console.log("isoverdiscount",n),n<t&&(e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100}))}0!==e.taxprice&&0!==e.quantity&&0!==e.discountMoney&&(e.discountRate=(e.discountMoney/e.includeTaxCostMoney*100).toFixed(2))})}},getMoney:function(e){return e.money=(e.quantity*e.salePrice).toFixed(2),e.money},gettaxprice:function(e){return e.taxprice=(e.salePrice*(1+e.taxRate/100)).toFixed(2),e.taxprice},getincludeTaxCostMoney:function(e){return e.includeTaxCostMoney=Number(e.salePrice*e.quantity)+Number(e.taxMoney),e.includeTaxCostMoney},clearCustomer:function(){this.personalForm.customerId="",this.customerId="",this.personalForm.advanceMoney=0},chooseCustomer:function(){this.$forceUpdate(),"1"===this.personalForm.customerType?(this.agentcontrol=!0,this.$forceUpdate()):"2"===this.personalForm.customerType&&(this.customercontrol=!0,this.$forceUpdate())},customerdata:function(e){var t=this;console.log(111,e.phoneNumber),console.log(111,this.personalForm.customerPhone),this.personalForm.transAddress=e.address,this.personalForm.customerId=e.id,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.phoneNumber=e.phoneNumber,this.personalForm.address=e.address,this.point=e.point},agentdata:function(e){var t=this;console.log(222,e),this.personalForm.transAddress=e.address,this.personalForm.customerId=e.id,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.agentName,this.personalForm.phoneNumber=e.phone,this.personalForm.address=e.address,this.point=e.point},handleAddSource:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;"1"===this.personalForm.sourceType?this.ordercontrol=!0:"2"===this.personalForm.sourceType?this.contractcontrol=!0:"3"===this.personalForm.sourceType?this.presalecontrol=!0:"4"===this.personalForm.sourceType&&(this.opportunitycontrol=!0)},saleOrderDetail:function(e){console.log("val",e);for(var t=0;t<e.length;t++){e[t].quantity=(e[t].quantity-e[t].alreadyOutQuantity).toFixed(2);var o=e[t].productCode.slice(0,2);console.log("re === ","01"===o);var a=1;if("01"===o){a=e[t].quantity,e[t].quantity=1;for(var n=1;n<a;n++)e.push(e[t])}this.$refs.editable.insert(e[t])}},saleOrder:function(e){var t=this;null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType=String(e.customerType)),this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,this.personalForm.settleMode=e.settleMode,this.personalForm.address=e.transAddress,this.getReceivableMoney()},advanceOrderDetail:function(e){console.log(e);for(var t=0;t<e.length;t++){var o=e[t].productCode.slice(0,2);console.log("re === ","01"===o);var a=1;if("01"===o){a=e[t].quantity,e[t].quantity=1;for(var n=1;n<a;n++)e.push(e[t])}this.$refs.editable.insert(e[t])}},advanceData:function(e){var t=this;this.personalForm.customerType="2",this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_7__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.phone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,null!==e.payMode&&void 0!==e.payMode&&""!==e.payMode&&(this.personalForm.payMode=String(e.payMode)),this.personalForm.saleRepositoryId=e.saleRepositoryId,this.saleRepositoryId=e.saleRepositoryName,this.personalForm.address=e.address,this.getReceivableMoney()},opportunityDetail:function(e){console.log(e);for(var t=this.$refs.editable.getRecords(),o=0;o<e.length;o++){for(var a=0;a<t.length;a++)if(e[o].sourceNumber===t[a].sourceNumber)return this.$notify.error({title:"wrong",message:this.$t("prompt.wpytj"),offset:100}),!1;this.$refs.editable.insert(e[o])}},opportunity:function(e){null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType=String(e.customerType)),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.handlePersonId,this.salePersonId=e.handlePersonName,this.personalForm.handleRepositoryId=e.handleRepositoryId,this.handleRepositoryId=e.handleRepositoryName,this.getReceivableMoney()},handleAddproduct:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;this.control=!0},productdetail:function(e){var t=this;return babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function o(){var a,n;return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(console.log("val",e),a=0;a<e.length;a++)t.$refs.editable.insert(e[a]);return console.log("123",123),o.next=5,babel_runtime_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(e.map(function(e){var t=this;console.log("321",321);var o={};o.productCode=e.productCode,o.repositoryId=this.personalForm.saleRepositoryId,console.log("param",o),Object(_api_Package__WEBPACK_IMPORTED_MODULE_9__.c)(o).then(function(e){200===e.data.ret?console.log("result2",e.data.data.content):t.$notify.error({title:"wrong",message:e.data.msg,offset:100})})}));case 5:n=o.sent,console.log("list",n);case 7:case"end":return o.stop()}},o,t)}))()},handleAddGift:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;this.giftcontrol=!0},gift:function(e){for(var t=this.$refs.editable2.getRecords(),o=0;o<e.length;o++){for(var a=0;a<t.length;a++)if(e[o].productCode===t[a].productCode)return this.$notify.error({title:"wrong",message:this.$t("prompt.wpytj"),offset:100}),!1;e[o].salePrice=0,this.$refs.editable2.insert(e[o])}},deleteChange:function(e){this.choosedata=e},updatecountry:function(){this.getTypes()},getTypes:function(){var e=this;Object(_api_SaleCategory__WEBPACK_IMPORTED_MODULE_13__.c)(this.invoicetypeparms).then(function(t){200===t.data.ret&&(e.invoiceTypes=t.data.data.content.list)}),Object(_api_Supplier__WEBPACK_IMPORTED_MODULE_12__.j)(5).then(function(t){200===t.data.ret&&(e.colseTypes=t.data.data.content.list)}),Object(_api_Supplier__WEBPACK_IMPORTED_MODULE_12__.j)(7).then(function(t){200===t.data.ret&&(e.payModes=t.data.data.content.list)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){var t=e.map(function(e){return e.id});this.personalForm.salePersonId=t.join(",");var o=e.map(function(e){return e.personName});this.salePersonId=o.join(",")},restAllForm:function(){this.personalForm={createPersonId:this.$store.getters.userId,countryId:this.$store.getters.countryId,repositoryId:this.$store.getters.repositoryId,regionId:this.$store.getters.regionId,customerType:"2",sendType:"2",sendDate:null,outDate:null,sourceType:"5",otherMoney:"",receivableMoney:""},this.receivableMoney="",this.customerId=null,this.salePersonId=null,this.saleRepositoryId=null,this.transferPersonId=null,this.outPersonId=null},handleEditok:function(){var e=this;return babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(){var o,a,n,r,i,l,s,c,p,d,u,m,h,y,f,g,v,_,b,w,S,I,$,x,C,k,M,N,P,F,O,E,T,R,j,D,L,z,A,U,q;return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.personalForm.isFree){t.next=83;break}return t.next=3,Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_5__.c)(8).then(function(e){return e.data.data.content});case 3:return o=t.sent,a=o.map(function(e){return e.id}),t.next=7,Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_5__.c)(14).then(function(e){return e.data.data.content});case 7:return n=t.sent,r=n.map(function(e){return e.id}),i=[9,10,218,219,318,319,415,906],t.next=12,Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_5__.c)(1118).then(function(e){return e.data.data.content});case 12:if(l=t.sent,s=l[0].productClassfyVos,c=l[1].productClassfyVos,p=[].concat(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default()(s),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3___default()(c)),p.map(function(e){return e.id}),console.log("controlcategorysdetail",a),d=e.$refs.editable.getRecords(),console.log("outproduct",d),0!==e.returnlist.length){t.next=23;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.zbthmxbnwk"),offset:100}),t.abrupt("return",!1);case 23:for(g in u=e.$refs.editable3.getRecords(),m=[],h=[],y=[],f=[],d)a.includes(d[g].category)?m.push(d[g]):r.includes(d[g].category)?h.push(d[g]):i.includes(d[g].category)?y.push(d[g]):p.includes(d[g].category)&&f.push(d[g]);for(P in v=m.map(function(e){return e.quantity}),_=e.sum(v),console.log("allcontrolproquantity",_),b=h.map(function(e){return e.quantity}),w=e.sum(b),console.log("allchargeproquantity",w),S=y.map(function(e){return e.quantity}),I=e.sum(S),console.log("allmotoproquantity",I),$=f.map(function(e){return e.quantity}),x=e.sum($),console.log("allbatteryproquantity",x),console.log("controlpro",m),console.log("chargepro",h),console.log("motopro",y),console.log("batterypro",f),C=[],k=[],M=[],N=[],u)a.includes(u[P].category)?C.push(u[P]):r.includes(u[P].category)?k.push(u[P]):i.includes(u[P].category)?M.push(u[P]):p.includes(u[P].category)&&N.push(u[P]);if(console.log("returncontrolpro",C),console.log("returnchargepro",k),console.log("returnmotopro",M),console.log("returnbatterypro",N),F=C.map(function(e){return e.quantity}),O=e.sum(F),console.log("allreturncontrolproquantity",O),E=k.map(function(e){return e.quantity}),T=e.sum(E),console.log("allreturnchargeproquantity",T),R=M.map(function(e){return e.quantity}),j=e.sum(R),console.log("allreturnmotoproquantity",j),D=N.map(function(e){return e.quantity}),L=e.sum(D),console.log("allreturnbatteryproquantity",L),x===L){t.next=69;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.dcthslyckslbfh"),offset:100}),t.abrupt("return",!1);case 69:if(_===O){t.next=72;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.kzqthslyckslbf"),offset:100}),t.abrupt("return",!1);case 72:if(T===w){t.next=75;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.cdqthslyckslbf"),offset:100}),t.abrupt("return",!1);case 75:if(j===I){t.next=78;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.djthslyckslbf"),offset:100}),t.abrupt("return",!1);case 78:for(A in z=1,u)""!==u[A].locationId&&null!==u[A].locationId&&void 0!==u[A].locationId||(z=2);if(2!==z){t.next=83;break}return e.$notify.error({title:"wrong",message:e.$t("prompt.pchwbnwk"),offset:100}),t.abrupt("return",!1);case 83:if(0!==e.personalForm.saleOutGiftVos.length){t.next=87;break}[],t.next=94;break;case 87:if(U=e.$refs.editable2.getRecords(),q=1,U.map(function(e){return e}).forEach(function(e){null!==e.batch&&void 0!==e.batch&&""!==e.batch&&null!==e.location&&void 0!==e.location&&""!==e.location||(q=2)}),console.log(q),2!==q){t.next=94;break}return e.$notify.error({title:"wrong",message:e.$t("prompt.pchwbnwk"),offset:100}),t.abrupt("return",!1);case 94:delete e.personalForm.saleOutRetreatVos,delete e.personalForm.saleOutDetailVos,delete e.personalForm.approvalUseVos,delete e.personalForm.saleOutGiftVos,delete e.personalForm.judgeStat,delete e.personalForm.receiptStat,delete e.personalForm.isDeliver,delete e.personalForm.payType,delete e.personalForm.currency,e.$refs.personalForm.validate(function(t){if(!t)return e.$notify.error({title:"wrong",message:"Information is incomplete",offset:100}),!1;if("5"===e.personalForm.sourceType&&"2"===e.personalForm.saleType)return e.$notify.error({title:"wrong",message:e.$t("prompt.ckslcgpcsl"),offset:100}),!1;null!==e.personalForm.couponSupportOld&&""!==e.personalForm.couponSupportOld&&void 0!==e.personalForm.couponSupportOld||(e.personalForm.couponSupportOld=0),e.personalForm.repositoryId=e.$store.getters.repositoryId,e.personalForm.regionId=e.$store.getters.regionId,e.personalForm.createPersonId=e.$store.getters.userId,e.personalForm.countryId=e.$store.getters.countryId,e.personalForm.modifyPersonId=e.$store.getters.userId;var o=e.$refs.editable.getRecords(),a=1,n=1,r=e.personalForm.isFree;if(o.map(function(e){return e}).forEach(function(e){var t=e.productCode.slice(0,2);"01"===t&&(1===r&&(n=2),null!==e.carCode&&void 0!==e.carCode&&""!==e.carCode&&null!==e.motorCode&&void 0!==e.motorCode&&""!==e.motorCode||(a=2)),"05"===t&&(null!==e.batteryCode&&void 0!==e.batteryCode&&""!==e.batteryCode||(a=3))}),3===a)return e.$notify.error({title:"wrong",message:e.$t("prompt.dcckytbm"),offset:100}),!1;if(2===a)return e.$notify.error({title:"wrong",message:e.$t("prompt.zcckytbm"),offset:100}),!1;if(2===n)return e.$notify.error({title:"wrong",message:"整车不能算作质保",offset:100}),!1;var i=0;if(o.map(function(e){return e}).forEach(function(e){o.map(function(e){return e}).forEach(function(t){t.productCode===e.productCode&&t.batch===e.batch&&("01"!==t.productCode.slice(0,2)&&i++)})}),console.log(i),i>o.length)return e.$notify.error({title:"wrong",message:"同样商品不能有同一个批次",offset:100}),!1;var l=1;if(o.map(function(e){return e}).forEach(function(e){null!==e.batch&&void 0!==e.batch&&""!==e.batch&&null!==e.location&&void 0!==e.location&&""!==e.location||(l=2)}),console.log(l),2===l)return e.$notify.error({title:"wrong",message:e.$t("prompt.pchwbnwk"),offset:100}),!1;if(0===o.length)return e.$notify.error({title:"wrong",message:e.$t("prompt.mxbbnwk"),offset:100}),!1;o.map(function(e){return e}).forEach(function(e){return null!==e.productCode&&""!==e.productCode&&void 0!==e.productCode||delete e.productCode,null!==e.productName&&""!==e.productName&&void 0!==e.productName||delete e.productName,null!==e.category&&""!==e.category&&void 0!==e.category||delete e.category,null!==e.type&&""!==e.type&&void 0!==e.type||delete e.type,null!==e.unit&&""!==e.unit&&void 0!==e.unit||delete e.unit,null!==e.color&&""!==e.color&&void 0!==e.color||delete e.color,null!==e.kpiGrade&&""!==e.kpiGrade&&void 0!==e.kpiGrade||delete e.kpiGrade,null!==e.point&&""!==e.point&&void 0!==e.point||delete e.point,null!==e.quantity&&""!==e.quantity&&void 0!==e.quantity||delete e.quantity,null!==e.salePrice&&""!==e.salePrice&&void 0!==e.salePrice||delete e.salePrice,null!==e.costPrice&&""!==e.costPrice&&void 0!==e.costPrice||delete e.costPrice,null!==e.costMoney&&""!==e.costMoney&&void 0!==e.costMoney||delete e.costMoney,null!==e.includeTaxMoney&&""!==e.includeTaxMoney&&void 0!==e.includeTaxMoney||delete e.includeTaxMoney,null!==e.taxRate&&""!==e.taxRate&&void 0!==e.taxRate||delete e.taxRate,null===e.taxRate&&""===e.taxRate&&void 0===e.taxRate||(e.taxRate=e.taxRate/100),null!==e.taxMoney&&""!==e.taxMoney&&void 0!==e.taxMoney||delete e.taxMoney,null!==e.money&&""!==e.money&&void 0!==e.money||delete e.money,null!==e.includeTaxCostMoney&&""!==e.includeTaxCostMoney&&void 0!==e.includeTaxCostMoney||delete e.includeTaxCostMoney,null!==e.discountRate&&""!==e.discountRate&&void 0!==e.discountRate||delete e.discountRate,null===e.discountRate&&""===e.discountRate&&void 0===e.discountRate||(e.discountRate=e.discountRate/100),null!==e.discountMoney&&""!==e.discountMoney&&void 0!==e.discountMoney||delete e.discountMoney,null!==e.carCode&&""!==e.carCode&&void 0!==e.carCode||delete e.carCode,null!==e.motorCode&&""!==e.motorCode&&void 0!==e.motorCode||delete e.motorCode,null!==e.batteryCode&&""!==e.batteryCode&&void 0!==e.batteryCode||delete e.batteryCode,e});for(var s="",c=0;c<e.personalForm2.couponSupports.length;c++)0!==e.personalForm2.couponSupports[c].couponSupport&&""!==e.personalForm2.couponSupports[c].couponSupport&&(s=s+e.personalForm2.couponSupports[c].couponSupport+",");if(console.log("couponNumbers",s),s=s.substring(0,s.length-1),console.log("couponNumbers",s),e.personalForm.couponNumbers=s,""===e.personalForm.receivableMoney||void 0===e.personalForm.receivableMoney||null===e.personalForm.receivableMoney)return e.$notify.error({title:"wrong",message:"本次收款金额不能为空",offset:100}),!1;1===e.personalForm.isFree&&(console.log("進入了2"),e.personalForm.taxMoney=0,e.personalForm.includeTaxMoney=0,e.personalForm.money=0,e.personalForm.receivableMoney=0,e.personalForm.discount_money=0,e.personalForm.actualMoney=0,o.map(function(e){return e}).forEach(function(e){e.money=0,e.taxprice=0,e.includeTaxMoney=0,e.includeTaxCostMoney=0,e.salePrice=0}));var p=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(o),d=e.personalForm;for(var u in d)""!==d[u]&&void 0!==d[u]&&null!==d[u]||delete d[u],"judgeStat"===u&&delete d[u];var m=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(d),h=e.$refs.editable3.getRecords(),y=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(h);console.log("parms4",y),Object(_api_SaleOut__WEBPACK_IMPORTED_MODULE_11__.d)(m,p,"",e.personalForm.receivableMoney2,y).then(function(t){200===t.data.ret?(e.$notify({title:e.$t("prompt.czcg"),message:e.$t("prompt.czcg"),type:"success",duration:1e3,offset:100}),e.$emit("rest",!0),e.$refs.editable.clear(),e.$refs.personalForm.clearValidate(),e.$refs.personalForm.resetFields(),e.$refs.personalForm2.clearValidate(),e.$refs.personalForm2.resetFields(),e.editVisible=!1):e.$notify.error({title:"wrong",message:"wrong",offset:100})})});case 104:case"end":return t.stop()}},t,e)}))()},handlecancel:function(){this.editVisible=!1}}}},noSM:function(e,t,o){"use strict";var a=o("xlV0");o.n(a).a},nwry:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"b",function(){return l}),o.d(t,"e",function(){return s});var a=o("t3Un");function n(e,t,o,n,r,i){var l=new URLSearchParams;return l.append("Json",e),l.append("detailJson",t),o&&l.append("giftJson",o),""!==n.repositoryId&&null!==n.repositoryId&&void 0!==n.repositoryId&&l.append("repositoryId",n.repositoryId),""!==n.regionId&&null!==n.regionId&&void 0!==n.regionId&&l.append("regionId",n.regionId),l.append("receivableMoney2",r),i&&l.append("retreatJson",i),Object(a.a)({url:"/saleOut/create",method:"post",data:l})}function r(e){var t=new URLSearchParams;return""!==e.isReturn&&null!==e.isReturn&&void 0!==e.isReturn&&t.append("isReturn",e.isReturn),""!==e.title&&null!==e.title&&void 0!==e.title&&t.append("title",e.title),""!==e.number&&null!==e.number&&void 0!==e.number&&t.append("number",e.number),""!==e.outPersonId&&null!==e.outPersonId&&void 0!==e.outPersonId&&t.append("outPersonId",e.outPersonId),""!==e.sourceNumber&&null!==e.sourceNumber&&void 0!==e.sourceNumber&&t.append("sourceNumber",e.sourceNumber),""!==e.saleRepositoryId&&null!==e.saleRepositoryId&&void 0!==e.saleRepositoryId&&t.append("saleRepositoryId",e.saleRepositoryId),""!==e.judgeStat&&null!==e.judgeStat&&void 0!==e.judgeStat&&t.append("judgeStat",e.judgeStat),""!==e.receiptStat&&null!==e.receiptStat&&void 0!==e.receiptStat&&t.append("receiptStat",e.receiptStat),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.customerType&&null!==e.customerType&&void 0!==e.customerType&&t.append("customerType",e.customerType),""!==e.customerName&&null!==e.customerName&&void 0!==e.customerName&&t.append("customerName",e.customerName),""!==e.carCode&&null!==e.carCode&&void 0!==e.carCode&&t.append("carCode",e.carCode),""!==e.motorCode&&null!==e.motorCode&&void 0!==e.motorCode&&t.append("motorCode",e.motorCode),""!==e.batteryCode&&null!==e.batteryCode&&void 0!==e.batteryCode&&t.append("batteryCode",e.batteryCode),""!==e.customerId&&null!==e.customerId&&void 0!==e.customerId&&t.append("customerId",e.customerId),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/saleOut/search",method:"post",data:t})}function i(e,t,o,n,r){var i=new URLSearchParams;return i.append("Json",e),i.append("detailJson",t),i.append("giftJson",o),i.append("receivableMoney2",n),r&&i.append("retreatJson",r),Object(a.a)({url:"/saleOut/update",method:"post",data:i})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/saleOut/delete",method:"post",data:o})}function s(e){var t=new URLSearchParams;return t.append("Json",e),Object(a.a)({url:"/saleOut/update",method:"post",data:t})}},oJSu:function(e,t,o){"use strict";var a=o("Oz3K");o.n(a).a},oXqz:function(e,t,o){"use strict";var a=o("VG0r"),n=o("ZySA"),r=o("Mz3J"),i=o("yo+U"),l=o("fNFo"),s={directives:{waves:n.a},components:{MyTree:l.a,MySupplier:i.a,Pagination:r.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1},personalform:{type:Object,default:null}},data:function(){return{getRowKeys:function(e){return e.code},select_orderId:[],select_order_number:[],query:this.personalform,supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.control,visible2:!1,moreaction:"",list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10},queryemplist:{pagenum:1,pagesize:10,repositoryId:0},detailList:{pagenum:1,pagesize:10}}},watch:{control:function(){this.productVisible=this.control,this.getlist()},personalform:function(){this.query=this.personalform}},beforeCreate:function(){this},methods:{getlist:function(){var e=this;this.list=[],this.listLoading=!0,this.getemplist.searchRepositoryId=this.query.saleRepositoryId,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list.filter(function(e){return e.existStock>0}),e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(a.v)(2).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var e=this;this.getemplist.pagenum=1,Object(a.d)(this.getemplist).then(function(t){200===t.data.ret&&(console.log(t.data.data.content.list),e.list=t.data.data.content.list.filter(function(e){return e.existStock>0}),e.total=t.data.data.content.totalCount)})},handleSelectionChange:function(e){var t=this;this.moreaction=e,this.select_order_number=this.moreaction.length,this.select_orderId=[],e&&e.forEach(function(e){e&&t.select_orderId.push(e.code)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierid=e.supplierName,this.getemplist.supplierid=e.id},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryid=e.categoryName,this.getemplist.categoryid=e.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleAddTo:function(){for(var e in this.productVisible=!1,console.log(this.moreaction),this.moreaction)2===this.moreaction[e].isBatch&&(this.moreaction[e].batch="不使用");var t=this.moreaction.map(function(e){return{productCode:e.code,productName:e.productName,category:e.categoryId,categoryName:e.category,type:e.typeId,typeId:e.productType,color:e.color,unit:e.purMeasu,performanceScore:e.kpiGrade,productScore:e.point,quantity:0,salePrice:e.salePrice,costPrice:e.costPrice,costMoney:0,includeTaxMoney:0,taxRate:0,taxMoney:0,money:0,includeTaxCostMoney:"0.00",discount:0,discountMoney:0,taxprice:"0.00",alreadyApplicationQuantity:0,alreadyProduceQuantity:0,allQuantity:0,batch:e.batch,discountRate:0}});this.$emit("product",t)}}},c=(o("2kA1"),o("KHd+")),p=Object(c.a)(s,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.productVisible,control:e.control,"close-on-press-escape":!1,title:e.$t("Hmodule.xzsp"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.productVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.code"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.code,callback:function(t){e.$set(e.getemplist,"code",t)},expression:"getemplist.code"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productname,callback:function(t){e.$set(e.getemplist,"productname",t)},expression:"getemplist.productname"}}),e._v(" "),o("my-supplier",{attrs:{control:e.empcontrol},on:{"update:control":function(t){e.empcontrol=t},supplierName:e.supplierName}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.wpfl"),clearable:""},model:{value:e.getemplist.categoryid,callback:function(t){e.$set(e.getemplist,"categoryid",t)},expression:"getemplist.categoryid"}},[o("el-option",{attrs:{label:e.$t("otherlanguage.zc"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.pj"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.jgj"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.xhp"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.dc"),value:"5"}})],1),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzggxh"),clearable:""},model:{value:e.getemplist.typeid,callback:function(t){e.$set(e.getemplist,"typeid",t)},expression:"getemplist.typeid"}},e._l(e.types,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.qxzsxj"),clearable:""},model:{value:e.getemplist.isactive,callback:function(t){e.$set(e.getemplist,"isactive",t)},expression:"getemplist.isactive"}},[o("el-option",{attrs:{label:e.$t("Hmodule.s1"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("Hmodule.x2"),value:"2"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":e.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.category))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.kpiGrade))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.point))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePrice))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:e.handleAddTo}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"22dd46c0",null);p.options.__file="MyDetail.vue";t.a=p.exports},"oh+g":function(e,t,o){var a=o("WEpk"),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},opnZ:function(e,t,o){"use strict";var a,n=o("J+mc"),r=o("moiu"),i=o("NBqH"),l=o("ZySA"),s=o("Mz3J"),c=o("XR+3"),p=o("TOFQ"),d={directives:{waves:l.a},components:{MyEmp:c.a,Pagination:s.a,MySupplier:p.a},filters:{judgeStatFilter:function(e){return{0:a.$t("updates.wsh"),1:a.$t("updates.shz"),2:a.$t("Hmodule.shtg"),3:a.$t("Hmodule.shbtg")}[e]},receiptStatFilter:function(e){return{1:a.$t("updates.zd"),2:a.$t("updates.zx"),3:a.$t("updates.jd")}[e]},stockTypeFilter:function(e){return{1:"采购1"}[e]},sourceTypeFilter:function(e){return{1:a.$t("updates.cgsq"),2:a.$t("updates.cgxq"),3:a.$t("Hmodule.Nosource")}[e]}},props:{presalecontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.presalecontrol,typeparms:{pagenum:1,pagesize:99999},types:[],depts:[],reviewParms:{id:"",judgePersonId:"",judgeStat:""},detailvisible:!1,visible2:!1,supplierId:"",empcontrol:!1,salePersonId:"",stockControl:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,judgeStat:2,receiptStat:2,isUse:1,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,isActive:1},personalForm:{},editVisible:!1,date:[]}},watch:{presalecontrol:function(){this.employeeVisible=this.presalecontrol,this.getlist()}},beforeCreate:function(){a=this},methods:{updatecountry:function(){this.getlist()},getlist:function(){var e=this;this.listLoading=!0,Object(n.e)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(r.p)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(i.c)(this.typeparms).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.salePersonId="",this.getemplist.salePersonId=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,Object(n.e)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){this.salePersonId=e.personName,this.getemplist.salePersonId=e.id},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierId=e.supplierName,this.getemplist.supplierId=e.id},handleAdd:function(){this.$router.push("/Advancemanage/AddAdvanceOrder")},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,console.log(this.choosedata);var e=this.choosedata.advanceOrderDetailVos,t=this.choosedata.advanceNumber,o=e.map(function(e){return{productCode:e.productCode,productName:e.productName,categoryName:e.productCategoryName,category:e.categoryId,unit:e.unit,typeName:e.productType,type:e.typeId,color:e.color,kpiGrade:e.kpiGrade,point:e.point,allQuantity:e.quantity,salePrice:e.salePrice.toFixed(2),costPrice:e.costPrice.toFixed(2),taxprice:e.salePrice.toFixed(2),costMoney:e.costMoney.toFixed(2),includeTaxMoney:e.includeTaxMoney.toFixed(2),taxRate:e.taxRate,taxMoney:e.taxMoney,money:e.money.toFixed(2),includeTaxCostMoney:e.includeTaxCostMoney.toFixed(2),discount:e.discount,discountMoney:e.discountMoney,carCode:e.carCode,motorCode:e.motorCode,batteryCode:e.batteryCode,sourceNumber:t,sourceSerialNumber:e.id}});this.$emit("advanceOrderDetail",o),this.$emit("advanceData",this.choosedata)}}},u=(o("40pI"),o("KHd+")),m=Object(u.a)(d,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,presalecontrol:e.presalecontrol,"close-on-press-escape":!1,top:"10px",title:"选择预售单","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:presalecontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("Advancemanage.title"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.title,callback:function(t){e.$set(e.getemplist,"title",t)},expression:"getemplist.title"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"预售单编号",clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.number,callback:function(t){e.$set(e.getemplist,"number",t)},expression:"getemplist.number"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("Advancemanage.salePersonId"),clearable:""},on:{clear:e.restFilter,focus:e.handlechooseStock},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.salePersonId,callback:function(t){e.salePersonId=t},expression:"salePersonId"}})],1),e._v(" "),o("my-emp",{attrs:{control:e.stockControl},on:{"update:control":function(t){e.stockControl=t},stockName:e.stockName}})],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{value:e.getemplist.receiptStat,placeholder:e.$t("updates.djzt"),clearable:""},model:{value:e.getemplist.receiptStat,callback:function(t){e.$set(e.getemplist,"receiptStat",t)},expression:"getemplist.receiptStat"}},[o("el-option",{attrs:{label:e.$t("updates.zd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.zx"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.jd"),value:"3"}})],1),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{value:e.getemplist.judgeStat,placeholder:e.$t("updates.spzt"),clearable:""},model:{value:e.getemplist.judgeStat,callback:function(t){e.$set(e.getemplist,"judgeStat",t)},expression:"getemplist.judgeStat"}},[o("el-option",{attrs:{label:e.$t("updates.wsh"),value:"0"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shz"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shtg"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shptg"),value:"3"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.advanceNumber))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.title"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.customerName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.phone"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.advanceMoney"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.advanceMoney))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.payMode"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.payMode))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.salePersonId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePersonName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.createDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createDate))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Advancemanage.saleRepositoryId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.saleRepositoryName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.judgeStat"),resizable:!1,prop:"judgeStat",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("judgeStatFilter")(t.row.judgeStat)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.receiptStat"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("receiptStatFilter")(t.row.receiptStat)))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pageNum,limit:e.getemplist.pageSize},on:{"update:page":function(t){e.$set(e.getemplist,"pageNum",t)},"update:limit":function(t){e.$set(e.getemplist,"pageSize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"b99a6e8e",null);m.options.__file="MyPresale.vue";t.a=m.exports},pPCH:function(module,__webpack_exports__,__webpack_require__){"use strict";var babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("14Xm"),babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("D3Ub"),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("m1cH"),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("gDS+"),babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3__),_api_DiffPrice__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("cnMQ"),_api_BasicSettings__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("moiu"),_api_Customer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("BJvg"),_api_Coupon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("CXWi"),_api_Package__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("C8Bo"),_api_public__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("6HaC"),_api_SaleOut__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("nwry"),_api_Supplier__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("/PQ/"),_api_SaleCategory__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("rwJ9"),_MyEmp2__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("lygb"),_MyDelivery2__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("6Dyo"),_MyApply__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("dZG5"),_MySupplier__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("TOFQ"),_MyRequire__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("z78p"),_MyCustomer__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("IuxZ"),_MyAgent__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("gXWC"),_MyAccept__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("rnM8"),_MyRepository__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("9QBK"),_MyOrder__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("P3QD"),_MyAdvance__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("GlAp"),_MyPresale__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("opnZ"),_MyOpportunity__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("SlrM"),_MyDetail2__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("LJrk"),_MyPackage__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("UPUG"),_MyContract__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("z74p"),_BatteryReturn__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("Opo1"),_BatteryOut__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("WAyj"),_that;__webpack_exports__.a={name:"MyDialog",filters:{isFreeTypeFilter:function(e){return{1:"yes",2:"no"}[e]},useTypeFilter:function(e){return{1:_that.$t("tongyo.jy"),2:_that.$t("tongyo.yy")}[e]}},components:{MyReturn:_BatteryReturn__WEBPACK_IMPORTED_MODULE_29__.a,MyContract:_MyContract__WEBPACK_IMPORTED_MODULE_28__.a,MyPackage:_MyPackage__WEBPACK_IMPORTED_MODULE_27__.a,MyDetail2:_MyDetail2__WEBPACK_IMPORTED_MODULE_26__.a,MyOpportunity:_MyOpportunity__WEBPACK_IMPORTED_MODULE_25__.a,MyPresale:_MyPresale__WEBPACK_IMPORTED_MODULE_24__.a,MyAdvance:_MyAdvance__WEBPACK_IMPORTED_MODULE_23__.a,MyOrder:_MyOrder__WEBPACK_IMPORTED_MODULE_22__.a,MyRepository:_MyRepository__WEBPACK_IMPORTED_MODULE_21__.a,MyAccept:_MyAccept__WEBPACK_IMPORTED_MODULE_20__.a,MyAgent:_MyAgent__WEBPACK_IMPORTED_MODULE_19__.a,MyCustomer:_MyCustomer__WEBPACK_IMPORTED_MODULE_18__.a,MyRequire:_MyRequire__WEBPACK_IMPORTED_MODULE_17__.a,MySupplier:_MySupplier__WEBPACK_IMPORTED_MODULE_16__.a,MyApply:_MyApply__WEBPACK_IMPORTED_MODULE_15__.a,MyDetail:_BatteryOut__WEBPACK_IMPORTED_MODULE_30__.a,MyDelivery:_MyDelivery2__WEBPACK_IMPORTED_MODULE_14__.a,MyEmp:_MyEmp2__WEBPACK_IMPORTED_MODULE_13__.a},props:{editcontrol:{type:Boolean,default:!1},editdata:{type:Object,default:null}},data:function(){var e=this;return{personalForm2:{couponSupports:[{couponSupport:0}]},pickerOptions1:{disabledDate:function(e){return e.getTime()<(new Date).getTime()-864e5}},diffpricelist:[],showreturn:!1,control2:!1,returnlist:[],moreaction:"",packagecontrol:!1,productnumber:"",point:0,isEdit:!1,choosedata:[],editVisible:this.editcontrol,personalForm:this.editdata,heji1:"",heji2:"",heji3:"",heji4:"",heji5:"",heji6:"",heji7:"",heji8:"",heji9:"",heji10:"",heji11:"",locationlist:[],payModes:[],contractcontrol:!1,giftcontrol:!1,opportunitycontrol:!1,presalecontrol:!1,ordercontrol:!1,Isproduct:!1,IsSourceNumber:!1,huishou:"0.00",yushou:"0.00",saleRepositoryId:"",repositorycontrol:!1,outPersonId:"",accetpcontrol:!1,transferPersonId:"",deliverycontrol:!1,roleId:"",customerId:"",customercontrol:!1,agentcontrol:!1,salePersonId:"",stockControl:!1,invoiceTypes:[],invoicetypeparms:{type:4,pagenum:1,pagesize:99999},colseTypes:[],colseTypeparms:{type:3,pagenum:1,pagesize:99999},batchlist:[],control:!1,personalrules:{saleType:[{required:!0,message:"请选择销售类别",trigger:"change"}],customerType:[{required:!0,message:"请选择客户类别",trigger:"change"}],sendDate:[{required:!0,message:"请选择送货日期",trigger:"change"}],salePersonId:[{required:!0,validator:function(t,o,a){console.log(e.supplierId),void 0===e.salePersonId||null===e.salePersonId||""===e.salePersonId?a(new Error("请选择销售人员")):a()},trigger:"change"}],backType:[{required:!0,message:"请选择回款状态",trigger:"change"}],pointSupport:[{validator:function(t,o,a){console.log(1789,e.personalForm.pointSupport),Number(e.personalForm.pointSupport)<0||Number(e.personalForm.pointSupport)>e.point?a(new Error("请输入正确积分")):a()},trigger:"change"}],saleRepositoryId:[{required:!0,validator:function(t,o,a){console.log(e.saleRepositoryId),void 0===e.saleRepositoryId||null===e.saleRepositoryId||""===e.saleRepositoryId?a(new Error("请选择出库仓库")):a()},trigger:"change"}],customerId:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.customerId||null===e.customerId||""===e.customerId?a(new Error("请输入顾客姓名")):a()},trigger:"change"}],transferPersonId:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.transferPersonId||null===e.transferPersonId||""===e.transferPersonId?a(new Error("请选择出库人")):a()},trigger:"change"}],outDate:[{required:!0,validator:function(t,o,a){console.log(89,e.customerId),void 0===e.personalForm.outDate||null===e.personalForm.outDate||""===e.personalForm.outDate?a(new Error("请选择出库时间")):a()},trigger:"change"}]},list2:[],list3:[],validRules:{quantity:[{required:!0,validator:function(e,t,o){""===t||null===t||void 0===t?o(new Error("入库数量不能为空")):t<0?o(new Error("入库数量需大于0")):o()},trigger:"blur"}]},ableSubmission:!0,getemplist:{pagenum:1,pagesize:999999}}},watch:{editcontrol:function(){this.editVisible=this.editcontrol},editdata:function(){if(this.personalForm=this.editdata,0===this.personalForm.saleOutRetreatVos.length?this.showreturn=!1:this.showreturn=!0,"5"===this.personalForm.sourceType||void 0===this.personalForm.sourceType?(this.Isproduct=!1,this.IsSourceNumber=!0,this.personalForm.saleType="1"):"6"===this.personalForm.sourceType?(this.IsSourceNumber=!0,this.Isproduct=!0,this.personalForm.saleType="1"):"2"===this.personalForm.sourceType?(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="2"):(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="1"),this.personalForm.couponMoney=this.personalForm.couponSupport,console.log("this.personalForm.receivableMoney",this.personalForm.receivableMoney),""===this.personalForm.couponNumbers||null===this.personalForm.couponNumbers||void 0===this.personalForm.couponNumbers)this.personalForm2.couponSupports=[{couponSupport:0}];else{this.personalForm2.couponSupports=[{couponSupport:0}];var e=[],t=this.personalForm.couponNumbers.split(",");console.log("b",t);for(var o=0;o<t.length;o++){var a={};a.couponSupport=t[o],e.push(a)}console.log("coupon",e),this.personalForm2.couponSupports=e,console.log("this.personalForm.couponSupports2",this.personalForm2.couponSupports)}for(var n in"5"===this.personalForm.sourceType?(this.Isproduct=!1,this.IsSourceNumber=!0):(this.Isproduct=!0,this.IsSourceNumber=!1),this.planPersonId=this.personalForm.planPersonName,this.stockPersonId=this.personalForm.stockPersonName,this.list2=this.personalForm.saleOutDetailVos,this.list2)this.list2[n].location=this.list2[n].locationName,this.list2[n].locationName=this.list2[n].locationName,this.list2[n].categoryName=this.list2[n].productCategoryName,this.list2[n].typeName=this.list2[n].productTypeName,this.list2[n].taxRate<1&&(this.list2[n].taxRate=100*this.list2[n].taxRate);for(var r in this.list2)this.list2[r].discountRate<=1&&(this.list2[r].discountRate=100*this.list2[r].discountRate);this.list3=this.personalForm.saleOutGiftVos,this.returnlist=this.personalForm.saleOutRetreatVos,this.customerId=this.personalForm.customerName,this.salePersonId=this.personalForm.salePersonName,this.transferPersonId=this.personalForm.transferPersonName,this.saleRepositoryId=this.personalForm.saleRepositoryName,this.outPersonId=this.personalForm.outPersonName,this.customerPhone=this.personalForm.customerPhone,this.updatebatch(),this.getlocations(),this.getdiffprice()},list2:{handler:function(e,t){var o=0,a=0,n=0;for(var r in this.list2)o+=Number(this.list2[r].quantity),n+=Number(this.list2[r].discountMoney),a+=Number(this.list2[r].includeTaxCostMoney);this.heji1=o,this.heji3=a,this.heji4=n,this.getReceivableMoney()},deep:!0},list3:{handler:function(e,t){var o=0,a=0;for(var n in this.list3)o+=this.list3[n].quantity,a+=this.list3[n].salePrice*o;this.heji9=o,this.heji10=a},deep:!0}},created:function(){this.getTypes(),this.getdatatime()},beforeCreate:function(){_that=this},methods:{getdiffprice:function(){var e=this;Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_4__.e)(this.getemplist).then(function(t){200===t.data.ret&&(e.diffpricelist=t.data.data.content.list,console.log("this.diffpricelist",e.diffpricelist))})},getlocations:function(){var e=this;Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.B)(this.personalForm.saleRepositoryId).then(function(t){200===t.data.ret&&(e.locationlist=t.data.data.content.list)})},sum:function sum(arr){return 0===arr.length?0:eval(arr.join("+"))},returnquanty:function(e){},updatebatchreturnpro:function(e,t){var o=this;if(!0===e){if(console.log(this.personalForm.saleRepositoryId),void 0===this.personalForm.saleRepositoryId||""===this.personalForm.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.sqslcg"),offset:100}),!1;Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.w)(this.personalForm.saleRepositoryId,t.row).then(function(e){200===e.data.ret&&(0!==e.data.data.content.length?o.locationlist=e.data.data.content:0===e.data.data.content.length&&Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.B)(o.personalForm.saleRepositoryId).then(function(e){200===e.data.ret&&(o.locationlist=e.data.data.content.list)}))})}},productdetail2:function(e){console.log(e);this.$refs.editable3.getRecords();this.$refs.editable3.clear();for(var t=0;t<e.length;t++)this.$refs.editable3.insert(e[t])},handleAddreturnproduct:function(){console.log("this.personalForm.saleRepositoryId",this.personalForm.saleRepositoryId);var e=this.$refs.editable.getRecords();return null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId?(this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzck"),offset:100}),!1):0===e.length?(this.$notify.error({title:"wrong",message:this.$t("tongyo.qxxzcknr"),offset:100}),!1):void(this.control2=!0)},switchsaletype:function(e){console.log("val",e),"1"===e&&"2"===this.personalForm.sourceType?(this.$notify.error({title:"wrong",message:this.$t("prompt.gdjwfq"),offset:100}),this.personalForm.saleType="2"):(this.$notify.error({title:"wrong",message:"该单据为现金",offset:100}),this.personalForm.saleType="1")},changeCoupon:function(){var e=this;console.log("this.personalForm.couponSupports2",this.personalForm2.couponSupports);var t=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(this.personalForm2.couponSupports);Object(_api_Coupon__WEBPACK_IMPORTED_MODULE_7__.e)(t).then(function(t){console.log(t),200===t.data.ret?(e.personalForm.couponMoney=t.data.data.content,console.log("res.data.data.content",t.data.data.content),e.getReceivableMoney(t.data.data.content)):e.$notify.error({title:"wrong",message:t.data.msg,offset:100})})},addDomain:function(){console.log("this.personalForm2.couponSupports",this.personalForm2.couponSupports),this.personalForm2.couponSupports.push({couponSupport:0}),console.log("this.personalForm.couponSupports",this.personalForm2.couponSupports)},getReceivableMoney:function(){var e=this;if(console.log("666",666),console.log("this.personfomr",this.personalForm),this.personalForm.pointSupport||(this.personalForm.pointSupport=0),this.personalForm.couponSupport||(this.personalForm.couponSupport=0),this.personalForm.ridMoney||(this.personalForm.ridMoney=0),this.personalForm.ridBikeMoney||(this.personalForm.ridBikeMoney=0),this.personalForm.advanceMoney||(this.personalForm.advanceMoney=0),this.personalForm.otherMoney||(this.personalForm.otherMoney=0),console.log("this.personalForm.sourceTypethis.personalForm.sourceType",this.personalForm.sourceType),null!==this.personalForm.couponSupportOld&&""!==this.personalForm.couponSupportOld&&void 0!==this.personalForm.couponSupportOld||(this.personalForm.couponSupportOld=0),"1"!==this.personalForm.sourceType&&"3"!==this.personalForm.sourceType&&"4"!==this.personalForm.sourceType&&"5"!==this.personalForm.sourceType&&"6"!==this.personalForm.sourceType||null!==this.personalForm.useMonth)if(null!==this.personalForm.useMonth){var t=this.$refs.editable.getRecords();console.log("allbattery",t),console.log("this.diffpricelist",this.diffpricelist);var o=this.diffpricelist.filter(function(t){return t.useType===Number(e.personalForm.useType)});console.log("filtertypes",o);var a=o.filter(function(t){return t.useMonth===Number(e.personalForm.useMonth)});console.log("filtermonth",a);var n=a.filter(function(e){return e.categoryId===t[0].category});if(console.log("filterfinally",n),0!==n.length){var r=Number(n[0].diffMoney)*Number(t[0].quantity)-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),i=Number(n[0].diffMoney)*Number(t[0].quantity)-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);r<0&&(r=0),this.$set(this.personalForm,"receivableMoney",r),this.$set(this.personalForm,"receivableMoney2",i)}else this.$set(this.personalForm,"receivableMoney",0),this.$set(this.personalForm,"receivableMoney2",0)}else if(this.$store.getters.newsaleoutdata.firstMoney){console.log("123",123);var l=this.$store.getters.newsaleoutdata.firstMoney-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),s=this.$store.getters.newsaleoutdata.firstMoney-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);l<0&&(l=0),this.$set(this.personalForm,"receivableMoney",l),this.$set(this.personalForm,"receivableMoney2",s)}else if(""!==this.receivableMoney||null!==this.receivableMoney||void 0!==this.receivableMoney){console.log("是否是销售合同带入过来"),console.log("234",234);var c=this.receivableMoney-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),p=this.receivableMoney-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);c<0&&(c=0),this.$set(this.personalForm,"receivableMoney",c),this.$set(this.personalForm,"receivableMoney2",p)}else{console.log("456",456);var d=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),u=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);d<0&&(d=0),this.$set(this.personalForm,"receivableMoney",d),this.$set(this.personalForm,"receivableMoney2",u)}else{console.log("this.heji3",this.heji3),console.log("this.heji4",this.heji4),console.log("this.personalForm.couponMoney",this.personalForm.couponMoney);var m=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)-Number(this.personalForm.couponMoney)+Number(this.personalForm.otherMoney),h=this.heji3-this.heji4-Number(this.personalForm.pointSupport)-Number(this.personalForm.ridMoney)-Number(this.personalForm.ridBikeMoney)-Number(this.personalForm.advanceMoney)-Number(this.personalForm.couponSupportOld)+Number(this.personalForm.otherMoney);m<0&&(m=0),this.$set(this.personalForm,"receivableMoney",m),this.$set(this.personalForm,"receivableMoney2",h)}},changemoney:function(e){console.log(e)},salePrice:function(e){console.log("val1222222",e),this.moreaction[0].salePrice=e},handleSelectionChange:function(e){console.log(e),this.moreaction=e},packagedata:function(e){console.log("val1222222",e);for(var t=0;t<e.length;t++)e[t].quantity=1,this.$refs.editable2.insert(e[t])},handleAddpackage:function(){this.moreaction.length>1||0===this.moreaction.length?this.$notify.error({title:"请选择主商品",message:"请选择主商品",offset:100}):(this.productnumber=this.moreaction[0].productCode,this.packagecontrol=!0)},getInfo:function(e){var t=this;if(console.log(e),null!==e.carCode&&""!==e.carCode&&void 0!==e.carCode){var o={};o.carCode=e.carCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},getInfo2:function(e){var t=this;if(console.log(e),null!==e.batteryCode&&""!==e.batteryCode&&void 0!==e.batteryCode){var o=[];o.batteryCode=e.batteryCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},getInfo3:function(e){var t=this;if(console.log(e),null!==e.motorCode&&""!==e.motorCode&&void 0!==e.motorCode){var o=[];o.motorCode=e.motorCode,Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.Q)(o).then(function(o){200===o.data.ret?(console.log("res.data.data.content",o.data.data.content),null!==o.data.data.content&&(e.carCode=o.data.data.content.carCode,e.batteryCode=o.data.data.content.batteryCode,e.motorCode=o.data.data.content.motorCode,e.snCode=o.data.data.content.snCode)):t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},isEdit5:function(e){console.log("222",e);var t=e.productCode.slice(0,2);return"01"!==t&&("01"!==t&&"5"===this.personalForm.sourceType)},isEdit4:function(e){return"05"===e.productCode.slice(0,2)},isEdit3:function(e){return"01"!==e.productCode.slice(0,2)},isEdit2:function(e){return"01"===e.productCode.slice(0,2)},test:function(){0===[].concat(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(this.list2)).length&&(this.ableSubmission=!0,console.log(this.ableSubmission))},updatebatch2:function(e,t){var o=this;if(!0===e){var a=t.row.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.b)(this.personalForm.saleRepositoryId,a).then(function(e){console.log(e),o.batchlist=e.data.data.content})}},queryStock:function(e){var t=this;if(console.log("row+++=======",e),this.getReceivableMoney(),null===e.locationName||""===e.locationName||void 0===e.locationName)return this.$notify.error({title:"wrong",message:"仓库不存在此商品!",offset:100}),e.quantity=1,!1;var o=0;if(this.$refs.editable.getRecords().map(function(e){return e}).forEach(function(t){t.productCode===e.productCode&&o++}),1===o)Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.i)(this.personalForm.saleRepositoryId,0,e.productCode).then(function(o){if(200===o.data.ret){if(console.log("res.data.data.content",o.data.data.content),0===o.data.data.content.list.length)return t.$notify.error({title:"wrong",message:"仓库内无该物品",offset:100}),e.quantity=1,!1;if(e.quantity>o.data.data.content.list[0].ableStock)return t.$notify.error({title:"wrong",message:t.$t("prompt.qsrzqdsjh"),offset:100}),e.quantity=1,!1}else t.$notify.error({title:"wrong",message:o.data.msg,offset:100})});else{var a={};a.productCode=e.productCode,a.batch=e.batch,a.repositoryId=e.repositoryId,Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.m)(a).then(function(o){if(200===o.data.ret){if(console.log("res.data.data.content",o.data.data.content),e.quantity>o.data.data.content[0].quantity)return t.$notify.error({title:"wrong",message:t.$t("prompt.ckslcgpcsl"),offset:100}),e.quantity=1,!1}else t.$notify.error({title:"wrong",message:o.data.msg,offset:100})})}},change:function(){this.$forceUpdate()},updatebatch:function(e,t){var o=this;if(!0===e){if(void 0===this.personalForm.saleRepositoryId||""===this.personalForm.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.sqslcg"),offset:100}),!1;Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.w)(this.personalForm.saleRepositoryId,t.row).then(function(e){200===e.data.ret&&(0!==e.data.data.content.length?o.locationlist=e.data.data.content:0===e.data.data.content.length&&Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.B)(o.personalForm.saleRepositoryId).then(function(e){200===e.data.ret&&(o.locationlist=e.data.data.content.list)}))})}},getLocationData:function(e){if(null===e.batch||""===e.batch||void 0===e.batch){var t=e.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.b)(this.personalForm.saleRepositoryId,t).then(function(t){t.data.data.content.length>0&&(e.batch=t.data.data.content[0])})}else{var o=e.productCode;Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.b)(this.personalForm.saleRepositoryId,o).then(function(t){0===t.data.data.content.length&&"不使用"!==e.batch&&(e.batch=null)})}return Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.w)(this.personalForm.saleRepositoryId,e).then(function(t){200===t.data.ret&&(0!==t.data.data.content.length?(e.location=t.data.data.content[0].locationCode,e.locationName=t.data.data.content[0].locationCode,e.locationId=t.data.data.content[0].id):(e.location=null,e.locationName=null,e.locationId=null))}),e.locationName},salecontractDetail:function(e){console.log(e),this.$refs.editable.clear();for(var t=0;t<e.length;t++)e[t].typeId=e[t].typeName,console.log("val[i]",e[t]),this.$refs.editable.insert(e[t])},salecontract:function(e){var t=this;console.log("val.firstMoney",e.firstMoney),this.receivableMoney=e.firstMoney,null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType="2"),2===e.sourceType&&null!==e.sourceNumber&&(this.personalForm.applyNumber=e.sourceNumber),this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_6__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,this.personalForm.handleRepositoryId=e.saleRepositoryId,this.handleRepositoryId=e.saleRepositoryName,null!==e.saleType&&void 0!==e.saleType&&""!==e.saleType&&(this.personalForm.saleType=String(e.saleType)),this.personalForm.settleMode=e.closeType,this.personalForm.invoiceType=e.invoiceType,null!==e.payType&&void 0!==e.payType&&""!==e.payType&&(this.personalForm.payType=String(e.payType)),this.getReceivableMoney()},getlocation:function(){var e=this;Object(_api_public__WEBPACK_IMPORTED_MODULE_9__.B)(this.personalForm.enterRepositoryId).then(function(t){200===t.data.ret&&(e.locationlist=t.data.data.content.list.map(function(e){return{value:e.id,label:e.locationName}}))})},chooseSourceType:function(e){this.$refs.editable.clear(),this.receivableMoney="",this.personalForm.ridMoney="",this.personalForm.ridBikeMoney="",console.log(e),console.log("this.list2",this.list2),"5"===e||void 0===e?(this.Isproduct=!1,this.IsSourceNumber=!0,this.personalForm.saleType="1"):"6"===e?(this.IsSourceNumber=!0,this.Isproduct=!0,this.personalForm.saleType="1"):"2"===e?(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="2"):(this.Isproduct=!0,this.IsSourceNumber=!1,this.personalForm.saleType="1")},handlechooseRep:function(){this.repositorycontrol=!0},repositoryname:function(e){this.$refs.editable.getRecords().map(function(e){return e}).forEach(function(e){e.quantity=1}),this.$refs.editable2.getRecords().map(function(e){return e}).forEach(function(e){e.quantity=1}),this.saleRepositoryId=e.repositoryName,this.personalForm.saleRepositoryId=e.id},handlechooseAccept:function(){this.accetpcontrol=!0},acceptName:function(e){this.outPersonId=e.personName,this.personalForm.outPersonId=e.id},handlechooseDelivery:function(){this.deliverycontrol=!0},deliveryName:function(e){var t=e.map(function(e){return e.id});this.personalForm.transferPersonId=t.join(",");var o=e.map(function(e){return e.personName});this.transferPersonId=o.join(",")},getdatatime:function(){var e=new Date,t=e.getFullYear(),o=e.getMonth()+1,a=e.getDate();o>=1&&o<=9&&(o="0"+o),a>=0&&a<=9&&(a="0"+a);var n=t+"-"+o+"-"+a;this.personalForm.sendDate=n,this.personalForm.outDate=n},getSummaries2:function(e){var t=e.columns,o=e.data,a=[];return t.forEach(function(e,t){if(0!==t){var n=o.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?a[t]="":(a[t]=n.reduce(function(e,t){var o=Number(t);return isNaN(o)?Number(e).toFixed(2):(Number(e)+Number(t)).toFixed(2)},0),a[t]+="")}else a[t]="总计"}),a[1]="",a[2]="",a[3]="",a[4]="",a[5]="",a[6]="",a[7]="",a[8]="",a[9]="",a[10]="",this.heji9=a[12],this.heji10=a[11],this.personalForm.otherMoney=a[12],a},getSummaries:function(e){var t=e.columns,o=e.data,a=[];return t.forEach(function(e,t){if(0!==t){var n=o.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?a[t]="":(a[t]=n.reduce(function(e,t){var o=Number(t);return isNaN(o)?Number(e).toFixed(2):(Number(e)+Number(t)).toFixed(2)},0),a[t]+="")}else a[t]="总计"}),a[1]="",a[2]="",a[3]="",a[4]="",a[5]="",a[6]="",a[7]="",a[8]="",a[9]="",a[10]="",a[11]="",a[13]="",a[15]="",a[17]="",a[21]="",a[22]="",a[23]="",a[24]="",a[25]="",this.heji1=a[12],this.heji3=a[16],this.heji4=a[18],a},getcostMoney:function(e){return e.costMoney=(e.costPrice*e.quantity).toFixed(2),e.costMoney},getincludeTaxMoney:function(e){return e.includeTaxMoney=Number(e.salePrice*e.quantity)+Number(e.taxMoney),e.includeTaxMoney},gettaxRate:function(e){0!==e.taxprice&&(e.taxprice=(e.salePrice*(1+e.taxRate/100)).toFixed(2)),e.discountRate},getTaxMoney2:function(e){return e.taxMoney=(e.salePrice*e.taxRate/100*e.quantity).toFixed(2),e.taxMoney},getdiscountRate:function(e){},getdiscountMoney:function(e,t,o){var a=this;if("01"===e.productCode.slice(0,2)){var n={typeId:e.type,roleId:this.$store.getters.roleId,category:1,pageNum:1,pageSize:1};Object(_api_BasicSettings__WEBPACK_IMPORTED_MODULE_5__.w)(n).then(function(o){if(200===o.data.ret)if(0===o.data.data.content.list.length)e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100});else{var n=t/e.quantity;console.log("isoverdiscount",n),o.data.data.content.list[0].discountMoney<n&&(e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100}))}0!==e.taxprice&&0!==e.quantity&&0!==e.discountMoney&&(e.discountRate=(e.discountMoney/e.includeTaxCostMoney*100).toFixed(2))})}else{var r={roleId:this.$store.getters.roleId,category:2,pageNum:1,pageSize:1};Object(_api_BasicSettings__WEBPACK_IMPORTED_MODULE_5__.w)(r).then(function(o){if(200===o.data.ret)if(0===o.data.data.content.list.length)e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100});else{console.log("res222",o);var n=o.data.data.content.list[0].discountRate*e.includeTaxCostMoney;console.log("isoverdiscount",n),n<t&&(e.discountMoney=0,e.discountRate=0,a.$notify.error({title:"wrong",message:a.$t("tongyo.cgzdzke"),offset:100}))}0!==e.taxprice&&0!==e.quantity&&0!==e.discountMoney&&(e.discountRate=(e.discountMoney/e.includeTaxCostMoney*100).toFixed(2))})}},getMoney:function(e){return e.money=(e.quantity*e.salePrice).toFixed(2),e.money},gettaxprice:function(e){return e.taxprice=(e.salePrice*(1+e.taxRate/100)).toFixed(2),e.taxprice},getincludeTaxCostMoney:function(e){return e.includeTaxCostMoney=Number(e.salePrice*e.quantity)+Number(e.taxMoney),e.includeTaxCostMoney},clearCustomer:function(){this.personalForm.customerId="",this.customerId="",this.personalForm.advanceMoney=0},chooseCustomer:function(){this.$forceUpdate(),"1"===this.personalForm.customerType?(this.agentcontrol=!0,this.$forceUpdate()):"2"===this.personalForm.customerType&&(this.customercontrol=!0,this.$forceUpdate())},customerdata:function(e){var t=this;console.log(111,e.phoneNumber),console.log(111,this.personalForm.customerPhone),this.personalForm.transAddress=e.address,this.personalForm.customerId=e.id,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_6__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.phoneNumber=e.phoneNumber,this.personalForm.address=e.address,this.point=e.point},agentdata:function(e){var t=this;console.log(222,e),this.personalForm.transAddress=e.address,this.personalForm.customerId=e.id,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_6__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.agentName,this.personalForm.phoneNumber=e.phone,this.personalForm.address=e.address,this.point=e.point},handleAddSource:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;"1"===this.personalForm.sourceType?this.ordercontrol=!0:"2"===this.personalForm.sourceType?this.contractcontrol=!0:"3"===this.personalForm.sourceType?this.presalecontrol=!0:"4"===this.personalForm.sourceType&&(this.opportunitycontrol=!0)},saleOrderDetail:function(e){console.log("val",e);for(var t=0;t<e.length;t++){e[t].quantity=(e[t].quantity-e[t].alreadyOutQuantity).toFixed(2);var o=e[t].productCode.slice(0,2);console.log("re === ","01"===o);var a=1;if("01"===o){a=e[t].quantity,e[t].quantity=1;for(var n=1;n<a;n++)e.push(e[t])}this.$refs.editable.insert(e[t])}},saleOrder:function(e){var t=this;null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType=String(e.customerType)),this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_6__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,this.personalForm.settleMode=e.settleMode,this.personalForm.address=e.transAddress,this.getReceivableMoney()},advanceOrderDetail:function(e){console.log(e);for(var t=0;t<e.length;t++){var o=e[t].productCode.slice(0,2);console.log("re === ","01"===o);var a=1;if("01"===o){a=e[t].quantity,e[t].quantity=1;for(var n=1;n<a;n++)e.push(e[t])}this.$refs.editable.insert(e[t])}},advanceData:function(e){var t=this;this.personalForm.customerType="2",this.personalForm.customerId=e.customerId,Object(_api_Customer__WEBPACK_IMPORTED_MODULE_6__.g)(this.personalForm.customerId).then(function(e){console.log("res======",e),200===e.data.ret&&(t.personalForm.advanceMoney=e.data.data.content.advanceMoney)}),this.customerId=e.customerName,this.personalForm.customerPhone=e.phone,this.personalForm.salePersonId=e.salePersonId,this.salePersonId=e.salePersonName,null!==e.payMode&&void 0!==e.payMode&&""!==e.payMode&&(this.personalForm.payMode=String(e.payMode)),this.personalForm.saleRepositoryId=e.saleRepositoryId,this.saleRepositoryId=e.saleRepositoryName,this.personalForm.address=e.address,this.getReceivableMoney()},opportunityDetail:function(e){console.log(e);for(var t=this.$refs.editable.getRecords(),o=0;o<e.length;o++){for(var a=0;a<t.length;a++)if(e[o].sourceNumber===t[a].sourceNumber)return this.$notify.error({title:"wrong",message:this.$t("prompt.wpytj"),offset:100}),!1;this.$refs.editable.insert(e[o])}},opportunity:function(e){null!==e.customerType&&void 0!==e.customerType&&""!==e.customerType&&(this.personalForm.customerType=String(e.customerType)),this.customerId=e.customerName,this.personalForm.customerPhone=e.customerPhone,this.personalForm.salePersonId=e.handlePersonId,this.salePersonId=e.handlePersonName,this.personalForm.handleRepositoryId=e.handleRepositoryId,this.handleRepositoryId=e.handleRepositoryName,this.getReceivableMoney()},handleAddproduct:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;this.control=!0},productdetail:function(e){this.$refs.editable.clear();for(var t=0;t<e.length;t++)e[t].quantity=1,this.$refs.editable.insert(e[t])},handleAddGift:function(){if(null===this.saleRepositoryId||""===this.saleRepositoryId||void 0===this.saleRepositoryId)return this.$notify.error({title:"wrong",message:this.$t("prompt.qxxzckck"),offset:100}),!1;this.giftcontrol=!0},gift:function(e){for(var t=this.$refs.editable2.getRecords(),o=0;o<e.length;o++){for(var a=0;a<t.length;a++)if(e[o].productCode===t[a].productCode)return this.$notify.error({title:"wrong",message:this.$t("prompt.wpytj"),offset:100}),!1;e[o].salePrice=0,this.$refs.editable2.insert(e[o])}},deleteChange:function(e){this.choosedata=e},updatecountry:function(){this.getTypes()},getTypes:function(){var e=this;Object(_api_SaleCategory__WEBPACK_IMPORTED_MODULE_12__.c)(this.invoicetypeparms).then(function(t){200===t.data.ret&&(e.invoiceTypes=t.data.data.content.list)}),Object(_api_Supplier__WEBPACK_IMPORTED_MODULE_11__.j)(5).then(function(t){200===t.data.ret&&(e.colseTypes=t.data.data.content.list)}),Object(_api_Supplier__WEBPACK_IMPORTED_MODULE_11__.j)(7).then(function(t){200===t.data.ret&&(e.payModes=t.data.data.content.list)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){var t=e.map(function(e){return e.id});this.personalForm.salePersonId=t.join(",");var o=e.map(function(e){return e.personName});this.salePersonId=o.join(",")},restAllForm:function(){this.personalForm={createPersonId:this.$store.getters.userId,countryId:this.$store.getters.countryId,repositoryId:this.$store.getters.repositoryId,regionId:this.$store.getters.regionId,customerType:"2",sendType:"2",sendDate:null,outDate:null,sourceType:"5",otherMoney:"",receivableMoney:""},this.receivableMoney="",this.customerId=null,this.salePersonId=null,this.saleRepositoryId=null,this.transferPersonId=null,this.outPersonId=null},handleEditok:function(){var e=this;return babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function t(){var o,a,n,r,i,l,s,c,p,d,u,m,h,y,f,g,v,_,b,w,S,I,$,x,C,k,M,N,P,F,O,E,T,R,j,D,L,z,A;return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.personalForm.isFree){t.next=83;break}return t.next=3,Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_4__.c)(8).then(function(e){return e.data.data.content});case 3:return o=t.sent,a=o.map(function(e){return e.id}),t.next=7,Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_4__.c)(14).then(function(e){return e.data.data.content});case 7:return n=t.sent,r=n.map(function(e){return e.id}),i=[9,10,218,219,318,319,415,906],t.next=12,Object(_api_DiffPrice__WEBPACK_IMPORTED_MODULE_4__.c)(1118).then(function(e){return e.data.data.content});case 12:if(l=t.sent,s=l[0].productClassfyVos,c=l[1].productClassfyVos,p=[].concat(babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(s),babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(c)),p.map(function(e){return e.id}),console.log("controlcategorysdetail",a),d=e.$refs.editable.getRecords(),console.log("outproduct",d),0!==e.returnlist.length){t.next=23;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.zbthmxbnwk"),offset:100}),t.abrupt("return",!1);case 23:for(g in u=e.$refs.editable3.getRecords(),m=[],h=[],y=[],f=[],d)a.includes(d[g].category)?m.push(d[g]):r.includes(d[g].category)?h.push(d[g]):i.includes(d[g].category)?y.push(d[g]):p.includes(d[g].category)&&f.push(d[g]);for(P in v=m.map(function(e){return e.quantity}),_=e.sum(v),console.log("allcontrolproquantity",_),b=h.map(function(e){return e.quantity}),w=e.sum(b),console.log("allchargeproquantity",w),S=y.map(function(e){return e.quantity}),I=e.sum(S),console.log("allmotoproquantity",I),$=f.map(function(e){return e.quantity}),x=e.sum($),console.log("allbatteryproquantity",x),console.log("controlpro",m),console.log("chargepro",h),console.log("motopro",y),console.log("batterypro",f),C=[],k=[],M=[],N=[],u)a.includes(u[P].category)?C.push(u[P]):r.includes(u[P].category)?k.push(u[P]):i.includes(u[P].category)?M.push(u[P]):p.includes(u[P].category)&&N.push(u[P]);if(console.log("returncontrolpro",C),console.log("returnchargepro",k),console.log("returnmotopro",M),console.log("returnbatterypro",N),F=C.map(function(e){return e.quantity}),O=e.sum(F),console.log("allreturncontrolproquantity",O),E=k.map(function(e){return e.quantity}),T=e.sum(E),console.log("allreturnchargeproquantity",T),R=M.map(function(e){return e.quantity}),j=e.sum(R),console.log("allreturnmotoproquantity",j),D=N.map(function(e){return e.quantity}),L=e.sum(D),console.log("allreturnbatteryproquantity",L),x===L){t.next=69;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.dcthslyckslbfh"),offset:100}),t.abrupt("return",!1);case 69:if(_===O){t.next=72;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.kzqthslyckslbf"),offset:100}),t.abrupt("return",!1);case 72:if(T===w){t.next=75;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.cdqthslyckslbf"),offset:100}),t.abrupt("return",!1);case 75:if(j===I){t.next=78;break}return e.$notify.error({title:"wrong",message:e.$t("tongyo.djthslyckslbf"),offset:100}),t.abrupt("return",!1);case 78:for(A in z=1,u)""!==u[A].locationId&&null!==u[A].locationId&&void 0!==u[A].locationId||(z=2);if(2!==z){t.next=83;break}return e.$notify.error({title:"wrong",message:e.$t("prompt.pchwbnwk"),offset:100}),t.abrupt("return",!1);case 83:delete e.personalForm.saleOutRetreatVos,delete e.personalForm.saleOutDetailVos,delete e.personalForm.approvalUseVos,delete e.personalForm.saleOutGiftVos,delete e.personalForm.judgeStat,delete e.personalForm.receiptStat,delete e.personalForm.isDeliver,delete e.personalForm.payType,delete e.personalForm.currency,e.$refs.personalForm.validate(function(t){if(!t)return e.$notify.error({title:"wrong",message:"Information is incomplete",offset:100}),!1;if("5"===e.personalForm.sourceType&&"2"===e.personalForm.saleType)return e.$notify.error({title:"wrong",message:e.$t("prompt.ckslcgpcsl"),offset:100}),!1;null!==e.personalForm.couponSupportOld&&""!==e.personalForm.couponSupportOld&&void 0!==e.personalForm.couponSupportOld||(e.personalForm.couponSupportOld=0),e.personalForm.repositoryId=e.$store.getters.repositoryId,e.personalForm.regionId=e.$store.getters.regionId,e.personalForm.createPersonId=e.$store.getters.userId,e.personalForm.countryId=e.$store.getters.countryId,e.personalForm.modifyPersonId=e.$store.getters.userId;var o=e.$refs.editable.getRecords(),a=1,n=1,r=e.personalForm.isFree;if(o.map(function(e){return e}).forEach(function(e){var t=e.productCode.slice(0,2);"01"===t&&(1===r&&(n=2),null!==e.carCode&&void 0!==e.carCode&&""!==e.carCode&&null!==e.motorCode&&void 0!==e.motorCode&&""!==e.motorCode||(a=2)),"05"===t&&(null!==e.batteryCode&&void 0!==e.batteryCode&&""!==e.batteryCode||(a=3))}),3===a)return e.$notify.error({title:"wrong",message:e.$t("prompt.dcckytbm"),offset:100}),!1;if(2===a)return e.$notify.error({title:"wrong",message:e.$t("prompt.zcckytbm"),offset:100}),!1;if(2===n)return e.$notify.error({title:"wrong",message:"整车不能算作质保",offset:100}),!1;var i=0;if(o.map(function(e){return e}).forEach(function(e){o.map(function(e){return e}).forEach(function(t){t.productCode===e.productCode&&t.batch===e.batch&&("01"!==t.productCode.slice(0,2)&&i++)})}),console.log(i),i>o.length)return e.$notify.error({title:"wrong",message:"同样商品不能有同一个批次",offset:100}),!1;var l=1;if(o.map(function(e){return e}).forEach(function(e){null!==e.batch&&void 0!==e.batch&&""!==e.batch&&null!==e.location&&void 0!==e.location&&""!==e.location||(l=2)}),console.log(l),2===l)return e.$notify.error({title:"wrong",message:e.$t("prompt.pchwbnwk"),offset:100}),!1;if(0===o.length)return e.$notify.error({title:"wrong",message:e.$t("prompt.mxbbnwk"),offset:100}),!1;o.map(function(e){return e}).forEach(function(e){return null!==e.productCode&&""!==e.productCode&&void 0!==e.productCode||delete e.productCode,null!==e.productName&&""!==e.productName&&void 0!==e.productName||delete e.productName,null!==e.category&&""!==e.category&&void 0!==e.category||delete e.category,null!==e.type&&""!==e.type&&void 0!==e.type||delete e.type,null!==e.unit&&""!==e.unit&&void 0!==e.unit||delete e.unit,null!==e.color&&""!==e.color&&void 0!==e.color||delete e.color,null!==e.kpiGrade&&""!==e.kpiGrade&&void 0!==e.kpiGrade||delete e.kpiGrade,null!==e.point&&""!==e.point&&void 0!==e.point||delete e.point,null!==e.quantity&&""!==e.quantity&&void 0!==e.quantity||delete e.quantity,null!==e.salePrice&&""!==e.salePrice&&void 0!==e.salePrice||delete e.salePrice,null!==e.costPrice&&""!==e.costPrice&&void 0!==e.costPrice||delete e.costPrice,null!==e.costMoney&&""!==e.costMoney&&void 0!==e.costMoney||delete e.costMoney,null!==e.includeTaxMoney&&""!==e.includeTaxMoney&&void 0!==e.includeTaxMoney||delete e.includeTaxMoney,null!==e.taxRate&&""!==e.taxRate&&void 0!==e.taxRate||delete e.taxRate,null===e.taxRate&&""===e.taxRate&&void 0===e.taxRate||(e.taxRate=e.taxRate/100),null!==e.taxMoney&&""!==e.taxMoney&&void 0!==e.taxMoney||delete e.taxMoney,null!==e.money&&""!==e.money&&void 0!==e.money||delete e.money,null!==e.includeTaxCostMoney&&""!==e.includeTaxCostMoney&&void 0!==e.includeTaxCostMoney||delete e.includeTaxCostMoney,null!==e.discountRate&&""!==e.discountRate&&void 0!==e.discountRate||delete e.discountRate,null===e.discountRate&&""===e.discountRate&&void 0===e.discountRate||(e.discountRate=e.discountRate/100),null!==e.discountMoney&&""!==e.discountMoney&&void 0!==e.discountMoney||delete e.discountMoney,null!==e.carCode&&""!==e.carCode&&void 0!==e.carCode||delete e.carCode,null!==e.motorCode&&""!==e.motorCode&&void 0!==e.motorCode||delete e.motorCode,null!==e.batteryCode&&""!==e.batteryCode&&void 0!==e.batteryCode||delete e.batteryCode,e});for(var s="",c=0;c<e.personalForm2.couponSupports.length;c++)0!==e.personalForm2.couponSupports[c].couponSupport&&""!==e.personalForm2.couponSupports[c].couponSupport&&(s=s+e.personalForm2.couponSupports[c].couponSupport+",");if(console.log("couponNumbers",s),s=s.substring(0,s.length-1),console.log("couponNumbers",s),e.personalForm.couponNumbers=s,""===e.personalForm.receivableMoney||void 0===e.personalForm.receivableMoney||null===e.personalForm.receivableMoney)return e.$notify.error({title:"wrong",message:"本次收款金额不能为空",offset:100}),!1;1===e.personalForm.isFree&&(console.log("進入了2"),e.personalForm.taxMoney=0,e.personalForm.includeTaxMoney=0,e.personalForm.money=0,e.personalForm.receivableMoney=0,e.personalForm.discount_money=0,e.personalForm.actualMoney=0,o.map(function(e){return e}).forEach(function(e){e.money=0,e.taxprice=0,e.includeTaxMoney=0,e.includeTaxCostMoney=0,e.salePrice=0}));var p=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(o),d=e.personalForm;for(var u in d)""!==d[u]&&void 0!==d[u]&&null!==d[u]||delete d[u],"judgeStat"===u&&delete d[u];var m=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(d),h=e.$refs.editable3.getRecords(),y=babel_runtime_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(h);console.log("parms4",y),Object(_api_SaleOut__WEBPACK_IMPORTED_MODULE_10__.d)(m,p,"",e.personalForm.receivableMoney2,y).then(function(t){200===t.data.ret?(e.$notify({title:e.$t("prompt.czcg"),message:e.$t("prompt.czcg"),type:"success",duration:1e3,offset:100}),e.$emit("rest",!0),e.$refs.editable.clear(),e.$refs.personalForm.clearValidate(),e.$refs.personalForm.resetFields(),e.$refs.personalForm2.clearValidate(),e.$refs.personalForm2.resetFields(),e.editVisible=!1):e.$notify.error({title:"wrong",message:"wrong",offset:100})})});case 93:case"end":return t.stop()}},t,e)}))()},handlecancel:function(){this.editVisible=!1}}}},plw4:function(e,t,o){},pzO1:function(e,t,o){"use strict";var a=o("T1lM");o.n(a).a},r1wK:function(e,t,o){},rnM8:function(e,t,o){"use strict";var a=o("6HaC"),n=o("0zGY"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{accetpcontrol:{type:Boolean,default:!1}},data:function(){return{jobCat:{type:2,pagenum:1,pagesize:9999},jobs:[],managerPeople:"",regionManagerId:"",choosedata:"",currentRow:null,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},depts:[],props2:{value:"id",label:"regionName",children:"regionListVos"},regions2:[],getemplistregions:[],repositories:[],employeeVisible:this.accetpcontrol,regionManagerVisible:!1}},watch:{accetpcontrol:function(){this.employeeVisible=this.accetpcontrol,this.gitemplist()}},beforeCreate:function(){this},methods:{gitemplist:function(){var e=this;this.listLoading=!0,console.log(this.getemplist),Object(n.p)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.n)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions2=e.tranKTree(t.data.data.content))}),Object(n.r)(this.jobCat).then(function(t){200===t.data.ret&&(e.jobs=t.data.data.content.list)})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleFilter:function(){var e=this;this.getemplist.regionid=this.getemplistregions[this.getemplistregions.length-1],Object(n.p)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleAdd:function(){this.employeeVisible=!1,this.$router.push("/EmployeeInformation/NewEmployeeInformation")},handlechange4:function(e){var t=this;console.log(e);var o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret?(console.log(e),t.repositories=e.data.data.content.list):t.$message.error("出错了")})},restemplist:function(){this.getemplist={repositoryid:"",regionid:"",postid:"",deptid:"",employeename:"",pagenum:1,pagesize:10,stat:1,loginRepositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,time:"",jobnumber:""},this.getemplistregions=[]},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,this.$emit("acceptName",this.choosedata)}}},s=(o("uLi3"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,accetpcontrol:e.accetpcontrol,"close-on-press-escape":!1,title:e.$t("Hmodule.xzyg"),top:"10px","append-to-body":""},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:accetpcontrol",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.employeename"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.employeename,callback:function(t){e.$set(e.getemplist,"employeename",t)},expression:"getemplist.employeename"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("NewEmployeeInformation.jobnumber2"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.jobnumber,callback:function(t){e.$set(e.getemplist,"jobnumber",t)},expression:"getemplist.jobnumber"}}),e._v(" "),o("el-date-picker",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.xzrq"),type:"date","value-format":"yyyy-MM-dd"},model:{value:e.getemplist.time,callback:function(t){e.$set(e.getemplist,"time",t)},expression:"getemplist.time"}}),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"}},[o("el-cascader",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{options:e.regions2,props:e.props2,"show-all-levels":!1,placeholder:e.$t("Hmodule.xzqy"),"change-on-select":"",filterable:"",clearable:""},on:{change:e.handlechange4},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("Hmodule.xzmd"),clearable:"",filterable:""},model:{value:e.getemplist.repositoryid,callback:function(t){e.$set(e.getemplist,"repositoryid",t)},expression:"getemplist.repositoryid"}},e._l(e.repositories,function(e,t){return o("el-option",{key:t,attrs:{label:e.repositoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"left","margin-top":"10px","margin-left":"20px"},attrs:{value:e.getemplist.postid,placeholder:e.$t("NewEmployeeInformation.postid2"),clearable:""},model:{value:e.getemplist.postid,callback:function(t){e.$set(e.getemplist,"postid",t)},expression:"getemplist.postid"}},e._l(e.jobs,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-select",{staticClass:"filter-item",staticStyle:{width:"40%",float:"right","margin-top":"10px","margin-right":"20px"},attrs:{placeholder:e.$t("NewEmployeeInformation.deptid2"),clearable:""},model:{value:e.getemplist.deptid,callback:function(t){e.$set(e.getemplist,"deptid",t)},expression:"getemplist.deptid"}},e._l(e.depts,function(e,t){return o("el-option",{key:t,attrs:{label:e.deptName,value:e.id}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.id"),resizable:!1,property:"id",align:"center",width:"50"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.jobNumber"),resizable:!1,property:"jobNumber",align:"center",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.account"),resizable:!1,property:"account",width:"150",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.name"),resizable:!1,align:"center",width:"109"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.firstName)+" "+e._s(t.row.middleName)+" "+e._s(t.row.lastName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.gender"),resizable:!1,prop:"gender",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("genderFilter")(t.row.gender)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.deptName"),resizable:!1,prop:"deptName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.deptName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.regionName"),resizable:!1,prop:"regionName",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("NewEmployeeInformation.repositoryName"),resizable:!1,prop:"repositoryName",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.repositoryName))])]}}])})],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-top":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))]),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.gitemplist}})],1)},[],!1,null,"4b15012e",null);c.options.__file="MyAccept.vue";t.a=c.exports},rwJ9:function(e,t,o){"use strict";o.d(t,"c",function(){return n}),o.d(t,"d",function(){return r}),o.d(t,"a",function(){return i}),o.d(t,"e",function(){return l}),o.d(t,"b",function(){return s});var a=o("t3Un");function n(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&void 0!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),t.append("iseffective",1),Object(a.a)({url:"/salecategory/searchSaleCategory",method:"post",data:t})}function r(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&void 0!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.iseffective&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&void 0!==e.type&&t.append("type",e.type),t.append("pagenum",e.pagenum),t.append("pagesize",e.pagesize),Object(a.a)({url:"/salecategory/searchSaleCategory",method:"post",data:t})}function i(e){var t=new URLSearchParams;return""!==e.categoryname&&null!==e.categoryname&&void 0!==e.categoryname&&t.append("categoryname",e.categoryname),""!==e.category&&null!==e.category&&void 0!==e.categoryname&&t.append("category",e.category),""!==e.iseffective&&null!==e.iseffective&&void 0!==e.categoryname&&t.append("iseffective",e.iseffective),""!==e.type&&null!==e.type&&void 0!==e.categoryname&&t.append("type",e.type),Object(a.a)({url:"/salecategory/addSaleCategory",method:"post",data:t})}function l(e){var t=new URLSearchParams;return""!==e.categoryName&&null!==e.categoryName&&t.append("categoryname",e.categoryName),""!==e.isEffective&&null!==e.isEffective&&t.append("iseffective",e.isEffective),""!==e.id&&null!==e.id&&t.append("id",e.id),Object(a.a)({url:"/salecategory/updateSaleCategory",method:"post",data:t})}function s(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&o.append("ids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/salecategory/delateSaleCategory",method:"post",data:o})}},sRQa:function(e,t,o){"use strict";var a=o("IJ2a");o.n(a).a},tE7Q:function(e,t,o){},tbXD:function(e,t,o){},u938:function(e,t,o){var a=function(){return this}()||Function("return this")(),n=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,r=n&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=o("ls82"),n)a.regeneratorRuntime=r;else try{delete a.regeneratorRuntime}catch(e){a.regeneratorRuntime=void 0}},uLi3:function(e,t,o){"use strict";var a=o("bKHc");o.n(a).a},v8mZ:function(e,t,o){"use strict";var a=o("QTBe");o.n(a).a},xlV0:function(e,t,o){},y1Z2:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"b",function(){return l}),o.d(t,"e",function(){return s});var a=o("t3Un");function n(e,t,o){var n=new URLSearchParams;return n.append("Json",e),n.append("detailJson",t),""!==o.repositoryId&&null!==o.repositoryId&&void 0!==o.repositoryId&&n.append("repositoryId",o.repositoryId),""!==o.regionId&&null!==o.regionId&&void 0!==o.regionId&&n.append("regionId",o.regionId),Object(a.a)({url:"/saleOrder/create",method:"post",data:n})}function r(e){var t=new URLSearchParams;return""!==e.title&&null!==e.title&&void 0!==e.title&&t.append("title",e.title),""!==e.number&&null!==e.number&&void 0!==e.number&&t.append("number",e.number),""!==e.customerName&&null!==e.customerName&&void 0!==e.customerName&&t.append("customerName",e.customerName),""!==e.sendType&&null!==e.sendType&&void 0!==e.sendType&&t.append("sendType",e.sendType),""!==e.judgeStat&&null!==e.judgeStat&&void 0!==e.judgeStat&&t.append("judgeStat",e.judgeStat),""!==e.receiptStat&&null!==e.receiptStat&&void 0!==e.receiptStat&&t.append("receiptStat",e.receiptStat),""!==e.beginTime&&null!==e.beginTime&&void 0!==e.beginTime&&t.append("beginTime",e.beginTime),""!==e.endTime&&null!==e.endTime&&void 0!==e.endTime&&t.append("endTime",e.endTime),""!==e.repositoryId&&null!==e.repositoryId&&void 0!==e.repositoryId&&t.append("repositoryId",e.repositoryId),""!==e.createPersonId&&null!==e.createPersonId&&void 0!==e.createPersonId&&t.append("createPersonId",e.createPersonId),""!==e.regionIds&&null!==e.regionIds&&void 0!==e.regionIds&&t.append("regionIds",e.regionIds),""!==e.isActive&&null!==e.isActive&&void 0!==e.isActive&&t.append("isActive",e.isActive),""!==e.customerType&&null!==e.customerType&&void 0!==e.customerType&&t.append("customerType",e.customerType),""!==e.customerId&&null!==e.customerId&&void 0!==e.customerId&&t.append("customerId",e.customerId),t.append("pageNum",e.pageNum),t.append("pageSize",e.pageSize),Object(a.a)({url:"/saleOrder/search",method:"post",data:t})}function i(e,t,o){var n=new URLSearchParams;return n.append("Json",e),n.append("detailJson",t),n.append("costDetailJson",o),Object(a.a)({url:"/saleOrder/update",method:"post",data:n})}function l(e,t){var o=new URLSearchParams;return""!==e&&null!==e&&void 0!==e&&o.append("modelids",e),""!==t&&null!==t&&void 0!==t&&o.append("operatorId",t),Object(a.a)({url:"/saleOrder/delete",method:"post",data:o})}function s(e){var t=new URLSearchParams;return t.append("Json",e),Object(a.a)({url:"/saleOrder/update",method:"post",data:t})}},yKEA:function(e,t,o){"use strict";var a=o("1sCw");o.n(a).a},"yo+U":function(e,t,o){"use strict";var a=o("6HaC"),n=o("/PQ/"),r=o("ZySA"),i=o("Mz3J"),l={directives:{waves:r.a},components:{Pagination:i.a},filters:{genderFilter:function(e){return{1:"男",2:"女"}[e]}},props:{control:{type:Boolean,default:!1}},data:function(){return{visible2:!1,choosedata:"",moreaction:"",levelIds:[],typeIds:[],downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{id:"",supplierName:"",typeId:"",regionId:"",levelId:"",pagenum:1,pagesize:10},depts:[],props:{value:"id",label:"regionName",children:"regionListVos"},regions:[],getemplistregions:[],repositories:[],employeeVisible:this.control,regionManagerVisible:!1}},watch:{control:function(){this.employeeVisible=this.control,this.getlist()}},beforeCreate:function(){this},methods:{getlist:function(){var e=this;this.listLoading=!0,Object(n.i)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.j)(1).then(function(t){200===t.data.ret&&(e.typeIds=t.data.data.content.list)}),Object(n.j)(4).then(function(t){200===t.data.ret&&(e.levelIds=t.data.data.content.list)}),Object(a.E)().then(function(t){200===t.data.ret&&(e.regions=e.tranKTree(t.data.data.content))})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handleFilter:function(){var e=this;this.getemplist.pagenum=1,this.getemplist.regionId=this.getemplistregions[this.getemplistregions.length-1],Object(n.i)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleAdd:function(){this.$router.push("/Supplier/NewSupplier")},handlechange4:function(e){var t=this;console.log(e);var o=e[e.length-1];Object(a.J)(o).then(function(e){200===e.data.ret&&(console.log(e),t.repositories=e.data.data.content.list)})},handleConfirm:function(){this.employeeVisible=!1,this.$emit("supplierName",this.choosedata)},handleCurrentChange:function(e){this.choosedata=e}}},s=(o("VDla"),o("KHd+")),c=Object(s.a)(l,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,control:e.control,"close-on-press-escape":!1,top:"10px",title:"选择供应商","append-to-body":""},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:control",!1)}}},[o("div",{staticClass:"filter-container"},[o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Supplier.id"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.id,callback:function(t){e.$set(e.getemplist,"id",t)},expression:"getemplist.id"}}),e._v(" "),o("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("Supplier.supplierName"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.supplierName,callback:function(t){e.$set(e.getemplist,"supplierName",t)},expression:"getemplist.supplierName"}}),e._v(" "),o("el-select",{staticClass:"filter-item",attrs:{value:e.getemplist.typeId,placeholder:"请选择供应商",clearable:""},model:{value:e.getemplist.typeId,callback:function(t){e.$set(e.getemplist,"typeId",t)},expression:"getemplist.typeId"}},e._l(e.typeIds,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-cascader",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{options:e.regions,props:e.props,"show-all-levels":!1,placeholder:"所在区域","change-on-select":"",filterable:"",clearable:""},on:{change:e.handlechange4},model:{value:e.getemplistregions,callback:function(t){e.getemplistregions=t},expression:"getemplistregions"}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:"请选择优质级别",clearable:""},model:{value:e.getemplist.levelId,callback:function(t){e.$set(e.getemplist,"levelId",t)},expression:"getemplist.levelId"}},e._l(e.levelIds,function(e,t){return o("el-option",{key:t,attrs:{label:e.categoryName,value:e.id}})})),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px",float:"right"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("Supplier.id"),resizable:!1,prop:"id",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.supplierName"),resizable:!1,prop:"supplierName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.supplierName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.supplierShortName"),resizable:!1,prop:"supplierShortName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.supplierShortName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.typeId"),resizable:!1,align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.typeName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.regionId"),resizable:!1,prop:"regionName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.regionName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.buyerId"),resizable:!1,prop:"buyerName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.buyerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.levelId"),resizable:!1,prop:"levelName",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.levelName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.createId"),resizable:!1,prop:"createId",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("Supplier.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)},[],!1,null,"0b78a8e3",null);c.options.__file="MySupplier.vue";t.a=c.exports},z3EA:function(e,t,o){},z74p:function(e,t,o){"use strict";var a,n=o("5Iji"),r=o("moiu"),i=o("NBqH"),l=o("ZySA"),s=o("Mz3J"),c=o("XR+3"),p=o("IuxZ"),d=o("gXWC"),u={directives:{waves:l.a},components:{MyEmp:c.a,MyCustomer:p.a,MyAgent:d.a,Pagination:s.a},filters:{judgeStatFilter:function(e){return{0:a.$t("updates.wsh"),1:a.$t("updates.shz"),2:a.$t("Hmodule.shtg"),3:a.$t("Hmodule.shbtg")}[e]},receiptStatFilter:function(e){return{1:a.$t("updates.zd"),2:a.$t("updates.zx"),3:a.$t("updates.jd")}[e]},stockTypeFilter:function(e){return{1:"采购1"}[e]},sendTypeFilter:function(e){return{1:"已发货",2:"未发货"}[e]}},props:{contractcontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.contractcontrol,customerName:"",customercontrol:!1,agentcontrol:!1,typeparms:{pagenum:1,pagesize:99999},types:[],depts:[],reviewParms:{id:"",judgePersonId:"",judgeStat:""},detailvisible:!1,visible2:!1,supplierId:"",empcontrol:!1,stockPersonId:"",stockControl:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,judgeStat:"2",receiptStat:"2",repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,isActive:1},personalForm:{},editVisible:!1,date:[]}},watch:{contractcontrol:function(){this.employeeVisible=this.contractcontrol,this.getlist()}},beforeCreate:function(){a=this},methods:{clearCustomer:function(){this.getemplist.customerId="",this.customerName=""},chooseCustomer:function(){"1"===this.getemplist.customerType?this.agentcontrol=!0:"2"===this.getemplist.customerType&&(this.customercontrol=!0)},customerdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.customerName},agentdata:function(e){this.getemplist.customerId=e.id,this.customerName=e.agentName},updatecountry:function(){this.getlist()},getlist:function(){var e=this;this.listLoading=!0,Object(n.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(r.p)().then(function(t){200===t.data.ret&&(e.depts=t.data.data.content)}),Object(i.c)(this.typeparms).then(function(t){200===t.data.ret&&(e.types=t.data.data.content.list)})},restFilter:function(){this.customerName="",this.getemplist.customerId=""},restFilter2:function(){this.stockPersonId="",this.getemplist.stockPersonId=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,Object(n.c)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handlechooseStock:function(){this.stockControl=!0},stockName:function(e){this.stockPersonId=e.personName,this.getemplist.stockPersonId=e.id},handlechoose:function(){this.empcontrol=!0},supplierName:function(e){console.log(e),this.supplierId=e.supplierName,this.getemplist.supplierId=e.id},handleAdd:function(){this.$router.push("/SaleContract/AddSaleContract")},handleCurrentChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,console.log("销售合同",this.choosedata);var e=this.choosedata.saleContractDetailVos,t=this.choosedata.number,o=e.map(function(e){return{productCode:e.productCode,productName:e.productName,categoryName:e.productCategoryName,category:e.productCategory,unit:e.unit,typeName:e.productTypeName,type:e.productType,color:e.color,kpiGrade:"0.00",point:"0.00",quantity:e.quantity,salePrice:e.salePrice,costPrice:e.costPrice,taxprice:e.salePrice,includeTaxMoney:e.includeTaxMoney.toFixed(2),taxRate:e.taxRate,taxMoney:e.taxMoney,money:e.money.toFixed(2),discount:e.discount,discountMoney:e.discountMoney,carCode:e.carCode,motorCode:e.motorCode,batteryCode:e.batteryCode,sourceNumber:t,sourceSerialNumber:e.id}});this.$emit("salecontractDetail",o),this.$emit("salecontract",this.choosedata)}}},m=(o("CKpx"),o("KHd+")),h=Object(m.a)(u,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,contractcontrol:e.contractcontrol,"close-on-press-escape":!1,top:"10px",title:"选择销售合同","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:contractcontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("SaleContract.title"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.title,callback:function(t){e.$set(e.getemplist,"title",t)},expression:"getemplist.title"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"合同单号",clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.number,callback:function(t){e.$set(e.getemplist,"number",t)},expression:"getemplist.number"}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-select",{attrs:{value:e.getemplist.saleType,placeholder:e.$t("SaleContract.saleType"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.saleType,callback:function(t){e.$set(e.getemplist,"saleType",t)},expression:"getemplist.saleType"}},[o("el-option",{attrs:{value:"1",label:"零售"}}),e._v(" "),o("el-option",{attrs:{value:"2",label:"批发"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:e.$t("SaleContract.customerType"),clearable:""},model:{value:e.getemplist.customerType,callback:function(t){e.$set(e.getemplist,"customerType",t)},expression:"getemplist.customerType"}},[o("el-option",{attrs:{value:"1",label:"经销商"}}),e._v(" "),o("el-option",{attrs:{value:"2",label:"零售"}})],1),e._v(" "),o("el-input",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:e.$t("SaleContract.customerName"),clearable:""},on:{clear:e.restFilter,focus:e.chooseCustomer},model:{value:e.customerName,callback:function(t){e.customerName=t},expression:"customerName"}}),e._v(" "),o("my-customer",{attrs:{customercontrol:e.customercontrol},on:{"update:customercontrol":function(t){e.customercontrol=t},customerdata:e.customerdata}}),e._v(" "),o("my-agent",{attrs:{agentcontrol:e.agentcontrol},on:{"update:agentcontrol":function(t){e.agentcontrol=t},agentdata:e.agentdata}}),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px","margin-top":"20px"},attrs:{value:e.getemplist.receiptStat,placeholder:e.$t("updates.djzt"),clearable:""},model:{value:e.getemplist.receiptStat,callback:function(t){e.$set(e.getemplist,"receiptStat",t)},expression:"getemplist.receiptStat"}},[o("el-option",{attrs:{label:e.$t("updates.zd"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.zx"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.jd"),value:"3"}})],1),e._v(" "),o("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px","margin-top":"20px"},attrs:{value:e.getemplist.judgeStat,placeholder:e.$t("updates.spzt"),clearable:""},model:{value:e.getemplist.judgeStat,callback:function(t){e.$set(e.getemplist,"judgeStat",t)},expression:"getemplist.judgeStat"}},[o("el-option",{attrs:{label:e.$t("updates.wsh"),value:"0"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shz"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shtg"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.shptg"),value:"3"}})],1),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-col",{attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.number))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleContract.title"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleContract.sourceNumber"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.sourceNumber))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleContract.salePersonId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.salePersonName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleContract.customerName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleContract.customerPhone"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.customerPhone))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("SaleContract.allMoney"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.allMoney))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.judgeStat"),resizable:!1,prop:"judgeStat",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("judgeStatFilter")(t.row.judgeStat)))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.receiptStat"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("receiptStatFilter")(t.row.receiptStat)))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pageNum,limit:e.getemplist.pageSize},on:{"update:page":function(t){e.$set(e.getemplist,"pageNum",t)},"update:limit":function(t){e.$set(e.getemplist,"pageSize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"d16e685a",null);h.options.__file="MyContract.vue";t.a=h.exports},z78p:function(e,t,o){"use strict";var a,n=o("0mmw"),r=o("ZySA"),i=o("Mz3J"),l=o("fNFo"),s=o("2zg2"),c={directives:{waves:r.a},components:{MyDetail:s.a,MyTree:l.a,Pagination:i.a},filters:{isPlanedFilter:function(e){return{1:a.$t("updates.yes"),2:a.$t("updates.no")}[e]}},props:{requirecontrol:{type:Boolean,default:!1}},data:function(){return{employeeVisible:this.requirecontrol,choosedata:"",control:!1,categoryId:"",treecontrol:!1,detailvisible:!1,visible2:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds,isactive:1},personalForm:{},editVisible:!1,date:[]}},watch:{requirecontrol:function(){this.employeeVisible=this.requirecontrol,this.getlist()}},beforeCreate:function(){a=this},methods:{handleAddproduct:function(){this.control=!0},productdata:function(e){this.getemplist.productName=e.productName},treechoose:function(){this.treecontrol=!0},tree:function(e){this.categoryId=e.categoryName,this.getemplist.categoryId=e.id},getlist:function(){var e=this;this.listLoading=!0,Object(n.a)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)})},restFilter:function(){this.categoryId="",this.getemplist.categoryId=""},restFilter2:function(){this.workCenterId="",this.getemplist.workCenterId=""},restFilter3:function(){this.producePlanNumber="",this.getemplist.producePlanNumber=""},handleFilter:function(){var e=this;this.getemplist.pageNum=1,null===this.date||""===this.date?(this.getemplist.beginTime=null,this.getemplist.endTime=null):(this.getemplist.beginTime=this.date[0],this.getemplist.endTime=this.date[1]),Object(n.a)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleSelectionChange:function(e){this.choosedata=e},handleConfirm:function(){this.employeeVisible=!1,console.log(this.choosedata);var e=this.choosedata.map(function(e){return{productCode:e.productCode,productName:e.productName,productType:e.productType,typeId:e.typeId,unit:e.unit,color:e.color,basicQuantity:e.requireQuantity,planDeliveryDate:e.requireDate,applyReason:"",sourceNumber:e.materialsRequireNumber,supplierId:"",supplierName:"",basicPrice:""}});this.$emit("require",e),this.$emit("require2",e)}}},p=(o("Efbm"),o("KHd+")),d=Object(p.a)(c,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.employeeVisible,requirecontrol:e.requirecontrol,"close-on-press-escape":!1,top:"10px",title:"选择采购需求单","append-to-body":"",width:"1100px"},on:{"update:visible":function(t){e.employeeVisible=t},close:function(t){e.$emit("update:requirecontrol",!1)}}},[o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px",height:"60px","padding-left":"0"},attrs:{shadow:"never"}},[o("el-row",[o("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:e.getemplist}},[o("el-col",{attrs:{span:4}},[o("el-form-item",[o("el-select",{staticClass:"filter-item",attrs:{placeholder:e.$t("Hmodule.wpfl"),clearable:""},model:{value:e.getemplist.categoryId,callback:function(t){e.$set(e.getemplist,"categoryId",t)},expression:"getemplist.categoryId"}},[o("el-option",{attrs:{label:e.$t("otherlanguage.zc"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.pj"),value:"2"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.jgj"),value:"3"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.xhp"),value:"4"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("otherlanguage.dc"),value:"5"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:3}},[o("el-form-item",[o("el-input",{staticClass:"filter-item",attrs:{placeholder:"物料名称",clearable:""},on:{focus:e.handleAddproduct},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.productName,callback:function(t){e.$set(e.getemplist,"productName",t)},expression:"getemplist.productName"}}),e._v(" "),o("my-detail",{attrs:{control:e.control},on:{"update:control":function(t){e.control=t},productdata:e.productdata}})],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-form-item",[o("el-select",{staticClass:"filter-item",attrs:{value:e.getemplist.isPlan,placeholder:"是否已生成采购计划",clearable:""},model:{value:e.getemplist.isPlan,callback:function(t){e.$set(e.getemplist,"isPlan",t)},expression:"getemplist.isPlan"}},[o("el-option",{attrs:{label:e.$t("updates.yes"),value:"1"}}),e._v(" "),o("el-option",{attrs:{label:e.$t("updates.no"),value:"2"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:3}},[o("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:e.visible2,callback:function(t){e.visible2=t},expression:"visible2"}},[o("el-date-picker",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{type:"daterange","range-separator":"-","unlink-panels":"","start-placeholder":"需求日期开始","end-placeholder":"需求日期结束","value-format":"yyyy-MM-dd"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),e._v(" "),o("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.visible2=!e.visible2}},slot:"reference"},[e._v(e._s(e.$t("public.filter"))),o("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1)],1),e._v(" "),o("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))])],1)],1)],1)],1),e._v(" "),o("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("public.id"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.materialsRequireNumber))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.productName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.productCode"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productCode))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.categoryId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productCategory))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.productType"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.productType))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.color"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.color))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.unit"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.unit))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.requireQuantity"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.requireQuantity))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.inventoryQuantity"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.inventoryQuantity))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.shouldStockQuantity"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.shouldStockQuantity))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.stockAdvanceday"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.stockAdvanceday))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.requireDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.requireDate))])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:e.$t("StockRequire.isPlan"),resizable:!1,align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("isPlanedFilter")(t.row.isPlaned)))])]}}])})],1),e._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pageNum,limit:e.getemplist.pageSize},on:{"update:page":function(t){e.$set(e.getemplist,"pageNum",t)},"update:limit":function(t){e.$set(e.getemplist,"pageSize",t)},pagination:e.getlist}}),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"100px",float:"left","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"625c978d",null);d.options.__file="MyRequire.vue";t.a=d.exports},zLaQ:function(e,t,o){}}]);