(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0686"],{"4Dpq":function(t,e,i){},CP9K:function(t,e,i){"use strict";i.r(e);var n=i("P2sY"),a=i.n(n),r=i("GAWx"),s=i("ZySA"),l=i("Mz3J"),o=i("7x33"),c=i("Uj27"),u=i("obv8"),d={components:{MyDriver:o.a,MyOut:c.a,MyCreate:u.a},props:{control:{type:Boolean,default:!1},editdata:{type:Object,default:null}},data:function(){return{editVisible:this.control,personalForm:this.editdata,outperson:!1,returnpersonid:"",personalrules:{outNumber:[{required:!0,message:"请输入派车单编号",trigger:"blur"}],returnTime:[{required:!0,message:"请选择回车时间",trigger:"change"}],returnAddress:[{required:!0,message:"请输入回车地址",trigger:"blur"}],returnpersonid:[{required:!0,message:"请选择回车人",trigger:"blue"}]}}},watch:{control:function(){this.editVisible=this.control},editdata:function(){this.personalForm=this.editdata,this.returnpersonid=this.personalForm.returnPersonName}},methods:{handleEditok:function(){var t=this;console.log(this.personalForm),Object(r.k)(this.personalForm).then(function(e){200===e.data.ret?(t.$notify({title:"操作成功",message:"操作成功",type:"success",duration:1e3,offset:100}),t.$emit("rest",!0),t.$refs.personalForm.clearValidate(),t.$refs.personalForm.resetFields(),t.editVisible=!1):t.$notify.error({title:"错误",message:"出错了",offset:100})})},handlecancel:function(){this.$refs.personalForm.clearValidate(),this.$refs.personalForm.resetFields(),this.editVisible=!1},handleoutperson:function(){this.outperson=!0},outpersonname:function(t){console.log(t),this.returnpersonid=t.personName,this.personalForm.returnPersonId=t.id}}},p=(i("JsIE"),i("KHd+")),m=Object(p.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.editVisible,control:t.control,editdata:t.editdata,"close-on-press-escape":!1,top:"10px",title:"修改物流车辆"},on:{"update:visible":function(e){t.editVisible=e},close:function(e){t.$emit("update:control",!1)}}},[i("h2",{ref:"geren",staticClass:"form-name"},[t._v("基本信息")]),t._v(" "),i("div",{staticClass:"container"},[i("el-form",{ref:"personalForm",staticClass:"demo-ruleForm",staticStyle:{"margin-left":"30px"},attrs:{model:t.personalForm,rules:t.personalrules,inline:!0,"status-icon":"","label-position":"top","label-width":"300px"}},[i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:t.$t("LogisticsCar.outnumber"),prop:"outNumber"}},[i("el-input",{attrs:{placeholder:"请输入派车单编号",disabled:""},model:{value:t.personalForm.outNumber,callback:function(e){t.$set(t.personalForm,"outNumber",e)},expression:"personalForm.outNumber"}})],1),t._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:t.$t("LogisticsCar.returntime"),prop:"returnTime"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择回车时间","value-format":"yyyy-MM-dd HH:mm:ss",clearable:""},model:{value:t.personalForm.returnTime,callback:function(e){t.$set(t.personalForm,"returnTime",e)},expression:"personalForm.returnTime"}})],1),t._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:t.$t("LogisticsCar.returnpersonid"),prop:"returnpersonid"}},[i("el-input",{attrs:{placeholder:"请选择回车人"},on:{focus:t.handleoutperson},model:{value:t.returnpersonid,callback:function(e){t.returnpersonid=e},expression:"returnpersonid"}})],1),t._v(" "),i("my-out",{attrs:{outperson:t.outperson},on:{"update:outperson":function(e){t.outperson=e},outpersonname:t.outpersonname}}),t._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:t.$t("LogisticsCar.returnaddress"),prop:"returnAddress"}},[i("el-input",{attrs:{placeholder:"请输入回车地址",clearable:""},model:{value:t.personalForm.returnAddress,callback:function(e){t.$set(t.personalForm,"returnAddress",e)},expression:"personalForm.returnAddress"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"buttons",staticStyle:{"margin-top":"20px","margin-left":"30px"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleEditok()}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.handlecancel()}}},[t._v("取消")])],1)])},[],!1,null,"5a988510",null);m.options.__file="MyEditcar.vue";var f=m.exports,h={name:"ReturncarList",directives:{waves:s.a},components:{Pagination:l.a,MyEditcar:f},filters:{carTypeFilter:function(t){return{1:"大货车",2:"小货车",3:"小轿车"}[t]},statFilter:function(t){return{1:"正常",2:"停用"}[t]}},data:function(){return{moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pagenum:1,pagesize:10},personalForm:{},editVisible:!1}},mounted:function(){this.getlist()},methods:{getlist:function(){var t=this;this.listLoading=!0,Object(r.h)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount),setTimeout(function(){t.listLoading=!1},50)})},handleFilter:function(){var t=this;this.getemplist.pagenum=1,Object(r.h)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount)})},handleEdit:function(t){console.log(t),this.editVisible=!0,this.personalForm=a()({},t)},refreshlist:function(t){!0===t&&this.getlist()},handleSelectionChange:function(t){this.moreaction=t},handleCommand:function(t){var e=this,i=this.moreaction.map(function(t){return t.id}).join();"delete"===t&&this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r.g)(i).then(function(t){200===t.data.ret?(e.$notify({title:"删除成功",type:"success",offset:100}),e.getlist()):e.$notify.error({title:"错误",message:"出错了",offset:100})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r.g)(t.id).then(function(t){200===t.data.ret?(e.$notify({title:"删除成功",type:"success",offset:100}),e.getlist()):e.$notify.error({title:"错误",message:"出错了",offset:100})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleAdd:function(){this.$router.push("/LogisticsCar/Addreturncar")},handleExport:function(){var t=this;this.downloadLoading=!0,Promise.all([i.e("chunk-ef4a"),i.e("chunk-73bb")]).then(i.bind(null,"S/jZ")).then(function(e){var i=t.formatJson(["id","LogisticsCarName","LogisticsCarShortName","typeName","regionName","buyerName","levelName","createName","createTime"],t.list);e.export_json_to_excel({header:["供应商编号","供应商名称","供应商简称","供应商类别","所在区域","采购员","供应商优质级别","建档人","建档日期"],data:i,filename:"经销商资料表"}),t.downloadLoading=!1})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handlePrint:function(){console.log(456)}}},g=(i("qDSh"),Object(p.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ERP-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("LogisticsCar.licencenumber"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.licencenumber,callback:function(e){t.$set(t.getemplist,"licencenumber",e)},expression:"getemplist.licencenumber"}}),t._v(" "),i("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("LogisticsCar.carnumber"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.carnumber,callback:function(e){t.$set(t.getemplist,"carnumber",e)},expression:"getemplist.carnumber"}}),t._v(" "),i("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("LogisticsCar.outpersonid"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.outperson,callback:function(e){t.$set(t.getemplist,"outperson",e)},expression:"getemplist.outperson"}}),t._v(" "),i("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("LogisticsCar.outnumber"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.outnumber,callback:function(e){t.$set(t.getemplist,"outnumber",e)},expression:"getemplist.outnumber"}}),t._v(" "),i("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"}},[i("el-date-picker",{staticStyle:{width:"40%",float:"left","margin-right":"20px"},attrs:{type:"datetime",placeholder:"选择出车时间","value-format":"yyyy-MM-dd HH:mm:ss",clearable:""},model:{value:t.getemplist.starttime,callback:function(e){t.$set(t.getemplist,"starttime",e)},expression:"getemplist.starttime"}}),t._v(" "),i("el-date-picker",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{type:"datetime",placeholder:"选择登记时间","value-format":"yyyy-MM-dd HH:mm:ss",clearable:""},model:{value:t.getemplist.checkintime,callback:function(e){t.$set(t.getemplist,"checkintime",e)},expression:"getemplist.checkintime"}}),t._v(" "),i("el-date-picker",{staticStyle:{width:"40%",float:"left","margin-right":"20px","margin-top":"20px"},attrs:{type:"datetime",placeholder:"选择回车时间","value-format":"yyyy-MM-dd HH:mm:ss",clearable:""},model:{value:t.getemplist.returntime,callback:function(e){t.$set(t.getemplist,"returntime",e)},expression:"getemplist.returntime"}}),t._v(" "),i("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right"}},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))])],1),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v(t._s(t.$t("public.filter"))),i("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))]),t._v(" "),i("el-dropdown",{on:{command:t.handleCommand}},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"}},[t._v("\n        "+t._s(t.$t("public.batchoperation"))+" "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticStyle:{width:"140px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"text-align":"left"},attrs:{command:"delete"}},[i("svg-icon",{staticStyle:{width:"40px"},attrs:{"icon-class":"shanchu"}}),t._v(t._s(t.$t("public.delete")))],1)],1)],1),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{loading:t.downloadLoading},on:{click:t.handleExport}},[i("svg-icon",{attrs:{"icon-class":"daochu"}}),t._v(t._s(t.$t("public.export")))],1),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-printer"},on:{click:t.handlePrint}},[t._v(t._s(t.$t("public.print")))]),t._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px",float:"right"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:t.handleAdd}},[t._v(t._s(t.$t("public.add")))])],1),t._v(" "),i("div",{staticClass:"app-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.outnumber"),resizable:!1,prop:"outNumber",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.outNumber))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.carnumber"),resizable:!1,prop:"carNumber",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.carNumber))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.licencenumber"),resizable:!1,prop:"licenceNumber",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.licenceNumber))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.outpersonid"),resizable:!1,prop:"outPersonName",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.outPersonName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.starttime"),resizable:!1,prop:"startTime",align:"center","min-width":"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.startTime))])]}}])},[t._v("t\n      ")]),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.returntime"),resizable:!1,prop:"returnTime",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.returnTime))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("LogisticsCar.createName"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.createName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("public.actions"),resizable:!1,align:"center",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){t.handleEdit(e.row)}}},[t._v(t._s(t.$t("public.edit")))]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){t.handleDelete(e.row)}}},[t._v(t._s(t.$t("public.delete")))])]}}])})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.getemplist.pagenum,limit:t.getemplist.pagesize},on:{"update:page":function(e){t.$set(t.getemplist,"pagenum",e)},"update:limit":function(e){t.$set(t.getemplist,"pagesize",e)},pagination:t.getlist}}),t._v(" "),i("my-editcar",{attrs:{control:t.editVisible,editdata:t.personalForm},on:{"update:control":function(e){t.editVisible=e},"update:editdata":function(e){t.personalForm=e},rest:t.refreshlist}})],1)])},[],!1,null,"ffcd0894",null));g.options.__file="ReturncarList.vue";e.default=g.exports},JsIE:function(t,e,i){"use strict";var n=i("z8IB");i.n(n).a},qDSh:function(t,e,i){"use strict";var n=i("4Dpq");i.n(n).a},z8IB:function(t,e,i){}}]);