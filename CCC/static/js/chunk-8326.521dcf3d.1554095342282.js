(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8326"],{"+rXa":function(t,e,a){"use strict";var l=a("YHSt");a.n(l).a},"0eKq":function(t,e,a){},"7qN1":function(t,e,a){"use strict";var l=a("0eKq");a.n(l).a},YHSt:function(t,e,a){},d8Ai:function(t,e,a){"use strict";var l=a("mxEz");a.n(l).a},jPfV:function(t,e,a){"use strict";a.r(e);var l=a("P2sY"),o=a.n(l),r=a("lvXW"),n=a("ZySA"),s=a("Mz3J"),i=a("gDS+"),c=a.n(i),d=a("6HaC"),p={components:{MyDelivery:a("nvZe").a},props:{editcontrol:{type:Boolean,default:!1},editdata:{type:Object,default:null}},data:function(){return{editVisible:this.editcontrol,personalForm:this.editdata,props:{value:"id",label:"regionName",children:"regionListVos"},regionId:[],regions:[],cities:[],provinces:[],nations:[],receiverId:"",stockControl:!1,personalrules:{factoryName:[{required:!0,message:"请输入工厂名称",trigger:"blur"}]}}},watch:{editcontrol:function(){this.editVisible=this.editcontrol},editdata:function(){var t=this;this.personalForm=this.editdata,this.receiverId=this.personalForm.receiveName,this.handlechange(this.personalForm.countryId),this.handlechange2(this.personalForm.provinceId),Object(d.c)(this.personalForm.regionId).then(function(e){if(200===e.data.ret){var a=e.data.data.content.zcc.split(",");t.regionId=a.map(function(t){return parseInt(t)})}})}},created:function(){this.getnationlist()},methods:{getnationlist:function(){var t=this;Object(d.e)().then(function(e){200===e.data.ret?t.nations=e.data.data.content:console.log("国家列表出错")}),Object(d.j)().then(function(e){200===e.data.ret?t.regions=t.tranKTree(e.data.data.content):console.log("区域列表出错")})},tranKTree:function(t){var e=this;if(t&&t.length)return t.map(function(t){return{id:t.id,regionName:t.regionName,regionListVos:e.tranKTree(t.regionListVos)}})},updatecountry:function(){this.getnationlist()},handlechange:function(t){var e=this;Object(d.g)(t).then(function(t){200===t.data.ret?e.provinces=t.data.data.content:console.log("国家选择省出错")})},handlechange2:function(t){var e=this;Object(d.d)(t).then(function(t){console.log(t),200===t.data.ret?e.cities=t.data.data.content:console.log("省选择市出错")})},handlechooseStock:function(){this.stockControl=!0},stockName:function(t){this.receiverId=t.personName,this.personalForm.receiverId=t.id},restAllForm:function(){this.personalForm={createId:3},this.receiverId=null,this.handlePersonId=null,this.workCenterId=null,this.producePlanNumber=null},handleEditok:function(){var t=this;this.personalForm.createId=3,""!==this.regionId&&null!==this.regionId&&void 0!==this.regionId&&(this.personalForm.regionId=this.regionId[this.regionId.length-1]);var e=this.personalForm;for(var a in e)""!==e[a]&&void 0!==e[a]&&null!==e[a]||delete e[a];var l=c()(e);Object(r.d)(l).then(function(e){200===e.data.ret?(t.$notify({title:"操作成功",message:"操作成功",type:"success",duration:1e3,offset:100}),Object(d.l)(t.regionId,t.personalForm.regionId).then(function(t){console.log(t)}),t.$emit("rest",!0),t.$refs.personalForm.clearValidate(),t.$refs.personalForm.resetFields(),t.$refs.personalForm2.clearValidate(),t.$refs.personalForm2.resetFields(),t.editVisible=!1):t.$notify.error({title:"错误",message:"出错了",offset:100})})},handlecancel:function(){this.$refs.personalForm.clearValidate(),this.$refs.personalForm.resetFields(),this.$refs.personalForm2.clearValidate(),this.$refs.personalForm2.resetFields(),this.editVisible=!1}}},m=(a("7qN1"),a("KHd+")),u=Object(m.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"edit",attrs:{visible:t.editVisible,editcontrol:t.editcontrol,editdata:t.editdata,"close-on-press-escape":!1,title:t.personalForm.factoryNumber+"    修改",width:"1010px",top:"-10px"},on:{"update:visible":function(e){t.editVisible=e},close:function(e){t.$emit("update:editcontrol",!1)}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[a("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[a("el-form",{ref:"personalForm",staticClass:"demo-ruleForm",attrs:{model:t.personalForm,rules:t.personalrules,inline:!0,"status-icon":"","label-width":"130px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryName"),prop:"factoryName"}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.factoryName,callback:function(e){t.$set(t.personalForm,"factoryName",e)},expression:"personalForm.factoryName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryNumber")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.factoryNumber,callback:function(e){t.$set(t.personalForm,"factoryNumber",e)},expression:"personalForm.factoryNumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryFax")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.factoryFax,callback:function(e){t.$set(t.personalForm,"factoryFax",e)},expression:"personalForm.factoryFax"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryContactName")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.factoryContactName,callback:function(e){t.$set(t.personalForm,"factoryContactName",e)},expression:"personalForm.factoryContactName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryContactPhone")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.factoryContactPhone,callback:function(e){t.$set(t.personalForm,"factoryContactPhone",e)},expression:"personalForm.factoryContactPhone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.taxNumber")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.taxNumber,callback:function(e){t.$set(t.personalForm,"taxNumber",e)},expression:"personalForm.taxNumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.accountName")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.accountName,callback:function(e){t.$set(t.personalForm,"accountName",e)},expression:"personalForm.accountName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.bankName")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.bankName,callback:function(e){t.$set(t.personalForm,"bankName",e)},expression:"personalForm.bankName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.account")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.account,callback:function(e){t.$set(t.personalForm,"account",e)},expression:"personalForm.account"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.businessRegisterNumber")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.businessRegisterNumber,callback:function(e){t.$set(t.personalForm,"businessRegisterNumber",e)},expression:"personalForm.businessRegisterNumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.productionLicense")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.productionLicense,callback:function(e){t.$set(t.personalForm,"productionLicense",e)},expression:"personalForm.productionLicense"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.unitAddress")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.unitAddress,callback:function(e){t.$set(t.personalForm,"unitAddress",e)},expression:"personalForm.unitAddress"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.unitEmail")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.unitEmail,callback:function(e){t.$set(t.personalForm,"unitEmail",e)},expression:"personalForm.unitEmail"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.stat")}},[a("el-radio-group",{staticStyle:{width:"277px","margin-left":"18px"},model:{value:t.personalForm.stat,callback:function(e){t.$set(t.personalForm,"stat",e)},expression:"personalForm.stat"}},[a("el-radio",{staticStyle:{width:"120px"},attrs:{label:1}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("停用")])],1)],1)],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("h2",{ref:"geren",staticClass:"form-name"},[t._v("物流信息")]),t._v(" "),a("div",{staticClass:"container"},[a("el-form",{ref:"personalForm2",staticClass:"demo-ruleForm",staticStyle:{"margin-left":"30px"},attrs:{model:t.personalForm,rules:t.personalrules,inline:!0,"status-icon":"","label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receiverId")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},on:{focus:t.handlechooseStock},model:{value:t.receiverId,callback:function(e){t.receiverId=e},expression:"receiverId"}}),t._v(" "),a("my-delivery",{attrs:{deliverycontrol:t.stockControl},on:{"update:deliverycontrol":function(e){t.stockControl=e},deliveryName:t.stockName}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receivePlaceCode")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.receivePlaceCode,callback:function(e){t.$set(t.personalForm,"receivePlaceCode",e)},expression:"personalForm.receivePlaceCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.countryId")}},[a("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:t.handlechange,focus:t.updatecountry},model:{value:t.personalForm.countryId,callback:function(e){t.$set(t.personalForm,"countryId",e)},expression:"personalForm.countryId"}},t._l(t.nations,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.provinceId")}},[a("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},on:{change:t.handlechange2},model:{value:t.personalForm.provinceId,callback:function(e){t.$set(t.personalForm,"provinceId",e)},expression:"personalForm.provinceId"}},t._l(t.provinces,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.cityId")}},[a("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:t.personalForm.cityId,callback:function(e){t.$set(t.personalForm,"cityId",e)},expression:"personalForm.cityId"}},t._l(t.cities,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.regionId")}},[a("el-cascader",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{options:t.regions,props:t.props,"show-all-levels":!1,"change-on-select":"",filterable:"",clearable:""},model:{value:t.regionId,callback:function(e){t.regionId=e},expression:"regionId"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receiverPhone")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.receiverPhone,callback:function(e){t.$set(t.personalForm,"receiverPhone",e)},expression:"personalForm.receiverPhone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receiverAddress")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.receiverAddress,callback:function(e){t.$set(t.personalForm,"receiverAddress",e)},expression:"personalForm.receiverAddress"}})],1)],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{position:"fixed",width:"1010px","z-index":"100",height:"74px",bottom:"0"},attrs:{shadow:"never"}},[a("div",{staticClass:"buttons",staticStyle:{float:"right","padding-bottom":"10px"}},[a("el-button",{on:{click:function(e){t.handlecancel()}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleEditok()}}},[t._v("保存")])],1)])],1)},[],!1,null,"058e4790",null);u.options.__file="MyDialog.vue";var f=u.exports,h={props:{detailcontrol:{type:Boolean,default:!1},detaildata:{type:Object,default:null}},data:function(){return{editVisible:this.detailcontrol,personalForm:this.detaildata}},watch:{detailcontrol:function(){this.editVisible=this.detailcontrol},detaildata:function(){this.personalForm=this.detaildata}},methods:{handlecancel:function(){this.editVisible=!1}}},y=(a("+rXa"),Object(m.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"edit",attrs:{visible:t.editVisible,detailcontrol:t.detailcontrol,detaildata:t.detaildata,"close-on-press-escape":!1,title:t.personalForm.factoryNumber+"    详情","append-to-body":"",width:"1010px",top:"-10px"},on:{"update:visible":function(e){t.editVisible=e},close:function(e){t.$emit("update:detailcontrol",!1)}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[a("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:t.personalForm,inline:!0,"status-icon":"","label-width":"130px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryName"),prop:"factoryName"}},[a("span",[t._v(t._s(t.personalForm.factoryName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryNumber")}},[a("span",[t._v(t._s(t.personalForm.factoryNumber))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryFax")}},[a("span",[t._v(t._s(t.personalForm.factoryFax))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryContactName")}},[a("span",[t._v(t._s(t.personalForm.factoryContactName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.factoryContactPhone")}},[a("span",[t._v(t._s(t.personalForm.factoryContactPhone))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.taxNumber")}},[a("span",[t._v(t._s(t.personalForm.taxNumber))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.accountName")}},[a("span",[t._v(t._s(t.personalForm.accountName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.bankName")}},[a("span",[t._v(t._s(t.personalForm.bankName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.account")}},[a("span",[t._v(t._s(t.personalForm.account))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.businessRegisterNumber")}},[a("span",[t._v(t._s(t.personalForm.businessRegisterNumber))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.productionLicense")}},[a("span",[t._v(t._s(t.personalForm.productionLicense))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.unitAddress")}},[a("span",[t._v(t._s(t.personalForm.unitAddress))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.unitEmail")}},[a("span",[t._v(t._s(t.personalForm.unitEmail))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.stat")}},[a("el-radio-group",{staticStyle:{width:"277px","margin-left":"18px"},attrs:{disabled:""},model:{value:t.personalForm.stat,callback:function(e){t.$set(t.personalForm,"stat",e)},expression:"personalForm.stat"}},[a("el-radio",{staticStyle:{width:"120px"},attrs:{label:1}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("停用")])],1)],1)],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("h2",{ref:"geren",staticClass:"form-name"},[t._v("物流信息")]),t._v(" "),a("div",{staticClass:"container"},[a("el-form",{staticClass:"demo-ruleForm",staticStyle:{"margin-left":"30px"},attrs:{model:t.personalForm,inline:!0,"status-icon":"","label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receiverId")}},[a("span",[t._v(t._s(t.personalForm.receiveName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receivePlaceCode")}},[a("span",[t._v(t._s(t.personalForm.receivePlaceCode))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.countryId")}},[a("span",[t._v(t._s(t.personalForm.countryNname))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.provinceId")}},[a("span",[t._v(t._s(t.personalForm.provinceName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.cityId")}},[a("span",[t._v(t._s(t.personalForm.cityName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.regionId")}},[a("span",[t._v(t._s(t.personalForm.regionName))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receiverPhone")}},[a("span",[t._v(t._s(t.personalForm.receiverPhone))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("OutFactory.receiverAddress")}},[a("span",[t._v(t._s(t.personalForm.receiverAddress))])])],1)],1)],1)],1)])],1)},[],!1,null,"5d1d2c8d",null));y.options.__file="DetailList.vue";var v=y.exports,b={name:"OutFactoryList",directives:{waves:n.a},components:{DetailList:v,MyDialog:f,Pagination:s.a},data:function(){return{detailvisible:!1,moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pageNum:1,pageSize:10},personalForm:{},editVisible:!1,date:[]}},mounted:function(){this.getlist()},methods:{getlist:function(){var t=this;this.listLoading=!0,Object(r.c)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount),setTimeout(function(){t.listLoading=!1},50)})},restFilter:function(){},handleFilter:function(){var t=this;this.getemplist.pageNum=1,Object(r.c)(this.getemplist).then(function(e){200===e.data.ret?(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount,t.restFilter()):t.restFilter()})},producechoose:function(){this.producecontrol=!0},allinfo:function(t){this.producePlanNumber=t.title,this.getemplist.producePlanNumber=t.id},workcenterchoose:function(){this.centercontrol=!0},center:function(t){console.log(t),this.workCenterId=t.workCenterName,this.getemplist.workCenterId=t.id},handlechooseStock:function(){this.stockControl=!0},stockName:function(t){this.handlePersonId=t.personName,this.getemplist.handlePersonId=t.id},handleEdit:function(t){console.log(t),this.editVisible=!0,this.personalForm=o()({},t),this.personalForm.sourceType=String(t.sourceType)},refreshlist:function(t){!0===t&&this.getlist()},handleDetail:function(t){console.log(t),this.detailvisible=!0,this.personalForm=o()({},t),this.personalForm.sourceType=String(t.sourceType)},isReview:function(t){if(console.log(t),""!==t.approvalUseVos&&null!==t.approvalUseVos&&void 0!==t.approvalUseVos&&0!==t.approvalUseVos.length){var e=t.approvalUseVos;if(this.getemplist.createPersonId===e[e.length-1].stepHandler&&(1===t.judgeStat||0===t.judgeStat))return!0}},handleSelectionChange:function(t){this.moreaction=t},handleCommand:function(t){var e=this,a=this.moreaction.map(function(t){return t.id}).join();"delete"===t&&this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r.b)(a).then(function(t){200===t.data.ret?(e.$notify({title:"删除成功",type:"success",offset:100}),e.getlist()):e.$notify.error({title:"错误",message:"出错了",offset:100})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r.b)(t.id).then(function(t){200===t.data.ret?(e.$notify({title:"删除成功",type:"success",offset:100}),e.getlist()):e.$notify.error({title:"错误",message:"出错了",offset:100})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleAdd:function(){this.$router.push("/OutFactory/AddOutFactory")},handleExport:function(){var t=this;this.downloadLoading=!0,Promise.all([a.e("chunk-ef4a"),a.e("chunk-73bb")]).then(a.bind(null,"S/jZ")).then(function(e){var a=t.formatJson(["id","OutFactoryName","OutFactoryShortName","typeName","regionName","buyerName","levelName","createName","createTime"],t.list);e.export_json_to_excel({header:["供应商编号","供应商名称","供应商简称","供应商类别","所在区域","采购员","供应商优质级别","建档人","建档日期"],data:a,filename:"经销商资料表"}),t.downloadLoading=!1})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handlePrint:function(){console.log(456)},handlechooseRep:function(){this.repositorycontrol=!0},repositoryname:function(t){console.log(t),this.enterRepositoryId=t.repositoryName,this.getemplist.enterRepositoryId=t.id},updatedept:function(){this.getlist()},handlechooseDelivery:function(){this.deliverycontrol=!0},deliveryName:function(t){this.deliveryPersonId=t.personName,this.getemplist.deliveryPersonId=t.id},handlechooseAccept:function(){this.accetpcontrol=!0},acceptName:function(t){this.acceptPersonId=t.personName,this.getemplist.acceptPersonId=t.id}}},g=(a("d8Ai"),Object(m.a)(b,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ERP-container"},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px",height:"60px"},attrs:{shadow:"never"}},[a("el-row",[a("el-form",{ref:"getemplist",staticStyle:{"margin-top":"-9px"},attrs:{model:t.getemplist,"label-width":"100px"}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"工厂编号","label-width":"100px"}},[a("el-input",{attrs:{placeholder:t.$t("OutFactory.code"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.code,callback:function(e){t.$set(t.getemplist,"code",e)},expression:"getemplist.code"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:5}},[a("el-form-item",{attrs:{label:"工厂名称"}},[a("el-input",{attrs:{placeholder:"工厂名称",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.factoryName,callback:function(e){t.$set(t.getemplist,"factoryName",e)},expression:"getemplist.factoryName"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:5}},[a("el-form-item",{attrs:{label:"工厂联系人"}},[a("el-input",{attrs:{placeholder:"工厂联系人",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.factoryContactName,callback:function(e){t.$set(t.getemplist,"factoryContactName",e)},expression:"getemplist.factoryContactName"}})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:3}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))])],1)],1)],1)],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("el-dropdown",{on:{command:t.handleCommand}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0"},attrs:{type:"primary"}},[t._v("\n        "+t._s(t.$t("public.batchoperation"))+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{staticStyle:{width:"140px"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticStyle:{"text-align":"left"},attrs:{command:"delete"}},[a("svg-icon",{staticStyle:{width:"40px"},attrs:{"icon-class":"shanchu"}}),t._v(t._s(t.$t("public.delete")))],1)],1)],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{loading:t.downloadLoading},on:{click:t.handleExport}},[a("svg-icon",{attrs:{"icon-class":"daochu"}}),t._v(t._s(t.$t("public.export")))],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-printer"},on:{click:t.handlePrint}},[t._v(t._s(t.$t("public.print")))]),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:t.handleAdd}},[t._v(t._s(t.$t("public.add")))])],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("OutFactory.factoryNumber"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"link-type",on:{click:function(a){t.handleDetail(e.row)}}},[t._v(t._s(e.row.factoryNumber))])]}}])},[a("detail-list",{attrs:{detailcontrol:t.detailvisible,detaildata:t.personalForm},on:{"update:detailcontrol":function(e){t.detailvisible=e},"update:detaildata":function(e){t.personalForm=e}}})],1),t._v(" "),a("el-table-column",{attrs:{label:t.$t("OutFactory.factoryName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.factoryName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("OutFactory.factoryContactPhone"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.factoryContactPhone))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("OutFactory.factoryFax"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.factoryFax))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("OutFactory.factoryContactName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.factoryContactName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("OutFactory.factoryContactPhone"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.factoryContactPhone))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("OutFactory.unitAddress"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.unitAddress))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("public.createDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("public.createPersonName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("public.actions"),resizable:!1,align:"center","min-width":"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{title:"修改",type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(a){t.handleEdit(e.row)}}}),t._v(" "),a("el-button",{attrs:{title:"删除",size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.getemplist.pagenum,limit:t.getemplist.pagesize},on:{"update:page":function(e){t.$set(t.getemplist,"pagenum",e)},"update:limit":function(e){t.$set(t.getemplist,"pagesize",e)},pagination:t.getlist}}),t._v(" "),a("my-dialog",{attrs:{editcontrol:t.editVisible,editdata:t.personalForm},on:{"update:editcontrol":function(e){t.editVisible=e},"update:editdata":function(e){t.personalForm=e},rest:t.refreshlist}})],1)],1)},[],!1,null,"5a6e3696",null));g.options.__file="OutFactoryList.vue";e.default=g.exports},mxEz:function(t,e,a){}}]);